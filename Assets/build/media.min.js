function levenshtein(t,e){var i;if(0===t.length)return e.length;if(0===e.length)return t.length;t.length>e.length&&(i=t,t=e,e=i);var n,r,s,o=t.length,a=e.length,l=Array(o);for(n=0;n<=o;n++)l[n]=n;for(n=1;n<=a;n++)for(s=n,r=1;r<=o;r++)i=l[r-1],l[r-1]=s,s=e[n-1]===t[r-1]?i:Math.min(i+1,Math.min(s+1,l[r]+1));return s}!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.JSZip=t()}}(function(){return function r(s,o,a){function l(i,t){if(!o[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(d)return d(i,!0);throw new Error("Cannot find module '"+i+"'")}var n=o[i]={exports:{}};s[i][0].call(n.exports,function(t){var e=s[i][1][t];return l(e||t)},n,n.exports,r,s,o,a)}return o[i].exports}for(var d="function"==typeof require&&require,t=0;t<a.length;t++)l(a[t]);return l}({1:[function(t,e,i){"use strict";var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t){for(var e,i,n,r,s,o,a,l="",d=0;d<t.length;)r=(e=t.charCodeAt(d++))>>2,s=(3&e)<<4|(i=t.charCodeAt(d++))>>4,o=(15&i)<<2|(n=t.charCodeAt(d++))>>6,a=63&n,isNaN(i)?o=a=64:isNaN(n)&&(a=64),l=l+h.charAt(r)+h.charAt(s)+h.charAt(o)+h.charAt(a);return l},i.decode=function(t){var e,i,n,r,s,o,a="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)e=h.indexOf(t.charAt(l++))<<2|(r=h.indexOf(t.charAt(l++)))>>4,i=(15&r)<<4|(s=h.indexOf(t.charAt(l++)))>>2,n=(3&s)<<6|(o=h.indexOf(t.charAt(l++))),a+=String.fromCharCode(e),64!=s&&(a+=String.fromCharCode(i)),64!=o&&(a+=String.fromCharCode(n));return a}},{}],2:[function(t,e){"use strict";function i(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}i.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=i},{}],3:[function(t,e,i){"use strict";i.STORE={magic:"\0\0",compress:function(t){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},i.DEFLATE=t("./flate")},{"./flate":8}],4:[function(t,e){"use strict";var o=t("./utils"),a=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if(void 0===t||!t.length)return 0;var i="string"!==o.getTypeOf(t);void 0===e&&(e=0);var n=0;e^=-1;for(var r=0,s=t.length;r<s;r++)n=i?t[r]:t.charCodeAt(r),e=e>>>8^a[255&(e^n)];return-1^e}},{"./utils":21}],5:[function(t,e){"use strict";function i(){this.data=null,this.length=0,this.index=0}var n=t("./utils");i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=i},{"./utils":21}],6:[function(t,e,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!1,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],7:[function(t,e,i){"use strict";var n=t("./utils");i.string2binary=function(t){return n.string2binary(t)},i.string2Uint8Array=function(t){return n.transformTo("uint8array",t)},i.uint8Array2String=function(t){return n.transformTo("string",t)},i.string2Blob=function(t){var e=n.transformTo("arraybuffer",t);return n.arrayBuffer2Blob(e)},i.arrayBuffer2Blob=function(t){return n.arrayBuffer2Blob(t)},i.transformTo=function(t,e){return n.transformTo(t,e)},i.getTypeOf=function(t){return n.getTypeOf(t)},i.checkSupport=function(t){return n.checkSupport(t)},i.MAX_VALUE_16BITS=n.MAX_VALUE_16BITS,i.MAX_VALUE_32BITS=n.MAX_VALUE_32BITS,i.pretty=function(t){return n.pretty(t)},i.findCompression=function(t){return n.findCompression(t)},i.isRegExp=function(t){return n.isRegExp(t)}},{"./utils":21}],8:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako");i.uncompressInputType=n?"uint8array":"array",i.compressInputType=n?"uint8array":"array",i.magic="\b\0",i.compress=function(t,e){return r.deflateRaw(t,{level:e.level||-1})},i.uncompress=function(t){return r.inflateRaw(t)}},{pako:24}],9:[function(t,e){"use strict";function i(t,e){return this instanceof i?(this.files={},this.comment=null,this.root="",t&&this.load(t,e),void(this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t})):new i(t,e)}var n=t("./base64");(i.prototype=t("./object")).load=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.utils=t("./deprecatedPublicUtils"),i.base64={encode:function(t){return n.encode(t)},decode:function(t){return n.decode(t)}},i.compressions=t("./compressions"),e.exports=i},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(t,e){"use strict";var o=t("./base64"),a=t("./zipEntries");e.exports=function(t,e){var i,n,r,s;for((e=e||{}).base64&&(t=o.decode(t)),i=(n=new a(t,e)).files,r=0;r<i.length;r++)s=i[r],this.file(s.fileName,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileComment.length?s.fileComment:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders});return n.zipComment.length&&(this.comment=n.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(t,e){(function(i){"use strict";e.exports=function(t,e){return new i(t,e)},e.exports.test=function(t){return i.isBuffer(t)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(t,e){"use strict";function i(t){this.data=t,this.length=this.data.length,this.index=0}var n=t("./uint8ArrayReader");(i.prototype=new n).readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=i},{"./uint8ArrayReader":18}],13:[function(t,e){"use strict";var i=t("./support"),T=t("./utils"),S=t("./crc32"),I=t("./signature"),a=t("./defaults"),b=t("./base64"),y=t("./compressions"),l=t("./compressedObject"),n=t("./nodeBuffer"),k=t("./utf8"),v=t("./stringWriter"),_=t("./uint8ArrayWriter"),r=function(t){if(t._data instanceof l&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===T.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},s=function(t){var e=r(t);return"string"===T.getTypeOf(e)?!t.options.binary&&i.nodebuffer?n(e,"utf-8"):t.asBinary():e},o=function(t){var e=r(this);return null==e?"":(this.options.base64&&(e=b.decode(e)),e=t&&this.options.binary?f.utf8decode(e):T.transformTo("string",e),t||this.options.binary||(e=T.transformTo("string",f.utf8encode(e))),e)},d=function(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this.options=i,this._initialMetadata={dir:i.dir,date:i.date}};d.prototype={asText:function(){return o.call(this,!0)},asBinary:function(){return o.call(this,!1)},asNodeBuffer:function(){var t=s(this);return T.transformTo("nodebuffer",t)},asUint8Array:function(){var t=s(this);return T.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var D=function(t,e){var i,n="";for(i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n},w=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i},h=function(t,e,i){var n,r,s=T.getTypeOf(e);if(!0!==(r=(r=i)||{}).base64||null!==r.binary&&void 0!==r.binary||(r.binary=!0),(r=w(r,a)).date=r.date||new Date,null!==r.compression&&(r.compression=r.compression.toUpperCase()),"string"==typeof(i=r).unixPermissions&&(i.unixPermissions=parseInt(i.unixPermissions,8)),i.unixPermissions&&16384&i.unixPermissions&&(i.dir=!0),i.dosPermissions&&16&i.dosPermissions&&(i.dir=!0),i.dir&&(t=c(t)),i.createFolders&&(n=u(t))&&p.call(this,n,!0),i.dir||null==e)i.base64=!1,i.binary=!1,s=e=null;else if("string"===s)i.binary&&!i.base64&&!0!==i.optimizedBinaryString&&(e=T.string2binary(e));else{if(i.base64=!1,i.binary=!0,!(s||e instanceof l))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===s&&(e=T.transformTo("uint8array",e))}var o=new d(t,e,i);return this.files[t]=o},u=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},c=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},p=function(t,e){return e=void 0!==e&&e,t=c(t),this.files[t]||h.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},x=function(t,e,i){var n,r=new l;return t._data instanceof l?(r.uncompressedSize=t._data.uncompressedSize,r.crc32=t._data.crc32,0===r.uncompressedSize||t.dir?(e=y.STORE,r.compressedContent="",r.crc32=0):t._data.compressionMethod===e.magic?r.compressedContent=t._data.getCompressedContent():(n=t._data.getContent(),r.compressedContent=e.compress(T.transformTo(e.compressInputType,n),i))):((!(n=s(t))||0===n.length||t.dir)&&(e=y.STORE,n=""),r.uncompressedSize=n.length,r.crc32=S(n),r.compressedContent=e.compress(T.transformTo(e.compressInputType,n),i)),r.compressedSize=r.compressedContent.length,r.compressionMethod=e.magic,r},C=function(t,e,i,n,r){var s,o,a,l,d=(i.compressedContent,T.transformTo("string",k.utf8encode(e.name))),h=e.comment||"",u=T.transformTo("string",k.utf8encode(h)),c=d.length!==e.name.length,p=u.length!==h.length,f=e.options,m="",g="",b="";a=e._initialMetadata.dir!==e.dir?e.dir:f.dir,l=e._initialMetadata.date!==e.date?e.date:f.date;var y,v,_,w=0,x=0;a&&(w|=16),"UNIX"===r?(x=798,w|=(y=e.unixPermissions,v=a,(_=y)||(_=v?16893:33204),(65535&_)<<16)):(x=20,w|=63&(e.dosPermissions||0)),s=l.getHours(),s<<=6,s|=l.getMinutes(),s<<=5,s|=l.getSeconds()/2,o=l.getFullYear()-1980,o<<=4,o|=l.getMonth()+1,o<<=5,o|=l.getDate(),c&&(g=D(1,1)+D(S(d),4)+d,m+="up"+D(g.length,2)+g),p&&(b=D(1,1)+D(this.crc32(u),4)+u,m+="uc"+D(b.length,2)+b);var C="";return C+="\n\0",C+=c||p?"\0\b":"\0\0",C+=i.compressionMethod,C+=D(s,2),C+=D(o,2),C+=D(i.crc32,4),C+=D(i.compressedSize,4),C+=D(i.uncompressedSize,4),C+=D(d.length,2),C+=D(m.length,2),{fileRecord:I.LOCAL_FILE_HEADER+C+d+m,dirRecord:I.CENTRAL_FILE_HEADER+D(x,2)+C+D(u.length,2)+"\0\0\0\0"+D(w,4)+D(n,4)+d+m+u,compressedObject:i}},f={load:function(){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,i,n,r,s=[];for(e in this.files)this.files.hasOwnProperty(e)&&(n=this.files[e],r=new d(n.name,n._data,w(n.options)),i=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(i,r)&&s.push(r));return s},file:function(i,t,e){if(1!==arguments.length)return i=this.root+i,h.call(this,i,t,e),this;if(T.isRegExp(i)){var n=i;return this.filter(function(t,e){return!e.dir&&n.test(t)})}return this.filter(function(t,e){return!e.dir&&t===i})[0]||null},folder:function(i){if(!i)return this;if(T.isRegExp(i))return this.filter(function(t,e){return e.dir&&i.test(t)});var t=this.root+i,e=p.call(this,t),n=this.clone();return n.root=e.name,n},remove:function(i){i=this.root+i;var t=this.files[i];if(t||("/"!=i.slice(-1)&&(i+="/"),t=this.files[i]),t&&!t.dir)delete this.files[i];else for(var e=this.filter(function(t,e){return e.name.slice(0,i.length)===i}),n=0;n<e.length;n++)delete this.files[e[n].name];return this},generate:function(t){t=w(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"}),T.checkSupport(t.type),("darwin"===t.platform||"freebsd"===t.platform||"linux"===t.platform||"sunos"===t.platform)&&(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,i,n=[],r=0,s=0,o=T.transformTo("string",this.utf8encode(t.comment||this.comment||""));for(var a in this.files)if(this.files.hasOwnProperty(a)){var l=this.files[a],d=l.options.compression||t.compression.toUpperCase(),h=y[d];if(!h)throw new Error(d+" is not a valid compression method !");var u=l.options.compressionOptions||t.compressionOptions||{},c=x.call(this,l,h,u),p=C.call(this,a,l,c,r,t.platform);r+=p.fileRecord.length+c.compressedSize,s+=p.dirRecord.length,n.push(p)}var f;f=I.CENTRAL_DIRECTORY_END+"\0\0\0\0"+D(n.length,2)+D(n.length,2)+D(s,4)+D(r,4)+D(o.length,2)+o;var m=t.type.toLowerCase();for(e="uint8array"===m||"arraybuffer"===m||"blob"===m||"nodebuffer"===m?new _(r+s+f.length):new v(r+s+f.length),i=0;i<n.length;i++)e.append(n[i].fileRecord),e.append(n[i].compressedObject.compressedContent);for(i=0;i<n.length;i++)e.append(n[i].dirRecord);e.append(f);var g=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return T.transformTo(t.type.toLowerCase(),g);case"blob":return T.arrayBuffer2Blob(T.transformTo("arraybuffer",g),t.mimeType);case"base64":return t.base64?b.encode(g):g;default:return g}},crc32:function(t,e){return S(t,e)},utf8encode:function(t){return T.transformTo("string",k.utf8encode(t))},utf8decode:function(t){return k.utf8decode(t)}};e.exports=f},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(t,e,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],15:[function(t,e){"use strict";function i(t,e){this.data=t,e||(this.data=r.string2binary(this.data)),this.length=this.data.length,this.index=0}var n=t("./dataReader"),r=t("./utils");(i.prototype=new n).byteAt=function(t){return this.data.charCodeAt(t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=i},{"./dataReader":5,"./utils":21}],16:[function(t,e){"use strict";var i=t("./utils"),n=function(){this.data=[]};n.prototype={append:function(t){t=i.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=n},{"./utils":21}],17:[function(t,e,n){(function(t){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==t,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var e=new ArrayBuffer(0);try{n.blob=0===new Blob([e],{type:"application/zip"}).size}catch(t){try{var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);i.append(e),n.blob=0===i.getBlob("application/zip").size}catch(t){n.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],18:[function(t,e){"use strict";function i(t){t&&(this.data=t,this.length=this.data.length,this.index=0)}var n=t("./dataReader");(i.prototype=new n).byteAt=function(t){return this.data[t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),n=t.charCodeAt(2),r=t.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===e&&this.data[s+1]===i&&this.data[s+2]===n&&this.data[s+3]===r)return s;return-1},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.index,this.index+t);return this.index+=t,e},e.exports=i},{"./dataReader":5}],19:[function(t,e){"use strict";var i=t("./utils"),n=function(t){this.data=new Uint8Array(t),this.index=0};n.prototype={append:function(t){0!==t.length&&(t=i.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=n},{"./utils":21}],20:[function(t,e,i){"use strict";for(var a=t("./utils"),l=t("./support"),n=t("./nodeBuffer"),d=new Array(256),r=0;r<256;r++)d[r]=252<=r?6:248<=r?5:240<=r?4:224<=r?3:192<=r?2:1;d[254]=d[254]=1;var s=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+d[t[i]]>e?i:e},o=function(t){var e,i,n,r,s=t.length,o=new Array(2*s);for(e=i=0;e<s;)if((n=t[e++])<128)o[i++]=n;else if(4<(r=d[n]))o[i++]=65533,e+=r-1;else{for(n&=2===r?31:3===r?15:7;1<r&&e<s;)n=n<<6|63&t[e++],r--;o[i++]=1<r?65533:n<65536?n:(n-=65536,o[i++]=55296|n>>10&1023,56320|1023&n)}return o.length!==i&&(o.subarray?o=o.subarray(0,i):o.length=i),a.applyFromCharCode(o)};i.utf8encode=function(t){return l.nodebuffer?n(t,"utf-8"):function(t){var e,i,n,r,s,o=t.length,a=0;for(r=0;r<o;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),a+=i<128?1:i<2048?2:i<65536?3:4;for(e=l.uint8array?new Uint8Array(a):new Array(a),r=s=0;s<a;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),e[s++]=i<128?i:(e[s++]=i<2048?192|i>>>6:(e[s++]=i<65536?224|i>>>12:(e[s++]=240|i>>>18,128|i>>>12&63),128|i>>>6&63),128|63&i);return e}(t)},i.utf8decode=function(t){if(l.nodebuffer)return a.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],i=0,n=(t=a.transformTo(l.uint8array?"uint8array":"array",t)).length;i<n;){var r=s(t,Math.min(i+65536,n));e.push(l.uint8array?o(t.subarray(i,r)):o(t.slice(i,r))),i=r}return e.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(t,e,d){"use strict";function i(t){return t}function n(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}function r(t){var e=65536,i=[],n=t.length,r=d.getTypeOf(t),s=0,o=!0;try{switch(r){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,h(0))}}catch(t){o=!1}if(!o){for(var a="",l=0;l<t.length;l++)a+=String.fromCharCode(t[l]);return a}for(;s<n&&1<e;)try{i.push("array"===r||"nodebuffer"===r?String.fromCharCode.apply(null,t.slice(s,Math.min(s+e,n))):String.fromCharCode.apply(null,t.subarray(s,Math.min(s+e,n)))),s+=e}catch(t){e=Math.floor(e/2)}return i.join("")}function s(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}var o=t("./support"),a=t("./compressions"),h=t("./nodeBuffer");d.string2binary=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i));return e},d.arrayBuffer2Blob=function(e,i){d.checkSupport("blob"),i=i||"application/zip";try{return new Blob([e],{type:i})}catch(t){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return n.append(e),n.getBlob(i)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},d.applyFromCharCode=r;var l={};l.string={string:i,array:function(t){return n(t,new Array(t.length))},arraybuffer:function(t){return l.string.uint8array(t).buffer},uint8array:function(t){return n(t,new Uint8Array(t.length))},nodebuffer:function(t){return n(t,h(t.length))}},l.array={string:r,array:i,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return h(t)}},l.arraybuffer={string:function(t){return r(new Uint8Array(t))},array:function(t){return s(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:i,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return h(new Uint8Array(t))}},l.uint8array={string:r,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:i,nodebuffer:function(t){return h(t)}},l.nodebuffer={string:r,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return l.nodebuffer.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:i},d.transformTo=function(t,e){if(e||(e=""),!t)return e;d.checkSupport(t);var i=d.getTypeOf(e);return l[i][t](e)},d.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":o.nodebuffer&&h.test(t)?"nodebuffer":o.uint8array&&t instanceof Uint8Array?"uint8array":o.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},d.checkSupport=function(t){if(!o[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},d.MAX_VALUE_16BITS=65535,d.MAX_VALUE_32BITS=-1,d.pretty=function(t){var e,i,n="";for(i=0;i<(t||"").length;i++)n+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return n},d.findCompression=function(t){for(var e in a)if(a.hasOwnProperty(e)&&a[e].magic===t)return a[e];return null},d.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(t,e){"use strict";function i(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var n=t("./stringReader"),r=t("./nodeBufferReader"),s=t("./uint8ArrayReader"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),d=t("./support"),h=t("./object");i.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=h.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===a.CENTRAL_FILE_HEADER;)(t=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(-1===t){var e=!0;try{this.reader.setIndex(0),this.checkSignature(a.LOCAL_FILE_HEADER),e=!1}catch(t){}throw new Error(e?"Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html":"Corrupted zip : can't find end of central directory")}if(this.reader.setIndex(t),this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,-1===(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR)))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(t){var e=o.getTypeOf(t);this.reader="string"!==e||d.uint8array?"nodebuffer"===e?new r(t):new s(o.transformTo("uint8array",t)):new n(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=i},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(t,e){"use strict";function i(t,e){this.options=t,this.loadOptions=e}var n=t("./stringReader"),s=t("./utils"),r=t("./compressedObject"),o=t("./object");i.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(i,n,r){return function(){var t=i.index;i.setIndex(n);var e=i.readData(r);return i.setIndex(t),e}},prepareContent:function(t,e,i,n,r){return function(){var t=s.transformTo(n.uncompressInputType,this.getCompressedContent()),e=n.uncompress(t);if(e.length!==r)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readString(this.fileNameLength),t.skip(i),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=s.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new r,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=s.transformTo("string",this.decompressed.getContent()),o.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readString(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=new n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,i,n,r=t.index;for(this.extraFields=this.extraFields||{};t.index<r+this.extraFieldsLength;)e=t.readInt(2),i=t.readInt(2),n=t.readString(i),this.extraFields[e]={id:e,length:i,value:n}},handleUTF8:function(){if(this.useUTF8())this.fileName=o.utf8decode(this.fileName),this.fileComment=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();null!==t&&(this.fileName=t);var e=this.findExtraFieldUnicodeComment();null!==e&&(this.fileComment=e)}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new n(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new n(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null}},e.exports=i},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(t,e){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(t,e,i){"use strict";function n(t,e){var i=new d(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}var o=t("./zlib/deflate.js"),a=t("./utils/common"),l=t("./utils/strings"),r=t("./zlib/messages"),s=t("./zlib/zstream"),d=function(t){this.options=a.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=o.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==i)throw new Error(r[i]);e.header&&o.deflateSetHeader(this.strm,e.header)};d.prototype.push=function(t,e){var i,n,r=this.strm,s=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,r.input="string"==typeof t?l.string2buf(t):t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new a.Buf8(s),r.next_out=0,r.avail_out=s),1!==(i=o.deflate(r,n))&&0!==i)return this.onEnd(i),!(this.ended=!0);(0===r.avail_out||0===r.avail_in&&4===n)&&this.onData("string"===this.options.to?l.buf2binstring(a.shrinkBuf(r.output,r.next_out)):a.shrinkBuf(r.output,r.next_out))}while((0<r.avail_in||0===r.avail_out)&&1!==i);return 4!==n||(i=o.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){0===t&&(this.result="string"===this.options.to?this.chunks.join(""):a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=d,i.deflate=n,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,n(t,e)}},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(t,e,i){"use strict";function n(t,e){var i=new a(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}var d=t("./zlib/inflate.js"),h=t("./utils/common"),u=t("./utils/strings"),c=t("./zlib/constants"),r=t("./zlib/messages"),s=t("./zlib/zstream"),o=t("./zlib/gzheader"),a=function(t){this.options=h.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=d.inflateInit2(this.strm,e.windowBits);if(i!==c.Z_OK)throw new Error(r[i]);this.header=new o,d.inflateGetHeader(this.strm,this.header)};a.prototype.push=function(t,e){var i,n,r,s,o,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?c.Z_FINISH:c.Z_NO_FLUSH,a.input="string"==typeof t?u.binstring2buf(t):t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new h.Buf8(l),a.next_out=0,a.avail_out=l),(i=d.inflate(a,c.Z_NO_FLUSH))!==c.Z_STREAM_END&&i!==c.Z_OK)return this.onEnd(i),!(this.ended=!0);a.next_out&&(0===a.avail_out||i===c.Z_STREAM_END||0===a.avail_in&&n===c.Z_FINISH)&&("string"===this.options.to?(r=u.utf8border(a.output,a.next_out),s=a.next_out-r,o=u.buf2string(a.output,r),a.next_out=s,a.avail_out=l-s,s&&h.arraySet(a.output,a.output,r,s,0),this.onData(o)):this.onData(h.shrinkBuf(a.output,a.next_out)))}while(0<a.avail_in&&i!==c.Z_STREAM_END);return i===c.Z_STREAM_END&&(n=c.Z_FINISH),n!==c.Z_FINISH||(i=d.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c.Z_OK)},a.prototype.onData=function(t){this.chunks.push(t)},a.prototype.onEnd=function(t){t===c.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):h.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=a,i.inflate=n,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},i.ungzip=n},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,i,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),r);else for(var s=0;s<n;s++)t[r+s]=e[i+s]},flattenChunks:function(t){var e,i,n,r,s,o;for(e=n=0,i=t.length;e<i;e++)n+=t[e].length;for(o=new Uint8Array(n),e=r=0,i=t.length;e<i;e++)s=t[e],o.set(s,r),r+=s.length;return o}},s={arraySet:function(t,e,i,n,r){for(var s=0;s<n;s++)t[r+s]=e[i+s]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(n)},{}],28:[function(t,e,i){"use strict";function l(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&r))return String.fromCharCode.apply(null,d.shrinkBuf(t,e));for(var i="",n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i}var d=t("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var h=new d.Buf8(256),n=0;n<256;n++)h[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;h[254]=h[254]=1,i.string2buf=function(t){var e,i,n,r,s,o=t.length,a=0;for(r=0;r<o;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<o&&(56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(e=new d.Buf8(a),r=s=0;s<a;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<o&&(56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++)),e[s++]=i<128?i:(e[s++]=i<2048?192|i>>>6:(e[s++]=i<65536?224|i>>>12:(e[s++]=240|i>>>18,128|i>>>12&63),128|i>>>6&63),128|63&i);return e},i.buf2binstring=function(t){return l(t,t.length)},i.binstring2buf=function(t){for(var e=new d.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,n,r,s,o=e||t.length,a=new Array(2*o);for(i=n=0;i<o;)if((r=t[i++])<128)a[n++]=r;else if(4<(s=h[r]))a[n++]=65533,i+=s-1;else{for(r&=2===s?31:3===s?15:7;1<s&&i<o;)r=r<<6|63&t[i++],s--;a[n++]=1<s?65533:r<65536?r:(r-=65536,a[n++]=55296|r>>10&1023,56320|1023&r)}return l(a,n)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+h[t[i]]>e?i:e}},{"./common":27}],29:[function(t,e){"use strict";e.exports=function(t,e,i,n){for(var r=65535&t|0,s=t>>>16&65535|0,o=0;0!==i;){for(i-=o=2e3<i?2e3:i;s=s+(r=r+e[n++]|0)|0,--o;);r%=65521,s%=65521}return r|s<<16|0}},{}],30:[function(t,e){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(t,e){"use strict";var a=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,n){var r=a,s=n+i;t^=-1;for(var o=n;o<s;o++)t=t>>>8^r[255&(t^e[o])];return-1^t}},{}],32:[function(t,e,i){"use strict";function l(t,e){return t.msg=C[e],e}function d(t){return(t<<1)-(4<t?9:0)}function h(t){for(var e=t.length;0<=--e;)t[e]=0}function u(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(v.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function c(t,e){_._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,u(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function f(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function s(t,e){var i,n,r=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-z?t.strstart-(t.w_size-z):0,d=t.window,h=t.w_mask,u=t.prev,c=t.strstart+H,p=d[s+o-1],f=d[s+o];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(d[(i=e)+o]===f&&d[i+o-1]===p&&d[i]===d[s]&&d[++i]===d[s+1]){s+=2,i++;do{}while(d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&s<c);if(n=H-(c-s),s=c-H,o<n){if(t.match_start=e,a<=(o=n))break;p=d[s+o-1],f=d[s+o]}}}while((e=u[e&h])>l&&0!=--r);return o<=t.lookahead?o:t.lookahead}function m(t){var e,i,n,r,s,o,a,l,d,h,u=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=u+(u-z)){for(v.arraySet(t.window,t.window,u,u,0),t.match_start-=u,t.strstart-=u,t.block_start-=u,e=i=t.hash_size;n=t.head[--e],t.head[e]=u<=n?n-u:0,--i;);for(e=i=u;n=t.prev[--e],t.prev[e]=u<=n?n-u:0,--i;);r+=u}if(0===t.strm.avail_in)break;if(o=t.strm,a=t.window,l=t.strstart+t.lookahead,d=r,h=void 0,h=o.avail_in,d<h&&(h=d),i=0===h?0:(o.avail_in-=h,v.arraySet(a,o.input,o.next_in,h,l),1===o.state.wrap?o.adler=w(o.adler,a,h,l):2===o.state.wrap&&(o.adler=x(o.adler,a,h,l)),o.next_in+=h,o.total_in+=h,h),t.lookahead+=i,t.lookahead+t.insert>=P)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+P-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<P)););}while(t.lookahead<z&&0!==t.strm.avail_in)}function n(t,e){for(var i,n;;){if(t.lookahead<z){if(m(t),t.lookahead<z&&e===T)return W;if(0===t.lookahead)break}if(i=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-z&&(t.match_length=s(t,i)),t.match_length>=P)if(n=_._tr_tally(t,t.strstart-t.match_start,t.match_length-P),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=P){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(c(t,!1),0===t.strm.avail_out))return W}return t.insert=t.strstart<P-1?t.strstart:P-1,e===S?(c(t,!0),0===t.strm.avail_out?U:Q):t.last_lit&&(c(t,!1),0===t.strm.avail_out)?W:q}function r(t,e){for(var i,n,r;;){if(t.lookahead<z){if(m(t),t.lookahead<z&&e===T)return W;if(0===t.lookahead)break}if(i=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=P-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-z&&(t.match_length=s(t,i),t.match_length<=5&&(1===t.strategy||t.match_length===P&&4096<t.strstart-t.match_start)&&(t.match_length=P-1)),t.prev_length>=P&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-P,n=_._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-P),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=P-1,t.strstart++,n&&(c(t,!1),0===t.strm.avail_out))return W}else if(t.match_available){if((n=_._tr_tally(t,0,t.window[t.strstart-1]))&&c(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return W}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=_._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<P-1?t.strstart:P-1,e===S?(c(t,!0),0===t.strm.avail_out?U:Q):t.last_lit&&(c(t,!1),0===t.strm.avail_out)?W:q}function g(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(2*L),this.dyn_dtree=new v.Buf16(2*(2*B+1)),this.bl_tree=new v.Buf16(2*(2*O+1)),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(j+1),this.heap=new v.Buf16(2*R+1),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(2*R+1),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function o(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=F,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?M:V,t.adler=2===e.wrap?0:1,e.last_flush=T,_._tr_init(e),I):l(t,k)}function b(t){var e,i=o(t);return i===I&&((e=t.state).window_size=2*e.w_size,h(e.head),e.max_lazy_match=y[e.level].max_lazy,e.good_match=y[e.level].good_length,e.nice_match=y[e.level].nice_length,e.max_chain_length=y[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=P-1,e.match_available=0,e.ins_h=0),i}function a(t,e,i,n,r,s){if(!t)return k;var o=1;if(e===D&&(e=6),n<0?(o=0,n=-n):15<n&&(o=2,n-=16),r<1||N<r||i!==E||n<8||15<n||e<0||9<e||s<0||A<s)return l(t,k);8===n&&(n=9);var a=new g;return(t.state=a).strm=t,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+P-1)/P),a.window=new v.Buf8(2*a.w_size),a.head=new v.Buf16(a.hash_size),a.prev=new v.Buf16(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new v.Buf8(a.pending_buf_size),a.d_buf=a.lit_bufsize>>1,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=s,a.method=i,b(t)}var y,v=t("../utils/common"),_=t("./trees"),w=t("./adler32"),x=t("./crc32"),C=t("./messages"),T=0,S=4,I=0,k=-2,D=-1,A=4,F=2,E=8,N=9,R=286,B=30,O=19,L=2*R+1,j=15,P=3,H=258,z=H+P+1,M=42,V=113,W=1,q=2,U=3,Q=4,J=function(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r};y=[new J(0,0,0,0,function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(m(t),0===t.lookahead&&e===T)return W;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,c(t,!1),0===t.strm.avail_out))return W;if(t.strstart-t.block_start>=t.w_size-z&&(c(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===S?(c(t,!0),0===t.strm.avail_out?U:Q):(t.strstart>t.block_start&&(c(t,!1),t.strm.avail_out),W)}),new J(4,4,8,4,n),new J(4,5,16,8,n),new J(4,6,32,32,n),new J(4,4,16,16,r),new J(8,16,32,32,r),new J(8,16,128,128,r),new J(8,32,128,256,r),new J(32,128,258,1024,r),new J(32,258,258,4096,r)],i.deflateInit=function(t,e){return a(t,e,E,15,8,0)},i.deflateInit2=a,i.deflateReset=b,i.deflateResetKeep=o,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?k:(t.state.gzhead=e,I):k},i.deflate=function(t,e){var i,n,r,s;if(!t||!t.state||5<e||e<0)return t?l(t,k):k;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&e!==S)return l(t,0===t.avail_out?-5:k);if(n.strm=t,i=n.last_flush,n.last_flush=e,n.status===M)if(2===n.wrap)t.adler=0,p(n,31),p(n,139),p(n,8),n.gzhead?(p(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),p(n,255&n.gzhead.time),p(n,n.gzhead.time>>8&255),p(n,n.gzhead.time>>16&255),p(n,n.gzhead.time>>24&255),p(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),p(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(p(n,255&n.gzhead.extra.length),p(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=x(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(p(n,0),p(n,0),p(n,0),p(n,0),p(n,0),p(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),p(n,3),n.status=V);else{var o=E+(n.w_bits-8<<4)<<8;o|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(o|=32),o+=31-o%31,n.status=V,f(n,o),0!==n.strstart&&(f(n,t.adler>>>16),f(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(r=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>r&&(t.adler=x(t.adler,n.pending_buf,n.pending-r,r)),u(t),r=n.pending,n.pending!==n.pending_buf_size));)p(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>r&&(t.adler=x(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=x(t.adler,n.pending_buf,n.pending-r,r)),u(t),r=n.pending,n.pending===n.pending_buf_size)){s=1;break}p(n,s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0)}while(0!==s);n.gzhead.hcrc&&n.pending>r&&(t.adler=x(t.adler,n.pending_buf,n.pending-r,r)),0===s&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=x(t.adler,n.pending_buf,n.pending-r,r)),u(t),r=n.pending,n.pending===n.pending_buf_size)){s=1;break}p(n,s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0)}while(0!==s);n.gzhead.hcrc&&n.pending>r&&(t.adler=x(t.adler,n.pending_buf,n.pending-r,r)),0===s&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&u(t),n.pending+2<=n.pending_buf_size&&(p(n,255&t.adler),p(n,t.adler>>8&255),t.adler=0,n.status=V)):n.status=V),0!==n.pending){if(u(t),0===t.avail_out)return n.last_flush=-1,I}else if(0===t.avail_in&&d(e)<=d(i)&&e!==S)return l(t,-5);if(666===n.status&&0!==t.avail_in)return l(t,-5);if(0!==t.avail_in||0!==n.lookahead||e!==T&&666!==n.status){var a=2===n.strategy?function(t,e){for(var i;;){if(0===t.lookahead&&(m(t),0===t.lookahead)){if(e===T)return W;break}if(t.match_length=0,i=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(c(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===S?(c(t,!0),0===t.strm.avail_out?U:Q):t.last_lit&&(c(t,!1),0===t.strm.avail_out)?W:q}(n,e):3===n.strategy?function(t,e){for(var i,n,r,s,o=t.window;;){if(t.lookahead<=H){if(m(t),t.lookahead<=H&&e===T)return W;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=P&&0<t.strstart&&(n=o[r=t.strstart-1])===o[++r]&&n===o[++r]&&n===o[++r]){s=t.strstart+H;do{}while(n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<s);t.match_length=H-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=P?(i=_._tr_tally(t,1,t.match_length-P),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(c(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===S?(c(t,!0),0===t.strm.avail_out?U:Q):t.last_lit&&(c(t,!1),0===t.strm.avail_out)?W:q}(n,e):y[n.level].func(n,e);if((a===U||a===Q)&&(n.status=666),a===W||a===U)return 0===t.avail_out&&(n.last_flush=-1),I;if(a===q&&(1===e?_._tr_align(n):5!==e&&(_._tr_stored_block(n,0,0,!1),3===e&&(h(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),u(t),0===t.avail_out))return n.last_flush=-1,I}return e!==S?I:n.wrap<=0?1:(2===n.wrap?(p(n,255&t.adler),p(n,t.adler>>8&255),p(n,t.adler>>16&255),p(n,t.adler>>24&255),p(n,255&t.total_in),p(n,t.total_in>>8&255),p(n,t.total_in>>16&255),p(n,t.total_in>>24&255)):(f(n,t.adler>>>16),f(n,65535&t.adler)),u(t),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?I:1)},i.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==M&&69!==e&&73!==e&&91!==e&&103!==e&&e!==V&&666!==e?l(t,k):(t.state=null,e===V?l(t,-3):I):k},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(t,e){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],34:[function(t,e){"use strict";e.exports=function(t,e){var i,n,r,s,o,a,l,d,h,u,c,p,f,m,g,b,y,v,_,w,x,C,T,S,I;i=t.state,n=t.next_in,S=t.input,r=n+(t.avail_in-5),s=t.next_out,I=t.output,o=s-(e-t.avail_out),a=s+(t.avail_out-257),l=i.dmax,d=i.wsize,h=i.whave,u=i.wnext,c=i.window,p=i.hold,f=i.bits,m=i.lencode,g=i.distcode,b=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;t:do{f<15&&(p+=S[n++]<<f,f+=8,p+=S[n++]<<f,f+=8),v=m[p&b];e:for(;;){if(p>>>=_=v>>>24,f-=_,0===(_=v>>>16&255))I[s++]=65535&v;else{if(!(16&_)){if(0==(64&_)){v=m[(65535&v)+(p&(1<<_)-1)];continue e}if(32&_){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}w=65535&v,(_&=15)&&(f<_&&(p+=S[n++]<<f,f+=8),w+=p&(1<<_)-1,p>>>=_,f-=_),f<15&&(p+=S[n++]<<f,f+=8,p+=S[n++]<<f,f+=8),v=g[p&y];i:for(;;){if(p>>>=_=v>>>24,f-=_,!(16&(_=v>>>16&255))){if(0==(64&_)){v=g[(65535&v)+(p&(1<<_)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(x=65535&v,f<(_&=15)&&(p+=S[n++]<<f,(f+=8)<_&&(p+=S[n++]<<f,f+=8)),l<(x+=p&(1<<_)-1)){t.msg="invalid distance too far back",i.mode=30;break t}if(p>>>=_,f-=_,(_=s-o)<x){if(h<(_=x-_)&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(T=c,(C=0)===u){if(C+=d-_,_<w){for(w-=_;I[s++]=c[C++],--_;);C=s-x,T=I}}else if(u<_){if(C+=d+u-_,(_-=u)<w){for(w-=_;I[s++]=c[C++],--_;);if(C=0,u<w){for(w-=_=u;I[s++]=c[C++],--_;);C=s-x,T=I}}}else if(C+=u-_,_<w){for(w-=_;I[s++]=c[C++],--_;);C=s-x,T=I}for(;2<w;)I[s++]=T[C++],I[s++]=T[C++],I[s++]=T[C++],w-=3;w&&(I[s++]=T[C++],1<w&&(I[s++]=T[C++]))}else{for(C=s-x;I[s++]=I[C++],I[s++]=I[C++],I[s++]=I[C++],2<(w-=3););w&&(I[s++]=I[C++],1<w&&(I[s++]=I[C++]))}break}}break}}while(n<r&&s<a);n-=w=f>>3,p&=(1<<(f-=w<<3))-1,t.next_in=n,t.next_out=s,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=s<a?a-s+257:257-(s-a),i.hold=p,i.bits=f}},{}],35:[function(t,e,i){"use strict";function O(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new j.Buf16(320),this.work=new j.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function n(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Q,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new j.Buf32(h),e.distcode=e.distdyn=new j.Buf32(u),e.sane=1,e.back=-1,q):U}function s(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,n(t)):U}function o(t,e){var i,n;return t&&t.state?(n=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?U:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,s(t))):U}function a(t,e){var i,n;return t?(n=new r,(t.state=n).window=null,(i=o(t,e))!==q&&(t.state=null),i):U}function L(t){if(c){var e;for(l=new j.Buf32(512),d=new j.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(M(V,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;M(W,t.lens,0,32,d,0,t.work,{bits:5}),c=!1}t.lencode=l,t.lenbits=9,t.distcode=d,t.distbits=5}var l,d,j=t("../utils/common"),P=t("./adler32"),H=t("./crc32"),z=t("./inffast"),M=t("./inftrees"),V=1,W=2,q=0,U=-2,Q=1,h=852,u=592,c=!0;i.inflateReset=s,i.inflateReset2=o,i.inflateResetKeep=n,i.inflateInit=function(t){return a(t,15)},i.inflateInit2=a,i.inflate=function(t,e){var i,n,r,s,o,a,l,d,h,u,c,p,f,m,g,b,y,v,_,w,x,C,T,S,I,k,D,A,F,E,N=0,R=new j.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return U;12===(i=t.state).mode&&(i.mode=13),o=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,d=i.hold,h=i.bits,u=a,c=l,C=q;t:for(;;)switch(i.mode){case Q:if(0===i.wrap){i.mode=13;break}for(;h<16;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}if(2&i.wrap&&35615===d){R[i.check=0]=255&d,R[1]=d>>>8&255,i.check=H(i.check,R,2,0),h=d=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg="incorrect header check",i.mode=30;break}if(8!=(15&d)){t.msg="unknown compression method",i.mode=30;break}if(h-=4,x=8+(15&(d>>>=4)),0===i.wbits)i.wbits=x;else if(x>i.wbits){t.msg="invalid window size",i.mode=30;break}i.dmax=1<<x,t.adler=i.check=1,i.mode=512&d?10:12,h=d=0;break;case 2:for(;h<16;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}if(i.flags=d,8!=(255&i.flags)){t.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=d>>8&1),512&i.flags&&(R[0]=255&d,R[1]=d>>>8&255,i.check=H(i.check,R,2,0)),h=d=0,i.mode=3;case 3:for(;h<32;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}i.head&&(i.head.time=d),512&i.flags&&(R[0]=255&d,R[1]=d>>>8&255,R[2]=d>>>16&255,R[3]=d>>>24&255,i.check=H(i.check,R,4,0)),h=d=0,i.mode=4;case 4:for(;h<16;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}i.head&&(i.head.xflags=255&d,i.head.os=d>>8),512&i.flags&&(R[0]=255&d,R[1]=d>>>8&255,i.check=H(i.check,R,2,0)),h=d=0,i.mode=5;case 5:if(1024&i.flags){for(;h<16;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}i.length=d,i.head&&(i.head.extra_len=d),512&i.flags&&(R[0]=255&d,R[1]=d>>>8&255,i.check=H(i.check,R,2,0)),h=d=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(a<(p=i.length)&&(p=a),p&&(i.head&&(x=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),j.arraySet(i.head.extra,n,s,p,x)),512&i.flags&&(i.check=H(i.check,n,p,s)),a-=p,s+=p,i.length-=p),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===a)break t;for(p=0;x=n[s+p++],i.head&&x&&i.length<65536&&(i.head.name+=String.fromCharCode(x)),x&&p<a;);if(512&i.flags&&(i.check=H(i.check,n,p,s)),a-=p,s+=p,x)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===a)break t;for(p=0;x=n[s+p++],i.head&&x&&i.length<65536&&(i.head.comment+=String.fromCharCode(x)),x&&p<a;);if(512&i.flags&&(i.check=H(i.check,n,p,s)),a-=p,s+=p,x)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;h<16;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}if(d!==(65535&i.check)){t.msg="header crc mismatch",i.mode=30;break}h=d=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=12;break;case 10:for(;h<32;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}t.adler=i.check=O(d),h=d=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,i.hold=d,i.bits=h,2;t.adler=i.check=1,i.mode=12;case 12:if(5===e||6===e)break t;case 13:if(i.last){d>>>=7&h,h-=7&h,i.mode=27;break}for(;h<3;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}switch(i.last=1&d,h-=1,3&(d>>>=1)){case 0:i.mode=14;break;case 1:if(L(i),i.mode=20,6!==e)break;d>>>=2,h-=2;break t;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=30}d>>>=2,h-=2;break;case 14:for(d>>>=7&h,h-=7&h;h<32;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}if((65535&d)!=(d>>>16^65535)){t.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&d,h=d=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(p=i.length){if(a<p&&(p=a),l<p&&(p=l),0===p)break t;j.arraySet(r,n,s,p,o),a-=p,s+=p,l-=p,o+=p,i.length-=p;break}i.mode=12;break;case 17:for(;h<14;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}if(i.nlen=257+(31&d),d>>>=5,h-=5,i.ndist=1+(31&d),d>>>=5,h-=5,i.ncode=4+(15&d),d>>>=4,h-=4,286<i.nlen||30<i.ndist){t.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;h<3;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}i.lens[B[i.have++]]=7&d,d>>>=3,h-=3}for(;i.have<19;)i.lens[B[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,T={bits:i.lenbits},C=M(0,i.lens,0,19,i.lencode,0,i.work,T),i.lenbits=T.bits,C){t.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;b=(N=i.lencode[d&(1<<i.lenbits)-1])>>>16&255,y=65535&N,!((g=N>>>24)<=h);){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}if(y<16)d>>>=g,h-=g,i.lens[i.have++]=y;else{if(16===y){for(S=g+2;h<S;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}if(d>>>=g,h-=g,0===i.have){t.msg="invalid bit length repeat",i.mode=30;break}x=i.lens[i.have-1],p=3+(3&d),d>>>=2,h-=2}else if(17===y){for(S=g+3;h<S;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}h-=g,x=0,p=3+(7&(d>>>=g)),d>>>=3,h-=3}else{for(S=g+7;h<S;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}h-=g,x=0,p=11+(127&(d>>>=g)),d>>>=7,h-=7}if(i.have+p>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=30;break}for(;p--;)i.lens[i.have++]=x}}if(30===i.mode)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,T={bits:i.lenbits},C=M(V,i.lens,0,i.nlen,i.lencode,0,i.work,T),i.lenbits=T.bits,C){t.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,T={bits:i.distbits},C=M(W,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,T),i.distbits=T.bits,C){t.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(6<=a&&258<=l){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,i.hold=d,i.bits=h,z(t,c),o=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,d=i.hold,h=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;b=(N=i.lencode[d&(1<<i.lenbits)-1])>>>16&255,y=65535&N,!((g=N>>>24)<=h);){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}if(b&&0==(240&b)){for(v=g,_=b,w=y;b=(N=i.lencode[w+((d&(1<<v+_)-1)>>v)])>>>16&255,y=65535&N,!(v+(g=N>>>24)<=h);){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}d>>>=v,h-=v,i.back+=v}if(d>>>=g,h-=g,i.back+=g,i.length=y,0===b){i.mode=26;break}if(32&b){i.back=-1,i.mode=12;break}if(64&b){t.msg="invalid literal/length code",i.mode=30;break}i.extra=15&b,i.mode=22;case 22:if(i.extra){for(S=i.extra;h<S;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,h-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;b=(N=i.distcode[d&(1<<i.distbits)-1])>>>16&255,y=65535&N,!((g=N>>>24)<=h);){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}if(0==(240&b)){for(v=g,_=b,w=y;b=(N=i.distcode[w+((d&(1<<v+_)-1)>>v)])>>>16&255,y=65535&N,!(v+(g=N>>>24)<=h);){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}d>>>=v,h-=v,i.back+=v}if(d>>>=g,h-=g,i.back+=g,64&b){t.msg="invalid distance code",i.mode=30;break}i.offset=y,i.extra=15&b,i.mode=24;case 24:if(i.extra){for(S=i.extra;h<S;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,h-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===l)break t;if(p=c-l,i.offset>p){if((p=i.offset-p)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=30;break}f=p>i.wnext?(p-=i.wnext,i.wsize-p):i.wnext-p,p>i.length&&(p=i.length),m=i.window}else m=r,f=o-i.offset,p=i.length;for(l<p&&(p=l),l-=p,i.length-=p;r[o++]=m[f++],--p;);0===i.length&&(i.mode=21);break;case 26:if(0===l)break t;r[o++]=i.length,l--,i.mode=21;break;case 27:if(i.wrap){for(;h<32;){if(0===a)break t;a--,d|=n[s++]<<h,h+=8}if(c-=l,t.total_out+=c,i.total+=c,c&&(t.adler=i.check=i.flags?H(i.check,r,c,o-c):P(i.check,r,c,o-c)),c=l,(i.flags?d:O(d))!==i.check){t.msg="incorrect data check",i.mode=30;break}h=d=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;h<32;){if(0===a)break t;a--,d+=n[s++]<<h,h+=8}if(d!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=30;break}h=d=0}i.mode=29;case 29:C=1;break t;case 30:C=-3;break t;case 31:return-4;case 32:default:return U}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,i.hold=d,i.bits=h,(i.wsize||c!==t.avail_out&&i.mode<30&&(i.mode<27||4!==e))&&(k=(I=t).output,D=t.next_out,A=c-t.avail_out,null===(E=I.state).window&&(E.wsize=1<<E.wbits,E.wnext=0,E.whave=0,E.window=new j.Buf8(E.wsize)),A>=E.wsize?(j.arraySet(E.window,k,D-E.wsize,E.wsize,0),E.wnext=0,E.whave=E.wsize):(A<(F=E.wsize-E.wnext)&&(F=A),j.arraySet(E.window,k,D-A,F,E.wnext),(A-=F)?(j.arraySet(E.window,k,D-A,A,0),E.wnext=A,E.whave=E.wsize):(E.wnext+=F,E.wnext===E.wsize&&(E.wnext=0),E.whave<E.wsize&&(E.whave+=F))),0)?(i.mode=31,-4):(u-=t.avail_in,c-=t.avail_out,t.total_in+=u,t.total_out+=c,i.total+=c,i.wrap&&c&&(t.adler=i.check=i.flags?H(i.check,r,c,t.next_out-c):P(i.check,r,c,t.next_out-c)),t.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0===u&&0===c||4===e)&&C===q&&(C=-5),C)},i.inflateEnd=function(t){if(!t||!t.state)return U;var e=t.state;return e.window&&(e.window=null),t.state=null,q},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?U:((i.head=e).done=!1,q):U},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(t,e){"use strict";var B=t("../utils/common"),O=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],L=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,n,r,s,o,a){var l,d,h,u,c,p,f,m,g,b=a.bits,y=0,v=0,_=0,w=0,x=0,C=0,T=0,S=0,I=0,k=0,D=null,A=0,F=new B.Buf16(16),E=new B.Buf16(16),N=null,R=0;for(y=0;y<=15;y++)F[y]=0;for(v=0;v<n;v++)F[e[i+v]]++;for(x=b,w=15;1<=w&&0===F[w];w--);if(w<x&&(x=w),0===w)return r[s++]=20971520,r[s++]=20971520,a.bits=1,0;for(_=1;_<w&&0===F[_];_++);for(x<_&&(x=_),y=S=1;y<=15;y++)if(S<<=1,(S-=F[y])<0)return-1;if(0<S&&(0===t||1!==w))return-1;for(E[1]=0,y=1;y<15;y++)E[y+1]=E[y]+F[y];for(v=0;v<n;v++)0!==e[i+v]&&(o[E[e[i+v]]++]=v);if(p=0===t?(D=N=o,19):1===t?(D=O,A-=257,N=L,R-=257,256):(D=j,N=P,-1),y=_,c=s,h=-1,u=(I=1<<(C=x))-1,1===t&&852<I||2===t&&592<I)return 1;for(T=v=k=0;;){for(0,f=y-T,g=o[v]<p?(m=0,o[v]):o[v]>p?(m=N[R+o[v]],D[A+o[v]]):(m=96,0),l=1<<y-T,_=d=1<<C;r[c+(k>>T)+(d-=l)]=f<<24|m<<16|g|0,0!==d;);for(l=1<<y-1;k&l;)l>>=1;if(0!==l?(k&=l-1,k+=l):k=0,v++,0==--F[y]){if(y===w)break;y=e[i+o[v]]}if(x<y&&(k&u)!==h){for(0===T&&(T=x),c+=_,S=1<<(C=y-T);C+T<w&&!((S-=F[C+T])<=0);)C++,S<<=1;if(I+=1<<C,1===t&&852<I||2===t&&592<I)return 1;r[h=k&u]=x<<24|C<<16|c-s|0}}return 0!==k&&(r[c+k]=y-T<<24|64<<16|0),a.bits=x,0}},{"../utils/common":27}],37:[function(t,e){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(t,e,i){"use strict";function n(t){for(var e=t.length;0<=--e;)t[e]=0}function l(t){return t<256?V[t]:V[256+(t>>>7)]}function d(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function h(t,e,i){t.bi_valid>r-i?(t.bi_buf|=e<<t.bi_valid&65535,d(t,t.bi_buf),t.bi_buf=e>>r-t.bi_valid,t.bi_valid+=i-r):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function u(t,e,i){h(t,i[2*e],i[2*e+1])}function c(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,0<--e;);return i>>>1}function p(t,e,i){var n,r,s=new Array(F+1),o=0;for(n=1;n<=F;n++)s[n]=o=o+i[n-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=c(s[a]++,a))}}function a(t){var e;for(e=0;e<I;e++)t.dyn_ltree[2*e]=0;for(e=0;e<k;e++)t.dyn_dtree[2*e]=0;for(e=0;e<D;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*N]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function f(t){8<t.bi_valid?d(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function s(t,e,i,n){var r=2*e,s=2*i;return t[r]<t[s]||t[r]===t[s]&&n[e]<=n[i]}function m(t,e,i){for(var n=t.heap[i],r=i<<1;r<=t.heap_len&&(r<t.heap_len&&s(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!s(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n}function g(t,e,i){var n,r,s,o,a=0;if(0!==t.last_lit)for(;n=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],r=t.pending_buf[t.l_buf+a],a++,0===n?u(t,r,e):(u(t,(s=W[r])+S+1,e),0!==(o=L[s])&&h(t,r-=q[s],o),u(t,s=l(--n),i),0!==(o=j[s])&&h(t,n-=U[s],o)),a<t.last_lit;);u(t,N,e)}function b(t,e){var i,n,r,s=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.elems,d=-1;for(t.heap_len=0,t.heap_max=A,i=0;i<l;i++)0!==s[2*i]?(t.heap[++t.heap_len]=d=i,t.depth[i]=0):s[2*i+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=d<2?++d:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=o[2*r+1]);for(e.max_code=d,i=t.heap_len>>1;1<=i;i--)m(t,s,i);for(r=l;i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],m(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,s[2*r]=s[2*i]+s[2*n],t.depth[r]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,s[2*i+1]=s[2*n+1]=r,t.heap[1]=r++,m(t,s,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,n,r,s,o,a,l=e.dyn_tree,d=e.max_code,h=e.stat_desc.static_tree,u=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,m=0;for(s=0;s<=F;s++)t.bl_count[s]=0;for(l[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<A;i++)f<(s=l[2*l[2*(n=t.heap[i])+1]+1]+1)&&(s=f,m++),l[2*n+1]=s,d<n||(t.bl_count[s]++,o=0,p<=n&&(o=c[n-p]),a=l[2*n],t.opt_len+=a*(s+o),u&&(t.static_len+=a*(h[2*n+1]+o)));if(0!==m){do{for(s=f-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[f]--,m-=2}while(0<m);for(s=f;0!==s;s--)for(n=t.bl_count[s];0!==n;)d<(r=t.heap[--i])||(l[2*r+1]!==s&&(t.opt_len+=(s-l[2*r+1])*l[2*r],l[2*r+1]=s),n--)}}(t,e),p(s,d,t.bl_count)}function y(t,e,i){var n,r,s=-1,o=e[1],a=0,l=7,d=4;for(0===o&&(l=138,d=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=e[2*(n+1)+1],++a<l&&r===o||(a<d?t.bl_tree[2*r]+=a:0!==r?(r!==s&&t.bl_tree[2*r]++,t.bl_tree[2*R]++):a<=10?t.bl_tree[2*B]++:t.bl_tree[2*O]++,s=r,d=(a=0)===o?(l=138,3):r===o?(l=6,3):(l=7,4))}function v(t,e,i){var n,r,s=-1,o=e[1],a=0,l=7,d=4;for(0===o&&(l=138,d=3),n=0;n<=i;n++)if(r=o,o=e[2*(n+1)+1],!(++a<l&&r===o)){if(a<d)for(;u(t,r,t.bl_tree),0!=--a;);else 0!==r?(r!==s&&(u(t,r,t.bl_tree),a--),u(t,R,t.bl_tree),h(t,a-3,2)):a<=10?(u(t,B,t.bl_tree),h(t,a-3,3)):(u(t,O,t.bl_tree),h(t,a-11,7));s=r,d=(a=0)===o?(l=138,3):r===o?(l=6,3):(l=7,4)}}function _(t,e,i,n){var r,s,o,a;h(t,(T<<1)+(n?1:0),3),s=e,o=i,a=!0,f(r=t),a&&(d(r,o),d(r,~o)),w.arraySet(r.pending_buf,r.window,s,o,r.pending),r.pending+=o}var w=t("../utils/common"),x=0,C=1,T=0,o=29,S=256,I=S+1+o,k=30,D=19,A=2*I+1,F=15,r=16,E=7,N=256,R=16,B=17,O=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(I+2));n(z);var M=new Array(2*k);n(M);var V=new Array(512);n(V);var W=new Array(256);n(W);var q=new Array(o);n(q);var U=new Array(k);n(U);var Q,J,X,G=function(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length},$=function(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e},Z=!1;i._tr_init=function(t){Z||(function(){var t,e,i,n,r,s=new Array(F+1);for(n=i=0;n<o-1;n++)for(q[n]=i,t=0;t<1<<L[n];t++)W[i++]=n;for(W[i-1]=n,n=r=0;n<16;n++)for(U[n]=r,t=0;t<1<<j[n];t++)V[r++]=n;for(r>>=7;n<k;n++)for(U[n]=r<<7,t=0;t<1<<j[n]-7;t++)V[256+r++]=n;for(e=0;e<=F;e++)s[e]=0;for(t=0;t<=143;)z[2*t+1]=8,t++,s[8]++;for(;t<=255;)z[2*t+1]=9,t++,s[9]++;for(;t<=279;)z[2*t+1]=7,t++,s[7]++;for(;t<=287;)z[2*t+1]=8,t++,s[8]++;for(p(z,I+1,s),t=0;t<k;t++)M[2*t+1]=5,M[2*t]=c(t,5);Q=new G(z,L,S+1,I,F),J=new G(M,j,0,k,F),X=new G(new Array(0),P,0,D,E)}(),Z=!0),t.l_desc=new $(t.dyn_ltree,Q),t.d_desc=new $(t.dyn_dtree,J),t.bl_desc=new $(t.bl_tree,X),t.bi_buf=0,t.bi_valid=0,a(t)},i._tr_stored_block=_,i._tr_flush_block=function(t,e,i,n){var r,s,o=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return x;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return C;for(e=32;e<S;e++)if(0!==t.dyn_ltree[2*e])return C;return x}(t)),b(t,t.l_desc),b(t,t.d_desc),o=function(t){var e;for(y(t,t.dyn_ltree,t.l_desc.max_code),y(t,t.dyn_dtree,t.d_desc.max_code),b(t,t.bl_desc),e=D-1;3<=e&&0===t.bl_tree[2*H[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=r&&(r=s)):r=s=i+5,i+4<=r&&-1!==e?_(t,e,i,n):4===t.strategy||s===r?(h(t,2+(n?1:0),3),g(t,z,M)):(h(t,4+(n?1:0),3),function(t,e,i,n){var r;for(h(t,e-257,5),h(t,i-1,5),h(t,n-4,4),r=0;r<n;r++)h(t,t.bl_tree[2*H[r]+1],3);v(t,t.dyn_ltree,e-1),v(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),g(t,t.dyn_ltree,t.dyn_dtree)),a(t),n&&f(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(W[i]+S+1)]++,t.dyn_dtree[2*l(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){var e;h(t,2,3),u(t,N,z),16===(e=t).bi_valid?(d(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":27}],39:[function(t,e){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[9])(9)}),function(i){"function"==typeof define&&define.amd?define(["jquery"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e||(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),i(e,t,t.document)}:i(jQuery,window,document)}(function(N,b,y,R){function s(e){var i,n,r={};N.each(e,function(t){(i=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(n=t.replace(i[0],i[2].toLowerCase()),r[n]=t,"o"===i[1]&&s(e[t]))}),e._hungarianMap=r}function _(e,i,n){var r;e._hungarianMap||s(e),N.each(i,function(t){(r=e._hungarianMap[t])===R||!n&&i[r]!==R||("o"===r.charAt(0)?(i[r]||(i[r]={}),N.extend(!0,i[r],i[t]),_(e[r],i[r],n)):i[r]=i[t])})}function w(t){var e=Qt.defaults.oLanguage,i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&Nt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&Nt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&Mt(t)}function x(t){if(de(t,"ordering","bSort"),de(t,"orderMulti","bSortMulti"),de(t,"orderClasses","bSortClasses"),de(t,"orderCellsTop","bSortCellsTop"),de(t,"order","aaSorting"),de(t,"orderFixed","aaSortingFixed"),de(t,"paging","bPaginate"),de(t,"pagingType","sPaginationType"),de(t,"pageLength","iDisplayLength"),de(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":""),t=t.aoSearchCols)for(var e=0,i=t.length;e<i;e++)t[e]&&_(Qt.models.oSearch,t[e])}function C(t){de(t,"orderable","bSortable"),de(t,"orderData","aDataSort"),de(t,"orderSequence","asSorting"),de(t,"orderDataType","sortDataType");var e=t.aDataSort;"number"==typeof e&&!N.isArray(e)&&(t.aDataSort=[e])}function T(t){if(!Qt.__browser){var e={};Qt.__browser=e;var i=N("<div/>").css({position:"fixed",top:0,left:-1*N(b).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(N("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(N("<div/>").css({width:"100%",height:10}))).appendTo("body"),n=i.children(),r=n.children();e.barWidth=n[0].offsetWidth-n[0].clientWidth,e.bScrollOversize=100===r[0].offsetWidth&&100!==n[0].clientWidth,e.bScrollbarLeft=1!==Math.round(r.offset().left),e.bBounding=!!i[0].getBoundingClientRect().width,i.remove()}N.extend(t.oBrowser,Qt.__browser),t.oScroll.iBarWidth=Qt.__browser.barWidth}function i(t,e,i,n,r,s){var o,a=!1;for(i!==R&&(o=i,a=!0);n!==r;)t.hasOwnProperty(n)&&(o=a?e(o,t[n],n,t):t[n],a=!0,n+=s);return o}function S(t,e){var i=Qt.defaults.column,n=t.aoColumns.length;i=N.extend({},Qt.models.oColumn,i,{nTh:e||y.createElement("th"),sTitle:i.sTitle?i.sTitle:e?e.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[n],mData:i.mData?i.mData:n,idx:n});t.aoColumns.push(i),(i=t.aoPreSearchCols)[n]=N.extend({},Qt.models.oSearch,i[n]),I(t,n,N(e).data())}function I(t,e,i){e=t.aoColumns[e];var n=t.oClasses,r=N(e.nTh);if(!e.sWidthOrig){e.sWidthOrig=r.attr("width")||null;var s=(r.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);s&&(e.sWidthOrig=s[1])}i!==R&&null!==i&&(C(i),_(Qt.defaults.column,i),i.mDataProp!==R&&!i.mData&&(i.mData=i.mDataProp),i.sType&&(e._sManualType=i.sType),i.className&&!i.sClass&&(i.sClass=i.className),i.sClass&&r.addClass(i.sClass),N.extend(e,i),Nt(e,i,"sWidth","sWidthOrig"),i.iDataSort!==R&&(e.aDataSort=[i.iDataSort]),Nt(e,i,"aDataSort"));var o=e.mData,a=L(o),l=e.mRender?L(e.mRender):null;i=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};e._bAttrSrc=N.isPlainObject(o)&&(i(o.sort)||i(o.type)||i(o.filter)),e._setter=null,e.fnGetData=function(t,e,i){var n=a(t,e,R,i);return l&&e?l(n,e,t,i):n},e.fnSetData=function(t,e,i){return f(o)(t,e,i)},"number"!=typeof o&&(t._rowReadObject=!0),t.oFeatures.bSort||(e.bSortable=!1,r.addClass(n.sSortableNone)),t=-1!==N.inArray("asc",e.asSorting),i=-1!==N.inArray("desc",e.asSorting),e.bSortable&&(t||i)?e.sSortingClassJUI=t&&!i?(e.sSortingClass=n.sSortableAsc,n.sSortJUIAscAllowed):!t&&i?(e.sSortingClass=n.sSortableDesc,n.sSortJUIDescAllowed):(e.sSortingClass=n.sSortable,n.sSortJUI):(e.sSortingClass=n.sSortableNone,e.sSortingClassJUI="")}function B(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;gt(t);for(var i=0,n=e.length;i<n;i++)e[i].nTh.style.width=e[i].sWidth}(""!==(e=t.oScroll).sY||""!==e.sX)&&ft(t),Lt(t,null,"column-sizing",[t])}function O(t,e){var i=k(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function d(t,e){var i=k(t,"bVisible");return-1!==(i=N.inArray(e,i))?i:null}function v(t){var i=0;return N.each(t.aoColumns,function(t,e){e.bVisible&&"none"!==N(e.nTh).css("display")&&i++}),i}function k(t,i){var n=[];return N.map(t.aoColumns,function(t,e){t[i]&&n.push(e)}),n}function o(t){var e,i,n,r,s,o,a,l,d,h=t.aoColumns,u=t.aoData,c=Qt.ext.type.detect;for(e=0,i=h.length;e<i;e++)if(d=[],!(a=h[e]).sType&&a._sManualType)a.sType=a._sManualType;else if(!a.sType){for(n=0,r=c.length;n<r;n++){for(s=0,o=u.length;s<o&&(d[s]===R&&(d[s]=E(t,s,e,"type")),(l=c[n](d[s],t))||n===c.length-1)&&"html"!==l;s++);if(l){a.sType=l;break}}a.sType||(a.sType="string")}}function D(t,e,i,n){var r,s,o,a,l,d,h=t.aoColumns;if(e)for(r=e.length-1;0<=r;r--){var u=(d=e[r]).targets!==R?d.targets:d.aTargets;for(N.isArray(u)||(u=[u]),s=0,o=u.length;s<o;s++)if("number"==typeof u[s]&&0<=u[s]){for(;h.length<=u[s];)S(t);n(u[s],d)}else if("number"==typeof u[s]&&u[s]<0)n(h.length+u[s],d);else if("string"==typeof u[s])for(a=0,l=h.length;a<l;a++)("_all"==u[s]||N(h[a].nTh).hasClass(u[s]))&&n(a,d)}if(i)for(r=0,t=i.length;r<t;r++)n(r,i[r])}function A(t,e,i,n){var r=t.aoData.length,s=N.extend(!0,{},Qt.models.oRow,{src:i?"dom":"data",idx:r});s._aData=e,t.aoData.push(s);for(var o=t.aoColumns,a=0,l=o.length;a<l;a++)o[a].sType=null;return t.aiDisplayMaster.push(r),(e=t.rowIdFn(e))!==R&&(t.aIds[e]=s),(i||!t.oFeatures.bDeferRender)&&m(t,r,i,n),r}function F(i,t){var n;return t instanceof N||(t=N(t)),t.map(function(t,e){return n=l(i,e),A(i,n.data,e,n.cells)})}function E(t,e,i,n){var r=t.iDraw,s=t.aoColumns[i],o=t.aoData[e]._aData,a=s.sDefaultContent,l=s.fnGetData(o,n,{settings:t,row:e,col:i});if(l===R)return t.iDrawError!=r&&null===a&&(Et(t,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=r),a;if(l!==o&&null!==l||null===a||n===R){if("function"==typeof l)return l.call(o)}else l=a;return null===l&&"display"==n?"":l}function n(t,e,i,n){t.aoColumns[i].fnSetData(t.aoData[e]._aData,n,{settings:t,row:e,col:i})}function h(t){return N.map(t.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function L(r){if(N.isPlainObject(r)){var s={};return N.each(r,function(t,e){e&&(s[t]=L(e))}),function(t,e,i,n){var r=s[e]||s._;return r!==R?r(t,e,i,n):t}}if(null===r)return function(t){return t};if("function"==typeof r)return function(t,e,i,n){return r(t,e,i,n)};if("string"!=typeof r||-1===r.indexOf(".")&&-1===r.indexOf("[")&&-1===r.indexOf("("))return function(t){return t[r]};var a=function(t,e,i){var n,r;if(""!==i)for(var s=0,o=(r=h(i)).length;s<o;s++){if(i=r[s].match(he),n=r[s].match(ue),i){if(r[s]=r[s].replace(he,""),""!==r[s]&&(t=t[r[s]]),n=[],r.splice(0,s+1),r=r.join("."),N.isArray(t))for(s=0,o=t.length;s<o;s++)n.push(a(t[s],e,r));t=""===(t=i[0].substring(1,i[0].length-1))?n:n.join(t);break}if(n)r[s]=r[s].replace(ue,""),t=t[r[s]]();else{if(null===t||t[r[s]]===R)return R;t=t[r[s]]}}return t};return function(t,e){return a(t,e,r)}}function f(n){if(N.isPlainObject(n))return f(n._);if(null===n)return function(){};if("function"==typeof n)return function(t,e,i){n(t,"set",e,i)};if("string"!=typeof n||-1===n.indexOf(".")&&-1===n.indexOf("[")&&-1===n.indexOf("("))return function(t,e){t[n]=e};var l=function(t,e,i){var n;n=(i=h(i))[i.length-1];for(var r,s,o=0,a=i.length-1;o<a;o++){if(r=i[o].match(he),s=i[o].match(ue),r){if(i[o]=i[o].replace(he,""),t[i[o]]=[],(n=i.slice()).splice(0,o+1),r=n.join("."),N.isArray(e))for(s=0,a=e.length;s<a;s++)l(n={},e[s],r),t[i[o]].push(n);else t[i[o]]=e;return}s&&(i[o]=i[o].replace(ue,""),t=t[i[o]](e)),null!==t[i[o]]&&t[i[o]]!==R||(t[i[o]]={}),t=t[i[o]]}n.match(ue)?t[n.replace(ue,"")](e):t[n.replace(he,"")]=e};return function(t,e){return l(t,e,n)}}function p(t){return re(t.aoData,"_aData")}function a(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function u(t,e,i){for(var n=-1,r=0,s=t.length;r<s;r++)t[r]==e?n=r:t[r]>e&&t[r]--;-1!=n&&i===R&&t.splice(n,1)}function r(i,n,t,e){var r,s=i.aoData[n],o=function(t,e){for(;t.childNodes.length;)t.removeChild(t.firstChild);t.innerHTML=E(i,n,e,"display")};if("dom"!==t&&(t&&"auto"!==t||"dom"!==s.src)){var a=s.anCells;if(a)if(e!==R)o(a[e],e);else for(t=0,r=a.length;t<r;t++)o(a[t],t)}else s._aData=l(i,s,e,e===R?R:s._aData).data;if(s._aSortData=null,s._aFilterData=null,o=i.aoColumns,e!==R)o[e].sType=null;else{for(t=0,r=o.length;t<r;t++)o[t].sType=null;c(i,s)}}function l(t,e,i,n){var r,s,o,a=[],l=e.firstChild,d=0,h=t.aoColumns,u=t._rowReadObject,c=(n=n!==R?n:u?{}:[],function(t,e){if("string"==typeof t){var i=t.indexOf("@");-1!==i&&(i=t.substring(i+1),f(t)(n,e.getAttribute(i)))}}),p=function(t){i!==R&&i!==d||(s=h[d],o=N.trim(t.innerHTML),s&&s._bAttrSrc?(f(s.mData._)(n,o),c(s.mData.sort,t),c(s.mData.type,t),c(s.mData.filter,t)):u?(s._setter||(s._setter=f(s.mData)),s._setter(n,o)):n[d]=o),d++};if(l)for(;l;)"TD"!=(r=l.nodeName.toUpperCase())&&"TH"!=r||(p(l),a.push(l)),l=l.nextSibling;else for(l=0,r=(a=e.anCells).length;l<r;l++)p(a[l]);return(e=e.firstChild?e:e.nTr)&&(e=e.getAttribute("id"))&&f(t.rowId)(n,e),{data:n,cells:a}}function m(t,e,i,n){var r,s,o,a,l,d=t.aoData[e],h=d._aData,u=[];if(null===d.nTr){for(r=i||y.createElement("tr"),d.nTr=r,d.anCells=u,r._DT_RowIndex=e,c(t,d),a=0,l=t.aoColumns.length;a<l;a++)o=t.aoColumns[a],(s=i?n[a]:y.createElement(o.sCellType))._DT_CellIndex={row:e,column:a},u.push(s),i&&!o.mRender&&o.mData===a||N.isPlainObject(o.mData)&&o.mData._===a+".display"||(s.innerHTML=E(t,e,a,"display")),o.sClass&&(s.className+=" "+o.sClass),o.bVisible&&!i?r.appendChild(s):!o.bVisible&&i&&s.parentNode.removeChild(s),o.fnCreatedCell&&o.fnCreatedCell.call(t.oInstance,s,E(t,e,a),h,e,a);Lt(t,"aoRowCreatedCallback",null,[r,h,e])}d.nTr.setAttribute("role","row")}function c(t,e){var i=e.nTr,n=e._aData;if(i){var r=t.rowIdFn(n);r&&(i.id=r),n.DT_RowClass&&(r=n.DT_RowClass.split(" "),e.__rowc=e.__rowc?le(e.__rowc.concat(r)):r,N(i).removeClass(e.__rowc.join(" ")).addClass(n.DT_RowClass)),n.DT_RowAttr&&N(i).attr(n.DT_RowAttr),n.DT_RowData&&N(i).data(n.DT_RowData)}}function g(t){var e,i,n,r,s,o=t.nTHead,a=t.nTFoot,l=0===N("th, td",o).length,d=t.oClasses,h=t.aoColumns;for(l&&(r=N("<tr/>").appendTo(o)),e=0,i=h.length;e<i;e++)s=h[e],n=N(s.nTh).addClass(s.sClass),l&&n.appendTo(r),t.oFeatures.bSort&&(n.addClass(s.sSortingClass),!1!==s.bSortable&&(n.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),St(t,s.nTh,e))),s.sTitle!=n[0].innerHTML&&n.html(s.sTitle),Pt(t,"header")(t,n,s,d);if(l&&M(t.aoHeader,o),N(o).find(">tr").attr("role","row"),N(o).find(">tr>th, >tr>td").addClass(d.sHeaderTH),N(a).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==a)for(e=0,i=(t=t.aoFooter[0]).length;e<i;e++)(s=h[e]).nTf=t[e].cell,s.sClass&&N(s.nTf).addClass(s.sClass)}function j(t,e,i){var n,r,s,o,a=[],l=[],d=t.aoColumns.length;if(e){for(i===R&&(i=!1),n=0,r=e.length;n<r;n++){for(a[n]=e[n].slice(),a[n].nTr=e[n].nTr,s=d-1;0<=s;s--)!t.aoColumns[s].bVisible&&!i&&a[n].splice(s,1);l.push([])}for(n=0,r=a.length;n<r;n++){if(t=a[n].nTr)for(;s=t.firstChild;)t.removeChild(s);for(s=0,e=a[n].length;s<e;s++)if(o=d=1,l[n][s]===R){for(t.appendChild(a[n][s].cell),l[n][s]=1;a[n+d]!==R&&a[n][s].cell==a[n+d][s].cell;)l[n+d][s]=1,d++;for(;a[n][s+o]!==R&&a[n][s].cell==a[n][s+o].cell;){for(i=0;i<d;i++)l[n+i][s+o]=1;o++}N(a[n][s].cell).attr("rowspan",d).attr("colspan",o)}}}}function P(t){var e=Lt(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==N.inArray(!1,e))ct(t,!1);else{e=[];var i=0,n=t.asStripeClasses,r=n.length,s=t.oLanguage,o=t.iInitDisplayStart,a="ssp"==Ht(t),l=t.aiDisplay;t.bDrawing=!0,o!==R&&-1!==o&&(t._iDisplayStart=a?o:o>=t.fnRecordsDisplay()?0:o,t.iInitDisplayStart=-1);o=t._iDisplayStart;var d=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,ct(t,!1);else if(a){if(!t.bDestroying&&!q(t))return}else t.iDraw++;if(0!==l.length)for(s=a?t.aoData.length:d,a=a?0:o;a<s;a++){var h=l[a],u=t.aoData[h];if(null===u.nTr&&m(t,h),h=u.nTr,0!==r){var c=n[i%r];u._sRowStripe!=c&&(N(h).removeClass(u._sRowStripe).addClass(c),u._sRowStripe=c)}Lt(t,"aoRowCallback",null,[h,u._aData,i,a]),e.push(h),i++}else i=s.sZeroRecords,1==t.iDraw&&"ajax"==Ht(t)?i=s.sLoadingRecords:s.sEmptyTable&&0===t.fnRecordsTotal()&&(i=s.sEmptyTable),e[0]=N("<tr/>",{class:r?n[0]:""}).append(N("<td />",{valign:"top",colSpan:v(t),class:t.oClasses.sRowEmpty}).html(i))[0];Lt(t,"aoHeaderCallback","header",[N(t.nTHead).children("tr")[0],p(t),o,d,l]),Lt(t,"aoFooterCallback","footer",[N(t.nTFoot).children("tr")[0],p(t),o,d,l]),(n=N(t.nTBody)).children().detach(),n.append(N(e)),Lt(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function H(t,e){var i=t.oFeatures,n=i.bFilter;i.bSort&&xt(t),n?X(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,P(t),t._drawHold=!1}function z(t){var e=t.oClasses,i=N(t.nTable),n=(i=N("<div/>").insertBefore(i),t.oFeatures),r=N("<div/>",{id:t.sTableId+"_wrapper",class:e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=i[0],t.nTableWrapper=r[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var s,o,a,l,d,h,u=t.sDom.split(""),c=0;c<u.length;c++){if(s=null,"<"==(o=u[c])){if(a=N("<div/>")[0],"'"==(l=u[c+1])||'"'==l){for(d="",h=2;u[c+h]!=l;)d+=u[c+h],h++;"H"==d?d=e.sJUIHeader:"F"==d&&(d=e.sJUIFooter),-1!=d.indexOf(".")?(l=d.split("."),a.id=l[0].substr(1,l[0].length-1),a.className=l[1]):"#"==d.charAt(0)?a.id=d.substr(1,d.length-1):a.className=d,c+=h}r.append(a),r=N(a)}else if(">"==o)r=r.parent();else if("l"==o&&n.bPaginate&&n.bLengthChange)s=lt(t);else if("f"==o&&n.bFilter)s=J(t);else if("r"==o&&n.bProcessing)s=ut(t);else if("t"==o)s=pt(t);else if("i"==o&&n.bInfo)s=it(t);else if("p"==o&&n.bPaginate)s=dt(t);else if(0!==Qt.ext.feature.length)for(h=0,l=(a=Qt.ext.feature).length;h<l;h++)if(o==a[h].cFeature){s=a[h].fnInit(t);break}s&&((a=t.aanFeatures)[o]||(a[o]=[]),a[o].push(s),r.append(s))}i.replaceWith(r),t.nHolding=null}function M(t,e){var i,n,r,s,o,a,l,d,h,u,c=N(e).children("tr");for(t.splice(0,t.length),r=0,a=c.length;r<a;r++)t.push([]);for(r=0,a=c.length;r<a;r++)for(n=(i=c[r]).firstChild;n;){if("TD"==n.nodeName.toUpperCase()||"TH"==n.nodeName.toUpperCase()){for(d=(d=1*n.getAttribute("colspan"))&&0!==d&&1!==d?d:1,h=(h=1*n.getAttribute("rowspan"))&&0!==h&&1!==h?h:1,s=0,o=t[r];o[s];)s++;for(l=s,u=1===d,o=0;o<d;o++)for(s=0;s<h;s++)t[r+s][l+o]={cell:n,unique:u},t[r+s].nTr=i}n=n.nextSibling}}function V(t,e,i){var n=[];i||(i=t.aoHeader,e&&M(i=[],e));e=0;for(var r=i.length;e<r;e++)for(var s=0,o=i[e].length;s<o;s++)!i[e][s].unique||n[s]&&t.bSortCellsTop||(n[s]=i[e][s].cell);return n}function W(n,t,e){if(Lt(n,"aoServerParams","serverParams",[t]),t&&N.isArray(t)){var r={},s=/(.*?)\[\]$/;N.each(t,function(t,e){var i=e.name.match(s);i?(i=i[0],r[i]||(r[i]=[]),r[i].push(e.value)):r[e.name]=e.value}),t=r}var i,o=n.ajax,a=n.oInstance,l=function(t){Lt(n,null,"xhr",[n,t,n.jqXHR]),e(t)};if(N.isPlainObject(o)&&o.data){i=o.data;var d=N.isFunction(i)?i(t,n):i;t=N.isFunction(i)&&d?d:N.extend(!0,t,d);delete o.data}d={data:t,success:function(t){var e=t.error||t.sError;e&&Et(n,0,e),n.json=t,l(t)},dataType:"json",cache:!1,type:n.sServerMethod,error:function(t,e){var i=Lt(n,null,"xhr",[n,null,n.jqXHR]);-1===N.inArray(!0,i)&&("parsererror"==e?Et(n,0,"Invalid JSON response",1):4===t.readyState&&Et(n,0,"Ajax error",7)),ct(n,!1)}},n.oAjaxData=t,Lt(n,null,"preXhr",[n,t]),n.fnServerData?n.fnServerData.call(a,n.sAjaxSource,N.map(t,function(t,e){return{name:e,value:t}}),l,n):n.sAjaxSource||"string"==typeof o?n.jqXHR=N.ajax(N.extend(d,{url:o||n.sAjaxSource})):N.isFunction(o)?n.jqXHR=o.call(a,t,l,n):(n.jqXHR=N.ajax(N.extend(d,o)),o.data=i)}function q(e){return!e.bAjaxDataGet||(e.iDraw++,ct(e,!0),W(e,t(e),function(t){U(e,t)}),!1)}function t(t){var e,i,n,r,s=t.aoColumns,o=s.length,a=t.oFeatures,l=t.oPreviousSearch,d=t.aoPreSearchCols,h=[],u=wt(t);e=t._iDisplayStart,i=!1!==a.bPaginate?t._iDisplayLength:-1;var c=function(t,e){h.push({name:t,value:e})};c("sEcho",t.iDraw),c("iColumns",o),c("sColumns",re(s,"sName").join(",")),c("iDisplayStart",e),c("iDisplayLength",i);var p={draw:t.iDraw,columns:[],order:[],start:e,length:i,search:{value:l.sSearch,regex:l.bRegex}};for(e=0;e<o;e++)n=s[e],r=d[e],i="function"==typeof n.mData?"function":n.mData,p.columns.push({data:i,name:n.sName,searchable:n.bSearchable,orderable:n.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),c("mDataProp_"+e,i),a.bFilter&&(c("sSearch_"+e,r.sSearch),c("bRegex_"+e,r.bRegex),c("bSearchable_"+e,n.bSearchable)),a.bSort&&c("bSortable_"+e,n.bSortable);return a.bFilter&&(c("sSearch",l.sSearch),c("bRegex",l.bRegex)),a.bSort&&(N.each(u,function(t,e){p.order.push({column:e.col,dir:e.dir}),c("iSortCol_"+t,e.col),c("sSortDir_"+t,e.dir)}),c("iSortingCols",u.length)),null===(s=Qt.ext.legacy.ajax)?t.sAjaxSource?h:p:s?h:p}function U(t,e){var i=Q(t,e),n=e.sEcho!==R?e.sEcho:e.draw,r=e.iTotalRecords!==R?e.iTotalRecords:e.recordsTotal,s=e.iTotalDisplayRecords!==R?e.iTotalDisplayRecords:e.recordsFiltered;if(n){if(1*n<t.iDraw)return;t.iDraw=1*n}for(a(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(s,10),n=0,r=i.length;n<r;n++)A(t,i[n]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,P(t),t._bInitComplete||ot(t,e),t.bAjaxDataGet=!0,ct(t,!1)}function Q(t,e){var i=N.isPlainObject(t.ajax)&&t.ajax.dataSrc!==R?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===i?e.aaData||e[i]:""!==i?L(i)(e):e}function J(i){var t=i.oClasses,e=i.sTableId,n=i.oLanguage,r=i.oPreviousSearch,s=i.aanFeatures,o='<input type="search" class="'+t.sFilterInput+'"/>',a=(a=n.sSearch).match(/_INPUT_/)?a.replace("_INPUT_",o):a+o,l=(t=N("<div/>",{id:s.f?null:e+"_filter",class:t.sFilter}).append(N("<label/>").append(a)),s=function(){var t=this.value?this.value:"";t!=r.sSearch&&(X(i,{sSearch:t,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),i._iDisplayStart=0,P(i))},o=null!==i.searchDelay?i.searchDelay:"ssp"===Ht(i)?400:0,N("input",t).val(r.sSearch).attr("placeholder",n.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",o?ge(s,o):s).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",e));return N(i.nTable).on("search.dt.DT",function(t,e){if(i===e)try{l[0]!==y.activeElement&&l.val(r.sSearch)}catch(t){}}),t[0]}function X(t,e,i){var n=t.oPreviousSearch,r=t.aoPreSearchCols,s=function(t){n.sSearch=t.sSearch,n.bRegex=t.bRegex,n.bSmart=t.bSmart,n.bCaseInsensitive=t.bCaseInsensitive};if(o(t),"ssp"!=Ht(t)){for(Z(t,e.sSearch,i,e.bEscapeRegex!==R?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),s(e),e=0;e<r.length;e++)$(t,r[e].sSearch,e,r[e].bEscapeRegex!==R?!r[e].bEscapeRegex:r[e].bRegex,r[e].bSmart,r[e].bCaseInsensitive);G(t)}else s(e);t.bFiltered=!0,Lt(t,null,"search",[t])}function G(t){for(var e,i,n=Qt.ext.search,r=t.aiDisplay,s=0,o=n.length;s<o;s++){for(var a=[],l=0,d=r.length;l<d;l++)i=r[l],e=t.aoData[i],n[s](t,e._aFilterData,i,e._aData,l)&&a.push(i);r.length=0,N.merge(r,a)}}function $(t,e,i,n,r,s){if(""!==e){var o=[],a=t.aiDisplay;for(n=Y(e,n,r,s),r=0;r<a.length;r++)e=t.aoData[a[r]]._aFilterData[i],n.test(e)&&o.push(a[r]);t.aiDisplay=o}}function Z(t,e,i,n,r,s){n=Y(e,n,r,s),s=t.oPreviousSearch.sSearch;var o,a=t.aiDisplayMaster;r=[];if(0!==Qt.ext.search.length&&(i=!0),o=K(t),e.length<=0)t.aiDisplay=a.slice();else{for((o||i||s.length>e.length||0!==e.indexOf(s)||t.bSorted)&&(t.aiDisplay=a.slice()),e=t.aiDisplay,i=0;i<e.length;i++)n.test(t.aoData[e[i]]._sFilterRow)&&r.push(e[i]);t.aiDisplay=r}}function Y(t,e,i,n){return t=e?t:ce(t),i&&(t="^(?=.*?"+N.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,n?"i":"")}function K(t){var e,i,n,r,s,o,a,l,d=t.aoColumns,h=Qt.ext.type.search;for(e=!1,i=0,r=t.aoData.length;i<r;i++)if(!(l=t.aoData[i])._aFilterData){for(o=[],n=0,s=d.length;n<s;n++)(e=d[n]).bSearchable?(a=E(t,i,n,"filter"),h[e.sType]&&(a=h[e.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(pe.innerHTML=a,a=fe?pe.textContent:pe.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),o.push(a);l._aFilterData=o,l._sFilterRow=o.join("  "),e=!0}return e}function tt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function et(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function it(t){var e=t.sTableId,i=t.aanFeatures.i,n=N("<div/>",{class:t.oClasses.sInfo,id:i?null:e+"_info"});return i||(t.aoDrawCallback.push({fn:nt,sName:"information"}),n.attr("role","status").attr("aria-live","polite"),N(t.nTable).attr("aria-describedby",e+"_info")),n[0]}function nt(t){var e=t.aanFeatures.i;if(0!==e.length){var i=t.oLanguage,n=t._iDisplayStart+1,r=t.fnDisplayEnd(),s=t.fnRecordsTotal(),o=t.fnRecordsDisplay(),a=o?i.sInfo:i.sInfoEmpty;o!==s&&(a+=" "+i.sInfoFiltered),a=rt(t,a+=i.sInfoPostFix),null!==(i=i.fnInfoCallback)&&(a=i.call(t.oInstance,t,n,r,s,o,a)),N(e).html(a)}}function rt(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,r=t._iDisplayLength,s=t.fnRecordsDisplay(),o=-1===r;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,s)).replace(/_PAGE_/g,i.call(t,o?1:Math.ceil(n/r))).replace(/_PAGES_/g,i.call(t,o?1:Math.ceil(s/r)))}function st(i){var n,t,e,r=i.iInitDisplayStart,s=i.aoColumns;t=i.oFeatures;var o=i.bDeferLoading;if(i.bInitialised){for(z(i),g(i),j(i,i.aoHeader),j(i,i.aoFooter),ct(i,!0),t.bAutoWidth&&gt(i),n=0,t=s.length;n<t;n++)(e=s[n]).sWidth&&(e.nTh.style.width=_t(e.sWidth));Lt(i,null,"preInit",[i]),H(i),("ssp"!=(s=Ht(i))||o)&&("ajax"==s?W(i,[],function(t){var e=Q(i,t);for(n=0;n<e.length;n++)A(i,e[n]);i.iInitDisplayStart=r,H(i),ct(i,!1),ot(i,t)}):(ct(i,!1),ot(i)))}else setTimeout(function(){st(i)},200)}function ot(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&B(t),Lt(t,null,"plugin-init",[t,e]),Lt(t,"aoInitComplete","init",[t,e])}function at(t,e){var i=parseInt(e,10);t._iDisplayLength=i,jt(t),Lt(t,null,"length",[t,i])}function lt(n){for(var t=n.oClasses,e=n.sTableId,i=n.aLengthMenu,r=(s=N.isArray(i[0]))?i[0]:i,s=(i=s?i[1]:i,N("<select/>",{name:e+"_length","aria-controls":e,class:t.sLengthSelect})),o=0,a=r.length;o<a;o++)s[0][o]=new Option("number"==typeof i[o]?n.fnFormatNumber(i[o]):i[o],r[o]);var l=N("<div><label/></div>").addClass(t.sLength);return n.aanFeatures.l||(l[0].id=e+"_length"),l.children().append(n.oLanguage.sLengthMenu.replace("_MENU_",s[0].outerHTML)),N("select",l).val(n._iDisplayLength).on("change.DT",function(){at(n,N(this).val()),P(n)}),N(n.nTable).on("length.dt.DT",function(t,e,i){n===e&&N("select",l).val(i)}),l[0]}function dt(t){var e=t.sPaginationType,o=Qt.ext.pager[e],a="function"==typeof o,l=function(t){P(t)},d=(e=N("<div/>").addClass(t.oClasses.sPaging+e)[0],t.aanFeatures);return a||o.fnInit(t,e,l),d.p||(e.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(a){var e,i=t._iDisplayStart,n=t._iDisplayLength,r=t.fnRecordsDisplay(),s=(i=(s=-1===n)?0:Math.ceil(i/n),n=s?1:Math.ceil(r/n),r=o(i,n),0);for(e=d.p.length;s<e;s++)Pt(t,"pageButton")(t,d.p[s],s,r,i,n)}else o.fnUpdate(t,l)},sName:"pagination"})),e}function ht(t,e,i){var n=t._iDisplayStart,r=t._iDisplayLength,s=t.fnRecordsDisplay();return 0===s||-1===r?n=0:"number"==typeof e?s<(n=e*r)&&(n=0):"first"==e?n=0:"previous"==e?(n=0<=r?n-r:0)<0&&(n=0):"next"==e?n+r<s&&(n+=r):"last"==e?n=Math.floor((s-1)/r)*r:Et(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==n,t._iDisplayStart=n,e&&(Lt(t,null,"page",[t]),i&&P(t)),e}function ut(t){return N("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function ct(t,e){t.oFeatures.bProcessing&&N(t.aanFeatures.r).css("display",e?"block":"none"),Lt(t,null,"processing",[t,e])}function pt(t){(h=N(t.nTable)).attr("role","grid");var e=t.oScroll;if(""===e.sX&&""===e.sY)return t.nTable;var i=e.sX,n=e.sY,r=t.oClasses,s=h.children("caption"),o=s.length?s[0]._captionSide:null,a=N(h[0].cloneNode(!1)),l=N(h[0].cloneNode(!1)),d=h.children("tfoot");d.length||(d=null),a=N("<div/>",{class:r.sScrollWrapper}).append(N("<div/>",{class:r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?i?_t(i):null:"100%"}).append(N("<div/>",{class:r.sScrollHeadInner}).css({"box-sizing":"content-box",width:e.sXInner||"100%"}).append(a.removeAttr("id").css("margin-left",0).append("top"===o?s:null).append(h.children("thead"))))).append(N("<div/>",{class:r.sScrollBody}).css({position:"relative",overflow:"auto",width:i?_t(i):null}).append(h)),d&&a.append(N("<div/>",{class:r.sScrollFoot}).css({overflow:"hidden",border:0,width:i?i?_t(i):null:"100%"}).append(N("<div/>",{class:r.sScrollFootInner}).append(l.removeAttr("id").css("margin-left",0).append("bottom"===o?s:null).append(h.children("tfoot")))));var h,u=(h=a.children())[0],c=(r=h[1],d?h[2]:null);return i&&N(r).on("scroll.DT",function(){var t=this.scrollLeft;u.scrollLeft=t,d&&(c.scrollLeft=t)}),N(r).css(n&&e.bCollapse?"max-height":"height",n),t.nScrollHead=u,t.nScrollBody=r,t.nScrollFoot=c,t.aoDrawCallback.push({fn:ft,sName:"scrolling"}),a[0]}function ft(i){var t,e,n,r,s,o=(d=i.oScroll).sX,a=d.sXInner,l=d.sY,d=d.iBarWidth,h=N(i.nScrollHead),u=h[0].style,c=(f=h.children("div"))[0].style,p=f.children("table"),f=i.nScrollBody,m=N(f),g=f.style,b=N(i.nScrollFoot).children("div"),y=b.children("table"),v=N(i.nTHead),_=N(i.nTable),w=_[0],x=w.style,C=i.nTFoot?N(i.nTFoot):null,T=i.oBrowser,S=T.bScrollOversize,I=re(i.aoColumns,"nTh"),k=[],D=[],A=[],F=[],E=function(t){(t=t.style).paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};e=f.scrollHeight>f.clientHeight,i.scrollBarVis!==e&&i.scrollBarVis!==R?(i.scrollBarVis=e,B(i)):(i.scrollBarVis=e,_.children("thead, tfoot").remove(),C&&(n=C.clone().prependTo(_),t=C.find("tr"),n=n.find("tr")),r=v.clone().prependTo(_),v=v.find("tr"),e=r.find("tr"),r.find("th, td").removeAttr("tabindex"),o||(g.width="100%",h[0].style.width="100%"),N.each(V(i,r),function(t,e){s=O(i,t),e.style.width=i.aoColumns[s].sWidth}),C&&mt(function(t){t.style.width=""},n),h=_.outerWidth(),""===o?(x.width="100%",S&&(_.find("tbody").height()>f.offsetHeight||"scroll"==m.css("overflow-y"))&&(x.width=_t(_.outerWidth()-d)),h=_.outerWidth()):""!==a&&(x.width=_t(a),h=_.outerWidth()),mt(E,e),mt(function(t){A.push(t.innerHTML),k.push(_t(N(t).css("width")))},e),mt(function(t,e){-1!==N.inArray(t,I)&&(t.style.width=k[e])},v),N(e).height(0),C&&(mt(E,n),mt(function(t){F.push(t.innerHTML),D.push(_t(N(t).css("width")))},n),mt(function(t,e){t.style.width=D[e]},t),N(n).height(0)),mt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+A[e]+"</div>",t.style.width=k[e]},e),C&&mt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+F[e]+"</div>",t.style.width=D[e]},n),_.outerWidth()<h?(t=f.scrollHeight>f.offsetHeight||"scroll"==m.css("overflow-y")?h+d:h,S&&(f.scrollHeight>f.offsetHeight||"scroll"==m.css("overflow-y"))&&(x.width=_t(t-d)),(""===o||""!==a)&&Et(i,1,"Possible column misalignment",6)):t="100%",g.width=_t(t),u.width=_t(t),C&&(i.nScrollFoot.style.width=_t(t)),!l&&S&&(g.height=_t(w.offsetHeight+d)),o=_.outerWidth(),p[0].style.width=_t(o),c.width=_t(o),a=_.height()>f.clientHeight||"scroll"==m.css("overflow-y"),c[l="padding"+(T.bScrollbarLeft?"Left":"Right")]=a?d+"px":"0px",C&&(y[0].style.width=_t(o),b[0].style.width=_t(o),b[0].style[l]=a?d+"px":"0px"),_.children("colgroup").insertBefore(_.children("thead")),m.scroll(),!i.bSorted&&!i.bFiltered||i._drawHold||(f.scrollTop=0))}function mt(t,e,i){for(var n,r,s=0,o=0,a=e.length;o<a;){for(n=e[o].firstChild,r=i?i[o].firstChild:null;n;)1===n.nodeType&&(i?t(n,r,s):t(n,s),s++),n=n.nextSibling,r=i?r.nextSibling:null;o++}}function gt(t){var e,i,n=t.nTable,r=t.aoColumns,s=(m=t.oScroll).sY,o=m.sX,a=m.sXInner,l=r.length,d=k(t,"bVisible"),h=N("th",t.nTHead),u=n.getAttribute("width"),c=n.parentNode,p=!1,f=t.oBrowser,m=f.bScrollOversize;for((e=n.style.width)&&-1!==e.indexOf("%")&&(u=e),e=0;e<d.length;e++)null!==(i=r[d[e]]).sWidth&&(i.sWidth=bt(i.sWidthOrig,c),p=!0);if(m||!p&&!o&&!s&&l==v(t)&&l==h.length)for(e=0;e<l;e++)null!==(d=O(t,e))&&(r[d].sWidth=_t(h.eq(e).width()));else{(l=N(n).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var g=N("<tr/>").appendTo(l.find("tbody"));for(l.find("thead, tfoot").remove(),l.append(N(t.nTHead).clone()).append(N(t.nTFoot).clone()),l.find("tfoot th, tfoot td").css("width",""),h=V(t,l.find("thead")[0]),e=0;e<d.length;e++)i=r[d[e]],h[e].style.width=null!==i.sWidthOrig&&""!==i.sWidthOrig?_t(i.sWidthOrig):"",i.sWidthOrig&&o&&N(h[e]).append(N("<div/>").css({width:i.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(t.aoData.length)for(e=0;e<d.length;e++)i=r[p=d[e]],N(yt(t,p)).clone(!1).append(i.sContentPadding).appendTo(g);for(N("[name]",l).removeAttr("name"),i=N("<div/>").css(o||s?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(l).appendTo(c),o&&a?l.width(a):o?(l.css("width","auto"),l.removeAttr("width"),l.width()<c.clientWidth&&u&&l.width(c.clientWidth)):s?l.width(c.clientWidth):u&&l.width(u),e=s=0;e<d.length;e++)a=(c=N(h[e])).outerWidth()-c.width(),s+=c=f.bBounding?Math.ceil(h[e].getBoundingClientRect().width):c.outerWidth(),r[d[e]].sWidth=_t(c-a);n.style.width=_t(s),i.remove()}u&&(n.style.width=_t(u)),!u&&!o||t._reszEvt||(n=function(){N(b).on("resize.DT-"+t.sInstance,ge(function(){B(t)}))},m?setTimeout(n,1e3):n(),t._reszEvt=!0)}function bt(t,e){if(!t)return 0;var i=N("<div/>").css("width",_t(t)).appendTo(e||y.body),n=i[0].offsetWidth;return i.remove(),n}function yt(t,e){var i=vt(t,e);if(i<0)return null;var n=t.aoData[i];return n.nTr?n.anCells[e]:N("<td/>").html(E(t,i,e,"display"))[0]}function vt(t,e){for(var i,n=-1,r=-1,s=0,o=t.aoData.length;s<o;s++)(i=(i=(i=E(t,s,e,"display")+"").replace(me,"")).replace(/&nbsp;/g," ")).length>n&&(n=i.length,r=s);return r}function _t(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function wt(t){var e,i,n,r,s,o,a=[],l=t.aoColumns;e=t.aaSortingFixed,i=N.isPlainObject(e);var d=[];for(n=function(t){t.length&&!N.isArray(t[0])?d.push(t):N.merge(d,t)},N.isArray(e)&&n(e),i&&e.pre&&n(e.pre),n(t.aaSorting),i&&e.post&&n(e.post),t=0;t<d.length;t++)for(e=0,i=(n=l[o=d[t][0]].aDataSort).length;e<i;e++)s=l[r=n[e]].sType||"string",d[t]._idx===R&&(d[t]._idx=N.inArray(d[t][1],l[r].asSorting)),a.push({src:o,col:r,dir:d[t][1],index:d[t]._idx,type:s,formatter:Qt.ext.type.order[s+"-pre"]});return a}function xt(t){var e,i,n,d,h=[],u=Qt.ext.type.order,c=t.aoData,r=0,s=t.aiDisplayMaster;for(o(t),e=0,i=(d=wt(t)).length;e<i;e++)(n=d[e]).formatter&&r++,kt(t,n.col);if("ssp"!=Ht(t)&&0!==d.length){for(e=0,i=s.length;e<i;e++)h[s[e]]=e;r===d.length?s.sort(function(t,e){var i,n,r,s,o=d.length,a=c[t]._aSortData,l=c[e]._aSortData;for(r=0;r<o;r++)if(0!==(i=(i=a[(s=d[r]).col])<(n=l[s.col])?-1:n<i?1:0))return"asc"===s.dir?i:-i;return(i=h[t])<(n=h[e])?-1:n<i?1:0}):s.sort(function(t,e){var i,n,r,s,o=d.length,a=c[t]._aSortData,l=c[e]._aSortData;for(r=0;r<o;r++)if(i=a[(s=d[r]).col],n=l[s.col],0!==(i=(s=u[s.type+"-"+s.dir]||u["string-"+s.dir])(i,n)))return i;return(i=h[t])<(n=h[e])?-1:n<i?1:0})}t.bSorted=!0}function Ct(t){for(var e,i,n=t.aoColumns,r=wt(t),s=(t=t.oLanguage.oAria,0),o=n.length;s<o;s++){var a=(i=n[s]).asSorting;e=i.sTitle.replace(/<.*?>/g,"");var l=i.nTh;l.removeAttribute("aria-sort"),i.bSortable&&(e+="asc"===(i=0<r.length&&r[0].col==s?(l.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),a[r[0].index+1]||a[0]):a[0])?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function Tt(t,e,i,n){var r=t.aaSorting,s=t.aoColumns[e].asSorting,o=function(t,e){var i=t._idx;return i===R&&(i=N.inArray(t[1],s)),i+1<s.length?i+1:e?null:0};"number"==typeof r[0]&&(r=t.aaSorting=[r]),i&&t.oFeatures.bSortMulti?-1!==(i=N.inArray(e,re(r,"0")))?(null===(e=o(r[i],!0))&&1===r.length&&(e=0),null===e?r.splice(i,1):(r[i][1]=s[e],r[i]._idx=e)):(r.push([e,s[0],0]),r[r.length-1]._idx=0):r.length&&r[0][0]==e?(e=o(r[0]),r.length=1,r[0][1]=s[e],r[0]._idx=e):(r.length=0,r.push([e,s[0]]),r[0]._idx=0),H(t),"function"==typeof n&&n(t)}function St(e,t,i,n){var r=e.aoColumns[i];Bt(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(ct(e,!0),setTimeout(function(){Tt(e,i,t.shiftKey,n),"ssp"!==Ht(e)&&ct(e,!1)},0)):Tt(e,i,t.shiftKey,n))})}function It(t){var e,i,n=t.aLastSort,r=t.oClasses.sSortColumn,s=wt(t),o=t.oFeatures;if(o.bSort&&o.bSortClasses){for(o=0,e=n.length;o<e;o++)i=n[o].src,N(re(t.aoData,"anCells",i)).removeClass(r+(o<2?o+1:3));for(o=0,e=s.length;o<e;o++)i=s[o].src,N(re(t.aoData,"anCells",i)).addClass(r+(o<2?o+1:3))}t.aLastSort=s}function kt(t,e){var i,n=t.aoColumns[e],r=Qt.ext.order[n.sSortDataType];r&&(i=r.call(t.oInstance,t,e,d(t,e)));for(var s,o=Qt.ext.type.order[n.sType+"-pre"],a=0,l=t.aoData.length;a<l;a++)(n=t.aoData[a])._aSortData||(n._aSortData=[]),(!n._aSortData[e]||r)&&(s=r?i[a]:E(t,a,e,"sort"),n._aSortData[e]=o?o(s):s)}function Dt(i){if(i.oFeatures.bStateSave&&!i.bDestroying){var t={time:+new Date,start:i._iDisplayStart,length:i._iDisplayLength,order:N.extend(!0,[],i.aaSorting),search:tt(i.oPreviousSearch),columns:N.map(i.aoColumns,function(t,e){return{visible:t.bVisible,search:tt(i.aoPreSearchCols[e])}})};Lt(i,"aoStateSaveParams","stateSaveParams",[i,t]),i.oSavedState=t,i.fnStateSaveCallback.call(i.oInstance,i,t)}}function At(i,t,n){var r,s,o=i.aoColumns;t=function(t){if(t&&t.time){var e=Lt(i,"aoStateLoadParams","stateLoadParams",[i,t]);if(-1===N.inArray(!1,e)&&!(0<(e=i.iStateDuration)&&t.time<+new Date-1e3*e||t.columns&&o.length!==t.columns.length)){if(i.oLoadedState=N.extend(!0,{},t),t.start!==R&&(i._iDisplayStart=t.start,i.iInitDisplayStart=t.start),t.length!==R&&(i._iDisplayLength=t.length),t.order!==R&&(i.aaSorting=[],N.each(t.order,function(t,e){i.aaSorting.push(e[0]>=o.length?[0,e[1]]:e)})),t.search!==R&&N.extend(i.oPreviousSearch,et(t.search)),t.columns)for(r=0,s=t.columns.length;r<s;r++)(e=t.columns[r]).visible!==R&&(o[r].bVisible=e.visible),e.search!==R&&N.extend(i.aoPreSearchCols[r],et(e.search));Lt(i,"aoStateLoaded","stateLoaded",[i,t])}}n()};if(i.oFeatures.bStateSave){var e=i.fnStateLoadCallback.call(i.oInstance,i,t);e!==R&&t(e)}else n()}function Ft(t){var e=Qt.settings;return-1!==(t=N.inArray(t,re(e,"nTable")))?e[t]:null}function Et(t,e,i,n){if(i="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+i,n&&(i+=". For more information about this error, please see http://datatables.net/tn/"+n),e)b.console&&console.log&&console.log(i);else if(e=(e=Qt.ext).sErrMode||e.errMode,t&&Lt(t,null,"error",[t,n,i]),"alert"==e)alert(i);else{if("throw"==e)throw Error(i);"function"==typeof e&&e(t,n,i)}}function Nt(i,n,t,e){N.isArray(t)?N.each(t,function(t,e){N.isArray(e)?Nt(i,n,e[0],e[1]):Nt(i,n,e)}):(e===R&&(e=t),n[t]!==R&&(i[e]=n[t]))}function Rt(t,e,i){var n,r;for(r in e)e.hasOwnProperty(r)&&(n=e[r],N.isPlainObject(n)?(N.isPlainObject(t[r])||(t[r]={}),N.extend(!0,t[r],n)):t[r]=i&&"data"!==r&&"aaData"!==r&&N.isArray(n)?n.slice():n);return t}function Bt(e,t,i){N(e).on("click.DT",t,function(t){e.blur(),i(t)}).on("keypress.DT",t,function(t){13===t.which&&(t.preventDefault(),i(t))}).on("selectstart.DT",function(){return!1})}function Ot(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function Lt(e,t,i,n){var r=[];return t&&(r=N.map(e[t].slice().reverse(),function(t){return t.fn.apply(e.oInstance,n)})),null!==i&&(t=N.Event(i+".dt"),N(e.nTable).trigger(t,n),r.push(t.result)),r}function jt(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;i<=e&&(e=i-n),e-=e%n,(-1===n||e<0)&&(e=0),t._iDisplayStart=e}function Pt(t,e){var i=t.renderer,n=Qt.ext.renderer[e];return N.isPlainObject(i)&&i[e]?n[i[e]]||n._:"string"==typeof i&&n[i]||n._}function Ht(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function zt(t,e){var i=[],n=(i=De.numbers_length,Math.floor(i/2));return e<=i?i=oe(0,e):t<=n?((i=oe(0,i-2)).push("ellipsis"),i.push(e-1)):(e-1-n<=t?i=oe(e-(i-2),e):((i=oe(t-n+2,t+n-1)).push("ellipsis"),i.push(e-1)),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Mt(i){N.each({num:function(t){return Ae(t,i)},"num-fmt":function(t){return Ae(t,i,Yt)},"html-num":function(t){return Ae(t,i,Gt)},"html-num-fmt":function(t){return Ae(t,i,Gt,Yt)}},function(t,e){Vt.type.order[t+i+"-pre"]=e,t.match(/^html\-/)&&(Vt.type.search[t+i]=Vt.type.search.html)})}function e(e){return function(){var t=[Ft(this[Qt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Qt.ext.internal[e].apply(this,t)}}var Vt,Wt,qt,Ut,Qt=function(g){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Wt(t?Ft(this[Vt.iApiIndex]):this)},this.fnAddData=function(t,e){var i=this.api(!0),n=N.isArray(t)&&(N.isArray(t[0])||N.isPlainObject(t[0]))?i.rows.add(t):i.row.add(t);return(e===R||e)&&i.draw(),n.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],n=i.oScroll;t===R||t?e.draw(!1):(""!==n.sX||""!==n.sY)&&ft(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===R||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var n=this.api(!0),r=(t=n.rows(t)).settings()[0],s=r.aoData[t[0][0]];return t.remove(),e&&e.call(this,r,s),(i===R||i)&&n.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,n,r,s){r=this.api(!0),null===e||e===R?r.search(t,i,n,s):r.column(e).search(t,i,n,s),r.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t===R)return i.data().toArray();var n=t.nodeName?t.nodeName.toLowerCase():"";return e!==R||"td"==n||"th"==n?i.cell(t,e).data():i.row(t).data()||null},this.fnGetNodes=function(t){var e=this.api(!0);return t!==R?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();return"TR"==i?e.row(t).index():"TD"==i||"TH"==i?[(t=e.cell(t).index()).row,t.columnVisible,t.column]:null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===R||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){t=this.api(!0).column(t).visible(e),(i===R||i)&&t.columns.adjust().draw()},this.fnSettings=function(){return Ft(this[Vt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,n,r){var s=this.api(!0);return i===R||null===i?s.row(e).data(t):s.cell(e,i).data(t),(r===R||r)&&s.columns.adjust(),(n===R||n)&&s.draw(),0},this.fnVersionCheck=Vt.fnVersionCheck;var b=this,y=g===R,v=this.length;for(var t in y&&(g={}),this.oApi=this.internal=Vt.internal,Qt.ext.internal)t&&(this[t]=e(t));return this.each(function(){var i,t={},n=1<v?Rt(t,g,!0):g,r=0,s=(t=this.getAttribute("id"),!1),e=Qt.defaults,o=N(this);if("table"!=this.nodeName.toLowerCase())Et(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{x(e),C(e.column),_(e,e,!0),_(e.column,e.column,!0),_(e,N.extend(n,o.data()));var a=Qt.settings;r=0;for(i=a.length;r<i;r++){var l=a[r];if(l.nTable==this||l.nTHead.parentNode==this||l.nTFoot&&l.nTFoot.parentNode==this){var d=n.bRetrieve!==R?n.bRetrieve:e.bRetrieve;if(y||d)return l.oInstance;if(n.bDestroy!==R?n.bDestroy:e.bDestroy){l.oInstance.fnDestroy();break}return void Et(l,0,"Cannot reinitialise DataTable",3)}if(l.sTableId==this.id){a.splice(r,1);break}}null!==t&&""!==t||(this.id=t="DataTables_Table_"+Qt.ext._unique++);var h=N.extend(!0,{},Qt.models.oSettings,{sDestroyWidth:o[0].style.width,sInstance:t,sTableId:t});h.nTable=this,h.oApi=b.internal,h.oInit=n,a.push(h),h.oInstance=1===b.length?b:o.dataTable(),x(n),n.oLanguage&&w(n.oLanguage),n.aLengthMenu&&!n.iDisplayLength&&(n.iDisplayLength=N.isArray(n.aLengthMenu[0])?n.aLengthMenu[0][0]:n.aLengthMenu[0]),n=Rt(N.extend(!0,{},e),n),Nt(h.oFeatures,n,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Nt(h,n,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Nt(h.oScroll,n,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Nt(h.oLanguage,n,"fnInfoCallback"),Ot(h,"aoDrawCallback",n.fnDrawCallback,"user"),Ot(h,"aoServerParams",n.fnServerParams,"user"),Ot(h,"aoStateSaveParams",n.fnStateSaveParams,"user"),Ot(h,"aoStateLoadParams",n.fnStateLoadParams,"user"),Ot(h,"aoStateLoaded",n.fnStateLoaded,"user"),Ot(h,"aoRowCallback",n.fnRowCallback,"user"),Ot(h,"aoRowCreatedCallback",n.fnCreatedRow,"user"),Ot(h,"aoHeaderCallback",n.fnHeaderCallback,"user"),Ot(h,"aoFooterCallback",n.fnFooterCallback,"user"),Ot(h,"aoInitComplete",n.fnInitComplete,"user"),Ot(h,"aoPreDrawCallback",n.fnPreDrawCallback,"user"),h.rowIdFn=L(n.rowId),T(h);var u=h.oClasses;N.extend(u,Qt.ext.classes,n.oClasses),o.addClass(u.sTable),h.iInitDisplayStart===R&&(h.iInitDisplayStart=n.iDisplayStart,h._iDisplayStart=n.iDisplayStart),null!==n.iDeferLoading&&(h.bDeferLoading=!0,t=N.isArray(n.iDeferLoading),h._iRecordsDisplay=t?n.iDeferLoading[0]:n.iDeferLoading,h._iRecordsTotal=t?n.iDeferLoading[1]:n.iDeferLoading);var c=h.oLanguage;N.extend(!0,c,n.oLanguage),c.sUrl&&(N.ajax({dataType:"json",url:c.sUrl,success:function(t){w(t),_(e.oLanguage,t),N.extend(!0,c,t),st(h)},error:function(){st(h)}}),s=!0),null===n.asStripeClasses&&(h.asStripeClasses=[u.sStripeOdd,u.sStripeEven]);t=h.asStripeClasses;var p=o.children("tbody").find("tr").eq(0);if(-1!==N.inArray(!0,N.map(t,function(t){return p.hasClass(t)}))&&(N("tbody tr",this).removeClass(t.join(" ")),h.asDestroyStripes=t.slice()),t=[],0!==(a=this.getElementsByTagName("thead")).length&&(M(h.aoHeader,a[0]),t=V(h)),null===n.aoColumns)for(a=[],r=0,i=t.length;r<i;r++)a.push(null);else a=n.aoColumns;for(r=0,i=a.length;r<i;r++)S(h,t?t[r]:null);if(D(h,n.aoColumnDefs,a,function(t,e){I(h,t,e)}),p.length){var f=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};N(p[0]).children("th, td").each(function(t,e){var i=h.aoColumns[t];if(i.mData===t){var n=f(e,"sort")||f(e,"order"),r=f(e,"filter")||f(e,"search");null===n&&null===r||(i.mData={_:t+".display",sort:null!==n?t+".@data-"+n:R,type:null!==n?t+".@data-"+n:R,filter:null!==r?t+".@data-"+r:R},I(h,t))}})}var m=h.oFeatures;t=function(){if(n.aaSorting===R){var t=h.aaSorting;for(r=0,i=t.length;r<i;r++)t[r][1]=h.aoColumns[r].asSorting[0]}It(h),m.bSort&&Ot(h,"aoDrawCallback",function(){if(h.bSorted){var t=wt(h),i={};N.each(t,function(t,e){i[e.src]=e.dir}),Lt(h,null,"order",[h,t,i]),Ct(h)}}),Ot(h,"aoDrawCallback",function(){(h.bSorted||"ssp"===Ht(h)||m.bDeferRender)&&It(h)},"sc");t=o.children("caption").each(function(){this._captionSide=N(this).css("caption-side")});var e=o.children("thead");if(0===e.length&&(e=N("<thead/>").appendTo(o)),h.nTHead=e[0],0===(e=o.children("tbody")).length&&(e=N("<tbody/>").appendTo(o)),h.nTBody=e[0],0===(e=o.children("tfoot")).length&&0<t.length&&(""!==h.oScroll.sX||""!==h.oScroll.sY)&&(e=N("<tfoot/>").appendTo(o)),0===e.length||0===e.children().length?o.addClass(u.sNoFooter):0<e.length&&(h.nTFoot=e[0],M(h.aoFooter,h.nTFoot)),n.aaData)for(r=0;r<n.aaData.length;r++)A(h,n.aaData[r]);else(h.bDeferLoading||"dom"==Ht(h))&&F(h,N(h.nTBody).children("tr"));h.aiDisplay=h.aiDisplayMaster.slice(),!(h.bInitialised=!0)===s&&st(h)};n.bStateSave?(m.bStateSave=!0,Ot(h,"aoDrawCallback",Dt,"state_save"),At(h,n,t)):t()}}),b=null,this},Jt={},Xt=/[\r\n]/g,Gt=/<.*?>/g,$t=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Zt=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Yt=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,Kt=function(t){return!t||!0===t||"-"===t},te=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ee=function(t,e){return Jt[e]||(Jt[e]=RegExp(ce(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Jt[e],"."):t},ie=function(t,e,i){var n="string"==typeof t;return!!Kt(t)||(e&&n&&(t=ee(t,e)),i&&n&&(t=t.replace(Yt,"")),!isNaN(parseFloat(t))&&isFinite(t))},ne=function(t,e,i){return!!Kt(t)||((Kt(t)||"string"==typeof t)&&!!ie(t.replace(Gt,""),e,i)||null)},re=function(t,e,i){var n=[],r=0,s=t.length;if(i!==R)for(;r<s;r++)t[r]&&t[r][e]&&n.push(t[r][e][i]);else for(;r<s;r++)t[r]&&n.push(t[r][e]);return n},se=function(t,e,i,n){var r=[],s=0,o=e.length;if(n!==R)for(;s<o;s++)t[e[s]][i]&&r.push(t[e[s]][i][n]);else for(;s<o;s++)r.push(t[e[s]][i]);return r},oe=function(t,e){var i,n=[];e===R?(e=0,i=t):(i=e,e=t);for(var r=e;r<i;r++)n.push(r);return n},ae=function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},le=function(t){var e;t:{if(!(t.length<2))for(var i=(e=t.slice().sort())[0],n=1,r=e.length;n<r;n++){if(e[n]===i){e=!1;break t}i=e[n]}e=!0}if(e)return t.slice();e=[];r=t.length;var s,o=0;n=0;t:for(;n<r;n++){for(i=t[n],s=0;s<o;s++)if(e[s]===i)continue t;e.push(i),o++}return e};Qt.util={throttle:function(n,t){var r,s,o=t!==R?t:200;return function(){var t=this,e=+new Date,i=arguments;r&&e<r+o?(clearTimeout(s),s=setTimeout(function(){r=R,n.apply(t,i)},o)):(r=e,n.apply(t,i))}},escapeRegex:function(t){return t.replace(Zt,"\\$1")}};var de=function(t,e,i){t[e]!==R&&(t[i]=t[e])},he=/\[.*?\]$/,ue=/\(\)$/,ce=Qt.util.escapeRegex,pe=N("<div>")[0],fe=pe.textContent!==R,me=/<.*?>/g,ge=Qt.util.throttle,be=[],ye=Array.prototype;Wt=function(t,e){if(!(this instanceof Wt))return new Wt(t,e);var o=[],i=function(t){var e,i,n,r,s;e=t,r=Qt.settings,s=N.map(r,function(t){return t.nTable}),(t=e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(i=N.inArray(e,s))?[r[i]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=N(e):e instanceof N&&(n=e),n?n.map(function(){return-1!==(i=N.inArray(this,s))?r[i]:null}).toArray():void 0):[])&&(o=o.concat(t))};if(N.isArray(t))for(var n=0,r=t.length;n<r;n++)i(t[n]);else i(t);this.context=le(o),e&&N.merge(this,e),this.selector={rows:null,cols:null,opts:null},Wt.extend(this,this,be)},Qt.Api=Wt,N.extend(Wt.prototype,{any:function(){return 0!==this.count()},concat:ye.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;e<i;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Wt(e[t],this[t]):null},filter:function(t){var e=[];if(ye.filter)e=ye.filter.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new Wt(this.context,e)},flatten:function(){var t=[];return new Wt(this.context,t.concat.apply(t,this.toArray()))},join:ye.join,indexOf:ye.indexOf||function(t,e){for(var i=e||0,n=this.length;i<n;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,n){var r,s,o,a,l,d,h,u=[],c=this.context,p=this.selector;for("string"==typeof t&&(n=i,i=e,e=t,t=!1),s=0,o=c.length;s<o;s++){var f=new Wt(c[s]);if("table"===e)(r=i.call(f,c[s],s))!==R&&u.push(r);else if("columns"===e||"rows"===e)(r=i.call(f,c[s],this[s],s))!==R&&u.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(h=this[s],"column-rows"===e&&(d=Ce(c[s],p.opts)),a=0,l=h.length;a<l;a++)r=h[a],(r="cell"===e?i.call(f,c[s],r.row,r.column,s,a):i.call(f,c[s],r,s,a,d))!==R&&u.push(r)}return u.length||n?((e=(t=new Wt(c,t?u.concat.apply([],u):u)).selector).rows=p.rows,e.cols=p.cols,e.opts=p.opts,t):this},lastIndexOf:ye.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(ye.map)e=ye.map.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)e.push(t.call(this,this[i],i));return new Wt(this.context,e)},pluck:function(e){return this.map(function(t){return t[e]})},pop:ye.pop,push:ye.push,reduce:ye.reduce||function(t,e){return i(this,t,e,0,this.length,1)},reduceRight:ye.reduceRight||function(t,e){return i(this,t,e,this.length-1,-1,-1)},reverse:ye.reverse,selector:null,shift:ye.shift,slice:function(){return new Wt(this.context,this)},sort:ye.sort,splice:ye.splice,toArray:function(){return ye.slice.call(this)},to$:function(){return N(this)},toJQuery:function(){return N(this)},unique:function(){return new Wt(this.context,le(this))},unshift:ye.unshift}),Wt.extend=function(t,e,i){if(i.length&&e&&(e instanceof Wt||e.__dt_wrapper)){var n,r,s,o=function(e,i,n){return function(){var t=i.apply(e,arguments);return Wt.extend(t,t,n.methodExt),t}};for(n=0,r=i.length;n<r;n++)e[(s=i[n]).name]="function"==typeof s.val?o(t,s.val,s):N.isPlainObject(s.val)?{}:s.val,e[s.name].__dt_wrapper=!0,Wt.extend(t,e[s.name],s.propExt)}},Wt.register=qt=function(t,e){if(N.isArray(t))for(var i=0,n=t.length;i<n;i++)Wt.register(t[i],e);else{var r,s,o=t.split("."),a=be;for(i=0,n=o.length;i<n;i++){var l;r=(s=-1!==o[i].indexOf("()"))?o[i].replace("()",""):o[i];t:{l=0;for(var d=a.length;l<d;l++)if(a[l].name===r){l=a[l];break t}l=null}l||(l={name:r,val:{},methodExt:[],propExt:[]},a.push(l)),i===n-1?l.val=e:a=s?l.methodExt:l.propExt}}},Wt.registerPlural=Ut=function(t,e,i){Wt.register(t,i),Wt.register(e,function(){var t=i.apply(this,arguments);return t===this?this:t instanceof Wt?t.length?N.isArray(t[0])?new Wt(t.context,t[0]):t[0]:R:t})},qt("tables()",function(t){var e;if(t){e=Wt;var i=this.context;if("number"==typeof t)t=[i[t]];else{var n=N.map(i,function(t){return t.nTable});t=N(n).filter(t).map(function(){var t=N.inArray(this,n);return i[t]}).toArray()}e=new e(t)}else e=this;return e}),qt("table()",function(t){var e=(t=this.tables(t)).context;return e.length?new Wt(e[0]):t}),Ut("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Ut("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Ut("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Ut("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Ut("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),qt("draw()",function(e){return this.iterator("table",function(t){"page"===e?P(t):("string"==typeof e&&(e="full-hold"!==e),H(t,!1===e))})}),qt("page()",function(e){return e===R?this.page.info().page:this.iterator("table",function(t){ht(t,e)})}),qt("page.info()",function(){if(0===this.context.length)return R;var t=this.context[0],e=t._iDisplayStart,i=t.oFeatures.bPaginate?t._iDisplayLength:-1,n=t.fnRecordsDisplay(),r=-1===i;return{page:r?0:Math.floor(e/i),pages:r?1:Math.ceil(n/i),start:e,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:n,serverSide:"ssp"===Ht(t)}}),qt("page.len()",function(e){return e===R?0!==this.context.length?this.context[0]._iDisplayLength:R:this.iterator("table",function(t){at(t,e)})});var ve=function(n,r,t){if(t){var e=new Wt(n);e.one("draw",function(){t(e.ajax.json())})}if("ssp"==Ht(n))H(n,r);else{ct(n,!0);var i=n.jqXHR;i&&4!==i.readyState&&i.abort(),W(n,[],function(t){a(n);for(var e=0,i=(t=Q(n,t)).length;e<i;e++)A(n,t[e]);H(n,r),ct(n,!1)})}};qt("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),qt("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),qt("ajax.reload()",function(e,i){return this.iterator("table",function(t){ve(t,!1===i,e)})}),qt("ajax.url()",function(e){var t=this.context;return e===R?0===t.length?R:(t=t[0]).ajax?N.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource:this.iterator("table",function(t){N.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),qt("ajax.url().load()",function(e,i){return this.iterator("table",function(t){ve(t,!1===i,e)})});var _e=function(t,e,i,n,r){var s,o,a,l,d,h,u=[];for(a=typeof e,e&&"string"!==a&&"function"!==a&&e.length!==R||(e=[e]),a=0,l=e.length;a<l;a++)for(d=0,h=(o=e[a]&&e[a].split&&!e[a].match(/[\[\(:]/)?e[a].split(","):[e[a]]).length;d<h;d++)(s=i("string"==typeof o[d]?N.trim(o[d]):o[d]))&&s.length&&(u=u.concat(s));if((t=Vt.selector[t]).length)for(a=0,l=t.length;a<l;a++)u=t[a](n,r,u);return le(u)},we=function(t){return t||(t={}),t.filter&&t.search===R&&(t.search=t.filter),N.extend({search:"none",order:"current",page:"all"},t)},xe=function(t){for(var e=0,i=t.length;e<i;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Ce=function(t,e){var i,n,r,s=[],o=t.aiDisplay;i=t.aiDisplayMaster;var a=e.search;if(n=e.order,r=e.page,"ssp"==Ht(t))return"removed"===a?[]:oe(0,i.length);if("current"==r)for(i=t._iDisplayStart,n=t.fnDisplayEnd();i<n;i++)s.push(o[i]);else if("current"==n||"applied"==n)s="none"==a?i.slice():"applied"==a?o.slice():N.map(i,function(t){return-1===N.inArray(t,o)?t:null});else if("index"==n||"original"==n)for(i=0,n=t.aoData.length;i<n;i++)"none"==a?s.push(i):(-1===(r=N.inArray(i,o))&&"removed"==a||0<=r&&"applied"==a)&&s.push(i);return s};qt("rows()",function(t,e){t===R?t="":N.isPlainObject(t)&&(e=t,t="");e=we(e);var i=this.iterator("table",function(n){var r,s=e;return _e("row",t,function(i){var t=te(i);if(null!==t&&!s)return[t];if(r||(r=Ce(n,s)),null!==t&&-1!==N.inArray(t,r))return[t];if(null===i||i===R||""===i)return r;if("function"==typeof i)return N.map(r,function(t){var e=n.aoData[t];return i(t,e._aData,e.nTr)?t:null});if(t=ae(se(n.aoData,r,"nTr")),i.nodeName)return i._DT_RowIndex!==R?[i._DT_RowIndex]:i._DT_CellIndex?[i._DT_CellIndex.row]:(t=N(i).closest("*[data-dt-row]")).length?[t.data("dt-row")]:[];if("string"==typeof i&&"#"===i.charAt(0)){var e=n.aIds[i.replace(/^#/,"")];if(e!==R)return[e.idx]}return N(t).filter(i).map(function(){return this._DT_RowIndex}).toArray()},n,s)},1);return i.selector.rows=t,i.selector.opts=e,i}),qt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||R},1)}),qt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return se(t.aoData,e,"_aData")},1)}),Ut("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,e){var i=t.aoData[e];return"search"===n?i._aFilterData:i._aSortData},1)}),Ut("rows().invalidate()","row().invalidate()",function(i){return this.iterator("row",function(t,e){r(t,e,i)})}),Ut("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Ut("rows().ids()","row().id()",function(t){for(var e=[],i=this.context,n=0,r=i.length;n<r;n++)for(var s=0,o=this[n].length;s<o;s++){var a=i[n].rowIdFn(i[n].aoData[this[n][s]]._aData);e.push((!0===t?"#":"")+a)}return new Wt(i,e)}),Ut("rows().remove()","row().remove()",function(){var h=this;return this.iterator("row",function(t,e,i){var n,r,s,o,a,l=t.aoData,d=l[e];for(l.splice(e,1),n=0,r=l.length;n<r;n++)if(a=(s=l[n]).anCells,null!==s.nTr&&(s.nTr._DT_RowIndex=n),null!==a)for(s=0,o=a.length;s<o;s++)a[s]._DT_CellIndex.row=n;u(t.aiDisplayMaster,e),u(t.aiDisplay,e),u(h[i],e,!1),0<t._iRecordsDisplay&&t._iRecordsDisplay--,jt(t),(e=t.rowIdFn(d._aData))!==R&&delete t.aIds[e]}),this.iterator("table",function(t){for(var e=0,i=t.aoData.length;e<i;e++)t.aoData[e].idx=e}),this}),qt("rows.add()",function(s){var t=this.iterator("table",function(t){var e,i,n,r=[];for(i=0,n=s.length;i<n;i++)(e=s[i]).nodeName&&"TR"===e.nodeName.toUpperCase()?r.push(F(t,e)[0]):r.push(A(t,e));return r},1),e=this.rows(-1);return e.pop(),N.merge(e,t),e}),qt("row()",function(t,e){return xe(this.rows(t,e))}),qt("row().data()",function(t){var e=this.context;return t===R?e.length&&this.length?e[0].aoData[this[0]]._aData:R:(e[0].aoData[this[0]]._aData=t,r(e[0],this[0],"data"),this)}),qt("row().node()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null}),qt("row.add()",function(e){e instanceof N&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?F(t,e)[0]:A(t,e)});return this.row(t[0])});var Te=function(t,e){var i=t.context;i.length&&(i=i[0].aoData[e!==R?e:t[0]])&&i._details&&(i._details.remove(),i._detailsShow=R,i._details=R)},Se=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];if(n._details){(n._detailsShow=e)?n._details.insertAfter(n.nTr):n._details.detach();var o=i[0],r=new Wt(o),a=o.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<re(a,"_details").length&&(r.on("draw.dt.DT_details",function(t,e){o===e&&r.rows({page:"current"}).eq(0).each(function(t){(t=a[t])._detailsShow&&t._details.insertAfter(t.nTr)})}),r.on("column-visibility.dt.DT_details",function(t,e){if(o===e)for(var i,n=v(e),r=0,s=a.length;r<s;r++)(i=a[r])._details&&i._details.children("td[colspan]").attr("colspan",n)}),r.on("destroy.dt.DT_details",function(t,e){if(o===e)for(var i=0,n=a.length;i<n;i++)a[i]._details&&Te(r,i)}))}}};qt("row().child()",function(t,e){var i=this.context;if(t===R)return i.length&&this.length?i[0].aoData[this[0]]._details:R;if(!0===t)this.child.show();else if(!1===t)Te(this);else if(i.length&&this.length){var r=i[0],s=(i=i[0].aoData[this[0]],[]),o=function(t,e){if(N.isArray(t)||t instanceof N)for(var i=0,n=t.length;i<n;i++)o(t[i],e);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?s.push(t):(i=N("<tr><td/></tr>").addClass(e),N("td",i).addClass(e).html(t)[0].colSpan=v(r),s.push(i[0]))};o(t,e),i._details&&i._details.detach(),i._details=N(s),i._detailsShow&&i._details.insertAfter(i.nTr)}return this}),qt(["row().child.show()","row().child().show()"],function(){return Se(this,!0),this}),qt(["row().child.hide()","row().child().hide()"],function(){return Se(this,!1),this}),qt(["row().child.remove()","row().child().remove()"],function(){return Te(this),this}),qt("row().child.isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1});var Ie=/^([^:]+):(name|visIdx|visible)$/,ke=function(t,e,i,n,r){i=[],n=0;for(var s=r.length;n<s;n++)i.push(E(t,r[n],e));return i};qt("columns()",function(e,i){e===R?e="":N.isPlainObject(e)&&(i=e,e="");i=we(i);var t=this.iterator("table",function(s){var t=e,o=i,a=s.aoColumns,l=re(a,"sName"),d=re(a,"nTh");return _e("column",t,function(i){var t=te(i);if(""===i)return oe(a.length);if(null!==t)return[0<=t?t:a.length+t];if("function"==typeof i){var n=Ce(s,o);return N.map(a,function(t,e){return i(e,ke(s,e,0,0,n),d[e])?e:null})}var r="string"==typeof i?i.match(Ie):"";if(r)switch(r[2]){case"visIdx":case"visible":if((t=parseInt(r[1],10))<0){var e=N.map(a,function(t,e){return t.bVisible?e:null});return[e[e.length+t]]}return[O(s,t)];case"name":return N.map(l,function(t,e){return t===r[1]?e:null});default:return[]}return i.nodeName&&i._DT_CellIndex?[i._DT_CellIndex.column]:(t=N(d).filter(i).map(function(){return N.inArray(this,d)}).toArray()).length||!i.nodeName?t:(t=N(i).closest("*[data-dt-column]")).length?[t.data("dt-column")]:[]},s,o)},1);return t.selector.cols=e,t.selector.opts=i,t}),Ut("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Ut("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Ut("columns().data()","column().data()",function(){return this.iterator("column-rows",ke,1)}),Ut("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Ut("columns().cache()","column().cache()",function(s){return this.iterator("column-rows",function(t,e,i,n,r){return se(t.aoData,r,"search"===s?"_aFilterData":"_aSortData",e)},1)}),Ut("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,i,n,r){return se(t.aoData,r,"anCells",e)},1)}),Ut("columns().visible()","column().visible()",function(d,i){var t=this.iterator("column",function(t,e){if(d===R)return t.aoColumns[e].bVisible;var i,n,r,s=t.aoColumns,o=s[e],a=t.aoData;if(d!==R&&o.bVisible!==d){if(d){var l=N.inArray(!0,re(s,"bVisible"),e+1);for(i=0,n=a.length;i<n;i++)r=a[i].nTr,s=a[i].anCells,r&&r.insertBefore(s[e],s[l]||null)}else N(re(t.aoData,"anCells",e)).detach();o.bVisible=d,j(t,t.aoHeader),j(t,t.aoFooter),Dt(t)}});return d!==R&&(this.iterator("column",function(t,e){Lt(t,null,"column-visibility",[t,e,d,i])}),(i===R||i)&&this.columns.adjust()),t}),Ut("columns().indexes()","column().index()",function(i){return this.iterator("column",function(t,e){return"visible"===i?d(t,e):e},1)}),qt("columns.adjust()",function(){return this.iterator("table",function(t){B(t)},1)}),qt("column.index()",function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return O(i,e);if("fromData"===t||"toVisible"===t)return d(i,e)}}),qt("column()",function(t,e){return xe(this.columns(t,e))}),qt("cells()",function(m,t,g){if(N.isPlainObject(m)&&(m.row===R?(g=m,m=null):(g=t,t=null)),N.isPlainObject(t)&&(g=t,t=null),null===t||t===R)return this.iterator("table",function(i){var n,r,s,o,a,l,d,t=m,e=we(g),h=i.aoData,u=Ce(i,e),c=ae(se(h,u,"anCells")),p=N([].concat.apply([],c)),f=i.aoColumns.length;return _e("cell",t,function(t){var e="function"==typeof t;if(null===t||t===R||e){for(r=[],s=0,o=u.length;s<o;s++)for(n=u[s],a=0;a<f;a++)l={row:n,column:a},e?(d=h[n],t(l,E(i,n,a),d.anCells?d.anCells[a]:null)&&r.push(l)):r.push(l);return r}return N.isPlainObject(t)?[t]:(e=p.filter(t).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray()).length||!t.nodeName?e:(d=N(t).closest("*[data-dt-row]")).length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]},i,e)});var i,n,r,s,o,a=this.columns(t,g),l=this.rows(m,g),e=this.iterator("table",function(t,e){for(i=[],n=0,r=l[e].length;n<r;n++)for(s=0,o=a[e].length;s<o;s++)i.push({row:l[e][n],column:a[e][s]});return i},1);return N.extend(e.selector,{cols:t,rows:m,opts:g}),e}),Ut("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){return(t=t.aoData[e])&&t.anCells?t.anCells[i]:R},1)}),qt("cells().data()",function(){return this.iterator("cell",function(t,e,i){return E(t,e,i)},1)}),Ut("cells().cache()","cell().cache()",function(n){return n="search"===n?"_aFilterData":"_aSortData",this.iterator("cell",function(t,e,i){return t.aoData[e][n][i]},1)}),Ut("cells().render()","cell().render()",function(n){return this.iterator("cell",function(t,e,i){return E(t,e,i,n)},1)}),Ut("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,i){return{row:e,column:i,columnVisible:d(t,i)}},1)}),Ut("cells().invalidate()","cell().invalidate()",function(n){return this.iterator("cell",function(t,e,i){r(t,e,n,i)})}),qt("cell()",function(t,e,i){return xe(this.cells(t,e,i))}),qt("cell().data()",function(t){var e=this.context,i=this[0];return t===R?e.length&&i.length?E(e[0],i[0].row,i[0].column):R:(n(e[0],i[0].row,i[0].column,t),r(e[0],i[0].row,"data",i[0].column),this)}),qt("order()",function(e,t){var i=this.context;return e===R?0!==i.length?i[0].aaSorting:R:("number"==typeof e?e=[[e,t]]:e.length&&!N.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),qt("order.listener()",function(e,i,n){return this.iterator("table",function(t){St(t,e,i,n)})}),qt("order.fixed()",function(e){if(e)return this.iterator("table",function(t){t.aaSortingFixed=N.extend(!0,{},e)});var t=(t=this.context).length?t[0].aaSortingFixed:R;return N.isArray(t)?{pre:t}:t}),qt(["columns().order()","column().order()"],function(n){var r=this;return this.iterator("table",function(t,e){var i=[];N.each(r[e],function(t,e){i.push([e,n])}),t.aaSorting=i})}),qt("search()",function(e,i,n,r){var t=this.context;return e===R?0!==t.length?t[0].oPreviousSearch.sSearch:R:this.iterator("table",function(t){t.oFeatures.bFilter&&X(t,N.extend({},t.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===n||n,bCaseInsensitive:null===r||r}),1)})}),Ut("columns().search()","column().search()",function(n,r,s,o){return this.iterator("column",function(t,e){var i=t.aoPreSearchCols;if(n===R)return i[e].sSearch;t.oFeatures.bFilter&&(N.extend(i[e],{sSearch:n+"",bRegex:null!==r&&r,bSmart:null===s||s,bCaseInsensitive:null===o||o}),X(t,t.oPreviousSearch,1))})}),qt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),qt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),qt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),qt("state.save()",function(){return this.iterator("table",function(t){Dt(t)})}),Qt.versionCheck=Qt.fnVersionCheck=function(t){for(var e,i,n=Qt.version.split("."),r=0,s=(t=t.split(".")).length;r<s;r++)if((e=parseInt(n[r],10)||0)!==(i=parseInt(t[r],10)||0))return i<e;return!0},Qt.isDataTable=Qt.fnIsDataTable=function(t){var r=N(t).get(0),s=!1;return t instanceof Qt.Api||(N.each(Qt.settings,function(t,e){var i=e.nScrollHead?N("table",e.nScrollHead)[0]:null,n=e.nScrollFoot?N("table",e.nScrollFoot)[0]:null;e.nTable!==r&&i!==r&&n!==r||(s=!0)}),s)},Qt.tables=Qt.fnTables=function(e){var t=!1;N.isPlainObject(e)&&(t=e.api,e=e.visible);var i=N.map(Qt.settings,function(t){if(!e||e&&N(t.nTable).is(":visible"))return t.nTable});return t?new Wt(i):i},Qt.camelToHungarian=_,qt("$()",function(t,e){var i=this.rows(e).nodes();i=N(i);return N([].concat(i.filter(t).toArray(),i.find(t).toArray()))}),N.each(["on","one","off"],function(t,i){qt(i+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=N.map(t[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" ");var e=N(this.tables().nodes());return e[i].apply(e,t),this})}),qt("clear()",function(){return this.iterator("table",function(t){a(t)})}),qt("settings()",function(){return new Wt(this.context,this.context)}),qt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),qt("data()",function(){return this.iterator("table",function(t){return re(t.aoData,"_aData")}).flatten()}),qt("destroy()",function(u){return u=u||!1,this.iterator("table",function(e){var i,t=e.nTableWrapper.parentNode,n=e.oClasses,r=e.nTable,s=e.nTBody,o=e.nTHead,a=e.nTFoot,l=N(r),d=(s=N(s),N(e.nTableWrapper)),h=N.map(e.aoData,function(t){return t.nTr});e.bDestroying=!0,Lt(e,"aoDestroyCallback","destroy",[e]),u||new Wt(e).columns().visible(!0),d.off(".DT").find(":not(tbody *)").off(".DT"),N(b).off(".DT-"+e.sInstance),r!=o.parentNode&&(l.children("thead").detach(),l.append(o)),a&&r!=a.parentNode&&(l.children("tfoot").detach(),l.append(a)),e.aaSorting=[],e.aaSortingFixed=[],It(e),N(h).removeClass(e.asStripeClasses.join(" ")),N("th, td",o).removeClass(n.sSortable+" "+n.sSortableAsc+" "+n.sSortableDesc+" "+n.sSortableNone),s.children().detach(),s.append(h),l[o=u?"remove":"detach"](),d[o](),!u&&t&&(t.insertBefore(r,e.nTableReinsertBefore),l.css("width",e.sDestroyWidth).removeClass(n.sTable),(i=e.asDestroyStripes.length)&&s.children().each(function(t){N(this).addClass(e.asDestroyStripes[t%i])})),-1!==(t=N.inArray(e,Qt.settings))&&Qt.settings.splice(t,1)})}),N.each(["column","row","cell"],function(t,l){qt(l+"s().every()",function(s){var o=this.selector.opts,a=this;return this.iterator(l,function(t,e,i,n,r){s.call(a[l](e,"cell"===l?i:o,"cell"===l?o:R),e,i,n,r)})})}),qt("i18n()",function(t,e,i){var n=this.context[0];return(t=L(t)(n.oLanguage))===R&&(t=e),i!==R&&N.isPlainObject(t)&&(t=t[i]!==R?t[i]:t._),t.replace("%d",i)}),Qt.version="1.10.16",Qt.settings=[],Qt.models={},Qt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Qt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Qt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Qt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:N.extend({},Qt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},s(Qt.defaults),Qt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},s(Qt.defaults.column),Qt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:R,oAjaxData:R,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Ht(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Ht(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,r=this.oFeatures,s=r.bPaginate;return r.bServerSide?!1===s||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!s||n<i||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Qt.ext=Vt={buttons:{},classes:{},build:"bs/jszip-2.5.0/dt-1.10.16/b-1.5.1/b-colvis-1.5.1/b-html5-1.5.1/b-print-1.5.1/cr-1.4.1/fc-3.2.4/fh-3.1.3/r-2.2.1/rg-1.0.2/rr-1.2.3/sc-1.4.4",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Qt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Qt.version},N.extend(Vt,{afnFiltering:Vt.search,aTypes:Vt.type.detect,ofnSearch:Vt.type.search,oSort:Vt.type.order,afnSortData:Vt.order,aoFeatures:Vt.feature,oApi:Vt.internal,oStdClasses:Vt.classes,oPagination:Vt.pager}),N.extend(Qt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var De=Qt.ext.pager;N.extend(De,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[zt(t,e)]},simple_numbers:function(t,e){return["previous",zt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",zt(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",zt(t,e),"last"]},_numbers:zt,numbers_length:7}),N.extend(!0,Qt.ext.renderer,{pageButton:{_:function(a,t,l,e,d,h){var u,c,i,p=a.oClasses,f=a.oLanguage.oPaginate,m=a.oLanguage.oAria.paginate||{},g=0,b=function(t,e){var i,n,r,s,o=function(t){ht(a,t.data.action,!0)};for(i=0,n=e.length;i<n;i++)if(s=e[i],N.isArray(s))r=N("<"+(s.DT_el||"div")+"/>").appendTo(t),b(r,s);else{switch(u=null,c="",s){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":u=f.sFirst,c=s+(0<d?"":" "+p.sPageButtonDisabled);break;case"previous":u=f.sPrevious,c=s+(0<d?"":" "+p.sPageButtonDisabled);break;case"next":u=f.sNext,c=s+(d<h-1?"":" "+p.sPageButtonDisabled);break;case"last":u=f.sLast,c=s+(d<h-1?"":" "+p.sPageButtonDisabled);break;default:u=s+1,c=d===s?p.sPageButtonActive:""}null!==u&&(Bt(r=N("<a>",{class:p.sPageButton+" "+c,"aria-controls":a.sTableId,"aria-label":m[s],"data-dt-idx":g,tabindex:a.iTabIndex,id:0===l&&"string"==typeof s?a.sTableId+"_"+s:null}).html(u).appendTo(t),{action:s},o),g++)}};try{i=N(t).find(y.activeElement).data("dt-idx")}catch(t){}b(N(t).empty(),e),i!==R&&N(t).find("[data-dt-idx="+i+"]").focus()}}}),N.extend(Qt.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return ie(t,i)?"num"+i:null},function(t){if(t&&!(t instanceof Date)&&!$t.test(t))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||Kt(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return ie(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return ne(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return ne(t,i,!0)?"html-num-fmt"+i:null},function(t){return Kt(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),N.extend(Qt.ext.type.search,{html:function(t){return Kt(t)?t:"string"==typeof t?t.replace(Xt," ").replace(Gt,""):""},string:function(t){return Kt(t)?t:"string"==typeof t?t.replace(Xt," "):t}});var Ae=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=ee(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-1/0};N.extend(Vt.type.order,{"date-pre":function(t){return Date.parse(t)||-1/0},"html-pre":function(t){return Kt(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return Kt(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:e<t?1:0},"string-desc":function(t,e){return t<e?1:e<t?-1:0}}),Mt(""),N.extend(!0,Qt.ext.renderer,{header:{_:function(r,s,o,a){N(r.nTable).on("order.dt.DT",function(t,e,i,n){r===e&&(t=o.idx,s.removeClass(o.sSortingClass+" "+a.sSortAsc+" "+a.sSortDesc).addClass("asc"==n[t]?a.sSortAsc:"desc"==n[t]?a.sSortDesc:o.sSortingClass))})},jqueryui:function(r,s,o,a){N("<div/>").addClass(a.sSortJUIWrapper).append(s.contents()).append(N("<span/>").addClass(a.sSortIcon+" "+o.sSortingClassJUI)).appendTo(s),N(r.nTable).on("order.dt.DT",function(t,e,i,n){r===e&&(t=o.idx,s.removeClass(a.sSortAsc+" "+a.sSortDesc).addClass("asc"==n[t]?a.sSortAsc:"desc"==n[t]?a.sSortDesc:o.sSortingClass),s.find("span."+a.sSortIcon).removeClass(a.sSortJUIAsc+" "+a.sSortJUIDesc+" "+a.sSortJUI+" "+a.sSortJUIAscAllowed+" "+a.sSortJUIDescAllowed).addClass("asc"==n[t]?a.sSortJUIAsc:"desc"==n[t]?a.sSortJUIDesc:o.sSortingClassJUI))})}}});var Fe=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Qt.render={number:function(n,r,s,o,a){return{display:function(t){if("number"!=typeof t&&"string"!=typeof t)return t;var e=t<0?"-":"",i=parseFloat(t);return isNaN(i)?Fe(t):(i=i.toFixed(s),t=Math.abs(i),i=parseInt(t,10),t=s?r+(t-i).toFixed(s).substring(2):"",e+(o||"")+i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)+t+(a||""))}}},text:function(){return{display:Fe}}},N.extend(Qt.ext.internal,{_fnExternApiFunc:e,_fnBuildAjax:W,_fnAjaxUpdate:q,_fnAjaxParameters:t,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:Q,_fnAddColumn:S,_fnColumnOptions:I,_fnAdjustColumnSizing:B,_fnVisibleToColumnIndex:O,_fnColumnIndexToVisible:d,_fnVisbleColumns:v,_fnGetColumns:k,_fnColumnTypes:o,_fnApplyColumnDefs:D,_fnHungarianMap:s,_fnCamelToHungarian:_,_fnLanguageCompat:w,_fnBrowserDetect:T,_fnAddData:A,_fnAddTr:F,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==R?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,i){return N.inArray(i,t.aoData[e].anCells)},_fnGetCellData:E,_fnSetCellData:n,_fnSplitObjNotation:h,_fnGetObjectDataFn:L,_fnSetObjectDataFn:f,_fnGetDataMaster:p,_fnClearTable:a,_fnDeleteIndex:u,_fnInvalidate:r,_fnGetRowElements:l,_fnCreateTr:m,_fnBuildHead:g,_fnDrawHead:j,_fnDraw:P,_fnReDraw:H,_fnAddOptionsHtml:z,_fnDetectHeader:M,_fnGetUniqueThs:V,_fnFeatureHtmlFilter:J,_fnFilterComplete:X,_fnFilterCustom:G,_fnFilterColumn:$,_fnFilter:Z,_fnFilterCreateSearch:Y,_fnEscapeRegex:ce,_fnFilterData:K,_fnFeatureHtmlInfo:it,_fnUpdateInfo:nt,_fnInfoMacros:rt,_fnInitialise:st,_fnInitComplete:ot,_fnLengthChange:at,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:dt,_fnPageChange:ht,_fnFeatureHtmlProcessing:ut,_fnProcessingDisplay:ct,_fnFeatureHtmlTable:pt,_fnScrollDraw:ft,_fnApplyToChildren:mt,_fnCalculateColumnWidths:gt,_fnThrottle:ge,_fnConvertToWidth:bt,_fnGetWidestNode:yt,_fnGetMaxLenString:vt,_fnStringToCss:_t,_fnSortFlatten:wt,_fnSort:xt,_fnSortAria:Ct,_fnSortListener:Tt,_fnSortAttachListener:St,_fnSortingClasses:It,_fnSortData:kt,_fnSaveState:Dt,_fnLoadState:At,_fnSettingsFromNode:Ft,_fnLog:Et,_fnMap:Nt,_fnBindAction:Bt,_fnCallbackReg:Ot,_fnCallbackFire:Lt,_fnLengthOverflow:jt,_fnRenderer:Pt,_fnDataSource:Ht,_fnRowAttributes:c,_fnCalculateEnd:function(){}}),((N.fn.dataTable=Qt).$=N).fn.dataTableSettings=Qt.settings,N.fn.dataTableExt=Qt.ext,N.fn.DataTable=function(t){return N(this).dataTable(t).api()},N.each(Qt,function(t,e){N.fn.DataTable[t]=e}),N.fn.dataTable}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(v,t,n,r){var s=v.fn.dataTable;return v.extend(!0,s.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),v.extend(s.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),s.ext.renderer.pageButton.bootstrap=function(a,t,l,e,d,h){var u,c,i,p=new s.Api(a),f=a.oClasses,m=a.oLanguage.oPaginate,g=a.oLanguage.oAria.paginate||{},b=0,y=function(t,e){var i,n,r,s,o=function(t){t.preventDefault(),!v(t.currentTarget).hasClass("disabled")&&p.page()!=t.data.action&&p.page(t.data.action).draw("page")};for(i=0,n=e.length;i<n;i++)if(s=e[i],v.isArray(s))y(t,s);else{switch(c=u="",s){case"ellipsis":u="&#x2026;",c="disabled";break;case"first":u=m.sFirst,c=s+(0<d?"":" disabled");break;case"previous":u=m.sPrevious,c=s+(0<d?"":" disabled");break;case"next":u=m.sNext,c=s+(d<h-1?"":" disabled");break;case"last":u=m.sLast,c=s+(d<h-1?"":" disabled");break;default:u=s+1,c=d===s?"active":""}u&&(r=v("<li>",{class:f.sPageButton+" "+c,id:0===l&&"string"==typeof s?a.sTableId+"_"+s:null}).append(v("<a>",{href:"#","aria-controls":a.sTableId,"aria-label":g[s],"data-dt-idx":b,tabindex:a.iTabIndex}).html(u)).appendTo(t),a.oApi._fnBindAction(r,{action:s},o),b++)}};try{i=v(t).find(n.activeElement).data("dt-idx")}catch(t){}y(v(t).empty().html('<ul class="pagination"/>').children("ul"),e),i!==r&&v(t).find("[data-dt-idx="+i+"]").focus()},s}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(f,l,s,m){var r,g=f.fn.dataTable,i=0,d=0,a=g.ext.buttons,h=function(t,e){void 0===e&&(e={}),!0===e&&(e={}),f.isArray(e)&&(e={buttons:e}),this.c=f.extend(!0,{},h.defaults,e),e.buttons&&(this.c.buttons=e.buttons),this.s={dt:new g.Api(t),buttons:[],listenKeys:"",namespace:"dtb"+i++},this.dom={container:f("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};f.extend(h.prototype,{action:function(t,e){var i=this._nodeToButton(t);return e===m?i.conf.action:(i.conf.action=e,this)},active:function(t,e){var i=this._nodeToButton(t),n=this.c.dom.button.active;i=f(i.node);return e===m?i.hasClass(n):(i.toggleClass(n,e===m||e),this)},add:function(t,e){var i=this.s.buttons;if("string"==typeof e){for(var n=e.split("-"),r=(i=this.s,0),s=n.length-1;r<s;r++)i=i.buttons[1*n[r]];i=i.buttons,e=1*n[n.length-1]}return this._expandButton(i,t,!1,e),this._draw(),this},container:function(){return this.dom.container},disable:function(t){return t=this._nodeToButton(t),f(t.node).addClass(this.c.dom.button.disabled),this},destroy:function(){f("body").off("keyup."+this.s.namespace);var t,e,i=this.s.buttons.slice();for(t=0,e=i.length;t<e;t++)this.remove(i[t].node);for(this.dom.container.remove(),t=0,e=(i=this.s.dt.settings()[0]).length;t<e;t++)if(i.inst===this){i.splice(t,1);break}return this},enable:function(t,e){if(!1===e)return this.disable(t);var i=this._nodeToButton(t);return f(i.node).removeClass(this.c.dom.button.disabled),this},name:function(){return this.c.name},node:function(t){return t=this._nodeToButton(t),f(t.node)},processing:function(t,e){var i=this._nodeToButton(t);return e===m?f(i.node).hasClass("processing"):(f(i.node).toggleClass("processing",e),this)},remove:function(t){var e=this._nodeToButton(t),i=this._nodeToHost(t),n=this.s.dt;if(e.buttons.length)for(var r=e.buttons.length-1;0<=r;r--)this.remove(e.buttons[r].node);return e.conf.destroy&&e.conf.destroy.call(n.button(t),n,f(t),e.conf),this._removeKey(e.conf),f(e.node).remove(),t=f.inArray(e,i),i.splice(t,1),this},text:function(t,e){var i=this._nodeToButton(t),n=this.c.dom.collection.buttonLiner,r=(n=i.inCollection&&n&&n.tag?n.tag:this.c.dom.buttonLiner.tag,this.s.dt),s=f(i.node),o=function(t){return"function"==typeof t?t(r,s,i.conf):t};return e===m?o(i.conf.text):(i.conf.text=e,n?s.children(n).html(o(e)):s.html(o(e)),this)},_constructor:function(){var i=this,t=this.s.dt,e=t.settings()[0],n=this.c.buttons;e._buttons||(e._buttons=[]),e._buttons.push({inst:this,name:this.c.name});e=0;for(var r=n.length;e<r;e++)this.add(n[e]);t.on("destroy",function(){i.destroy()}),f("body").on("keyup."+this.s.namespace,function(t){if(!s.activeElement||s.activeElement===s.body){var e=String.fromCharCode(t.keyCode).toLowerCase();-1!==i.s.listenKeys.toLowerCase().indexOf(e)&&i._keypress(e,t)}})},_addKey:function(t){t.key&&(this.s.listenKeys+=f.isPlainObject(t.key)?t.key.key:t.key)},_draw:function(t,e){t||(t=this.dom.container,e=this.s.buttons),t.children().detach();for(var i=0,n=e.length;i<n;i++)t.append(e[i].inserter),t.append(" "),e[i].buttons&&e[i].buttons.length&&this._draw(e[i].collection,e[i].buttons)},_expandButton:function(t,e,i,n){for(var r=this.s.dt,s=0,o=(e=f.isArray(e)?e:[e]).length;s<o;s++){var a=this._resolveExtends(e[s]);if(a)if(f.isArray(a))this._expandButton(t,a,i,n);else{var l=this._buildButton(a,i);if(l){if(n!==m?(t.splice(n,0,l),n++):t.push(l),l.conf.buttons){var d=this.c.dom.collection;l.collection=f("<"+d.tag+"/>").addClass(d.className).attr("role","menu"),l.conf._collection=l.collection,this._expandButton(l.buttons,l.conf.buttons,!0,n)}a.init&&a.init.call(r.button(l.node),r,f(l.node),a),0}}}},_buildButton:function(e,t){var i=this.c.dom.button,n=this.c.dom.buttonLiner,r=this.c.dom.collection,s=this.s.dt,o=function(t){return"function"==typeof t?t(s,l,e):t};if(t&&r.button&&(i=r.button),t&&r.buttonLiner&&(n=r.buttonLiner),e.available&&!e.available(s,e))return!1;var a=function(t,e,i,n){n.action.call(e.button(i),t,e,i,n),f(e.table().node()).triggerHandler("buttons-action.dt",[e.button(i),e,i,n])},l=f("<"+i.tag+"/>").addClass(i.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(t){t.preventDefault(),!l.hasClass(i.disabled)&&e.action&&a(t,s,l,e),l.blur()}).on("keyup.dtb",function(t){13===t.keyCode&&!l.hasClass(i.disabled)&&e.action&&a(t,s,l,e)});return"a"===i.tag.toLowerCase()&&l.attr("href","#"),n.tag?(r=f("<"+n.tag+"/>").html(o(e.text)).addClass(n.className),"a"===n.tag.toLowerCase()&&r.attr("href","#"),l.append(r)):l.html(o(e.text)),!1===e.enabled&&l.addClass(i.disabled),e.className&&l.addClass(e.className),e.titleAttr&&l.attr("title",o(e.titleAttr)),e.attr&&l.attr(e.attr),e.namespace||(e.namespace=".dt-button-"+d++),n=(n=this.c.dom.buttonContainer)&&n.tag?f("<"+n.tag+"/>").addClass(n.className).append(l):l,this._addKey(e),{conf:e,node:l.get(0),inserter:n,buttons:[],inCollection:t,collection:null}},_nodeToButton:function(t,e){e||(e=this.s.buttons);for(var i=0,n=e.length;i<n;i++){if(e[i].node===t)return e[i];if(e[i].buttons.length){var r=this._nodeToButton(t,e[i].buttons);if(r)return r}}},_nodeToHost:function(t,e){e||(e=this.s.buttons);for(var i=0,n=e.length;i<n;i++){if(e[i].node===t)return e;if(e[i].buttons.length){var r=this._nodeToHost(t,e[i].buttons);if(r)return r}}},_keypress:function(s,o){if(!o._buttonsHandled){var a=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e].conf,r=t[e].node;n.key&&(n.key===s?(o._buttonsHandled=!0,f(r).click()):!f.isPlainObject(n.key)||n.key.key!==s||n.key.shiftKey&&!o.shiftKey||n.key.altKey&&!o.altKey||n.key.ctrlKey&&!o.ctrlKey||n.key.metaKey&&!o.metaKey||(o._buttonsHandled=!0,f(r).click())),t[e].buttons.length&&a(t[e].buttons)}};a(this.s.buttons)}},_removeKey:function(t){if(t.key){var e=f.isPlainObject(t.key)?t.key.key:t.key;t=this.s.listenKeys.split(""),e=f.inArray(e,t);t.splice(e,1),this.s.listenKeys=t.join("")}},_resolveExtends:function(i){var t,e,n=this.s.dt,r=function(t){for(var e=0;!f.isPlainObject(t)&&!f.isArray(t);){if(t===m)return;if("function"==typeof t){if(!(t=t(n,i)))return!1}else if("string"==typeof t){if(!a[t])throw"Unknown button type: "+t;t=a[t]}if(30<++e)throw"Buttons: Too many iterations"}return f.isArray(t)?t:f.extend({},t)};for(i=r(i);i&&i.extend;){if(!a[i.extend])throw"Cannot extend unknown button type: "+i.extend;var s=r(a[i.extend]);if(f.isArray(s))return s;if(!s)return!1;t=s.className,i=f.extend({},s,i),t&&i.className!==t&&(i.className=t+" "+i.className);var o=i.postfixButtons;if(o){for(i.buttons||(i.buttons=[]),t=0,e=o.length;t<e;t++)i.buttons.push(o[t]);i.postfixButtons=null}if(o=i.prefixButtons){for(i.buttons||(i.buttons=[]),t=0,e=o.length;t<e;t++)i.buttons.splice(t,0,o[t]);i.prefixButtons=null}i.extend=s.extend}return i}}),h.background=function(t,e,i){i===m&&(i=400),t?f("<div/>").addClass(e).css("display","none").appendTo("body").fadeIn(i):f("body > div."+e).fadeOut(i,function(){f(this).removeClass(e).remove()})},h.instanceSelector=function(t,n){if(!t)return f.map(n,function(t){return t.inst});var r=[],s=f.map(n,function(t){return t.name}),o=function(t){if(f.isArray(t))for(var e=0,i=t.length;e<i;e++)o(t[e]);else"string"==typeof t?-1!==t.indexOf(",")?o(t.split(",")):-1!==(t=f.inArray(f.trim(t),s))&&r.push(n[t].inst):"number"==typeof t&&r.push(n[t].inst)};return o(t),r},h.buttonSelector=function(t,e){for(var o=[],a=function(t,e,i){for(var n,r,s=0,o=e.length;s<o;s++)(n=e[s])&&(r=i!==m?i+s:s+"",t.push({node:n.node,name:n.conf.name,idx:r}),n.buttons&&a(t,n.buttons,r+"-"))},l=function(t,e){var i,n,r=[];if(a(r,e.s.buttons),i=f.map(r,function(t){return t.node}),f.isArray(t)||t instanceof f)for(i=0,n=t.length;i<n;i++)l(t[i],e);else if(null===t||t===m||"*"===t)for(i=0,n=r.length;i<n;i++)o.push({inst:e,node:r[i].node});else if("number"==typeof t)o.push({inst:e,node:e.s.buttons[t].node});else if("string"==typeof t)if(-1!==t.indexOf(","))for(i=0,n=(r=t.split(",")).length;i<n;i++)l(f.trim(r[i]),e);else if(t.match(/^\d+(\-\d+)*$/))i=f.map(r,function(t){return t.idx}),o.push({inst:e,node:r[f.inArray(t,i)].node});else if(-1!==t.indexOf(":name")){var s=t.replace(":name","");for(i=0,n=r.length;i<n;i++)r[i].name===s&&o.push({inst:e,node:r[i].node})}else f(i).filter(t).each(function(){o.push({inst:e,node:this})});else"object"==typeof t&&t.nodeName&&(-1!==(r=f.inArray(t,i))&&o.push({inst:e,node:i[r]}))},i=0,n=t.length;i<n;i++)l(e,t[i]);return o},h.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:"dt-button-collection"},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},h.version="1.5.1",f.extend(a,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",action:function(t,i,e,n){var r=f(e).parents("div.dt-button-collection"),s=(t=e.position(),f(i.table().container())),o=!1,a=e;r.length&&(o=f(".dt-button-collection").position(),a=r,f("body").trigger("click.dtb-collection")),n._collection.addClass(n.collectionLayout).css("display","none").insertAfter(a).fadeIn(n.fade),r=n._collection.css("position"),o&&"absolute"===r?n._collection.css({top:o.top,left:o.left}):"absolute"===r?(n._collection.css({top:t.top+e.outerHeight(),left:t.left}),o=s.offset().top+s.height(),e=t.top+e.outerHeight()+n._collection.outerHeight()-o,o=t.top-n._collection.outerHeight(),(o=s.offset().top-o)<e&&n._collection.css("top",t.top-n._collection.outerHeight()-5),e=t.left+n._collection.outerWidth(),(s=s.offset().left+s.width())<e&&n._collection.css("left",t.left-(e-s))):((t=n._collection.height()/2)>f(l).height()/2&&(t=f(l).height()/2),n._collection.css("marginTop",-1*t)),n.background&&h.background(!0,n.backgroundClassName,n.fade),setTimeout(function(){f("div.dt-button-background").on("click.dtb-collection",function(){}),f("body").on("click.dtb-collection",function(t){var e=f.fn.addBack?"addBack":"andSelf";f(t.target).parents()[e]().filter(n._collection).length||(n._collection.fadeOut(n.fade,function(){n._collection.detach()}),f("div.dt-button-background").off("click.dtb-collection"),h.background(!1,n.backgroundClassName,n.fade),f("body").off("click.dtb-collection"),i.off("buttons-action.b-internal"))})},10),n.autoClose&&i.on("buttons-action.b-internal",function(){f("div.dt-button-background").click()})},background:!0,collectionLayout:"",backgroundClassName:"dt-button-background",autoClose:!1,fade:400,attr:{"aria-haspopup":!0}},copy:function(t,e){return a.copyHtml5?"copyHtml5":a.copyFlash&&a.copyFlash.available(t,e)?"copyFlash":void 0},csv:function(t,e){return a.csvHtml5&&a.csvHtml5.available(t,e)?"csvHtml5":a.csvFlash&&a.csvFlash.available(t,e)?"csvFlash":void 0},excel:function(t,e){return a.excelHtml5&&a.excelHtml5.available(t,e)?"excelHtml5":a.excelFlash&&a.excelFlash.available(t,e)?"excelFlash":void 0},pdf:function(t,e){return a.pdfHtml5&&a.pdfHtml5.available(t,e)?"pdfHtml5":a.pdfFlash&&a.pdfFlash.available(t,e)?"pdfFlash":void 0},pageLength:function(t){t=t.settings()[0].aLengthMenu;var e=f.isArray(t[0])?t[0]:t,i=f.isArray(t[0])?t[1]:t,r=function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())};return{extend:"collection",text:r,className:"buttons-page-length",autoClose:!0,buttons:f.map(e,function(r,t){return{text:i[t],className:"button-page-length",action:function(t,e){e.page.len(r).draw()},init:function(t,e,i){var n=this;e=function(){n.active(t.page.len()===r)};t.on("length.dt"+i.namespace,e),e()},destroy:function(t,e,i){t.off("length.dt"+i.namespace)}}}),init:function(t,e,i){var n=this;t.on("length.dt"+i.namespace,function(){n.text(r(t))})},destroy:function(t,e,i){t.off("length.dt"+i.namespace)}}}}),g.Api.register("buttons()",function(e,i){i===m&&(i=e,e=m),this.selector.buttonGroup=e;var t=this.iterator(!0,"table",function(t){if(t._buttons)return h.buttonSelector(h.instanceSelector(e,t._buttons),i)},!0);return t._groupSelector=e,t}),g.Api.register("button()",function(t,e){var i=this.buttons(t,e);return 1<i.length&&i.splice(1,i.length),i}),g.Api.registerPlural("buttons().active()","button().active()",function(e){return e===m?this.map(function(t){return t.inst.active(t.node)}):this.each(function(t){t.inst.active(t.node,e)})}),g.Api.registerPlural("buttons().action()","button().action()",function(e){return e===m?this.map(function(t){return t.inst.action(t.node)}):this.each(function(t){t.inst.action(t.node,e)})}),g.Api.register(["buttons().enable()","button().enable()"],function(e){return this.each(function(t){t.inst.enable(t.node,e)})}),g.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(t){t.inst.disable(t.node)})}),g.Api.registerPlural("buttons().nodes()","button().node()",function(){var e=f();return f(this.each(function(t){e=e.add(t.inst.node(t.node))})),e}),g.Api.registerPlural("buttons().processing()","button().processing()",function(e){return e===m?this.map(function(t){return t.inst.processing(t.node)}):this.each(function(t){t.inst.processing(t.node,e)})}),g.Api.registerPlural("buttons().text()","button().text()",function(e){return e===m?this.map(function(t){return t.inst.text(t.node)}):this.each(function(t){t.inst.text(t.node,e)})}),g.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(t){t.inst.node(t.node).trigger("click")})}),g.Api.registerPlural("buttons().containers()","buttons().container()",function(){var n=f(),r=this._groupSelector;return this.iterator(!0,"table",function(t){if(t._buttons)for(var e=0,i=(t=h.instanceSelector(r,t._buttons)).length;e<i;e++)n=n.add(t[e].container())}),n}),g.Api.register("button().add()",function(t,e){var i=this.context;return i.length&&((i=h.instanceSelector(this._groupSelector,i[0]._buttons)).length&&i[0].add(e,t)),this.button(this._groupSelector,t)}),g.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(t){t.destroy()}),this}),g.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(t){t.inst.remove(t.node)}),this}),g.Api.register("buttons.info()",function(t,e,i){var n=this;return!1===t?(f("#datatables_buttons_info").fadeOut(function(){f(this).remove()}),clearTimeout(r),r=null):(r&&clearTimeout(r),f("#datatables_buttons_info").length&&f("#datatables_buttons_info").remove(),f('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t?"<h2>"+t+"</h2>":"").append(f("<div/>")["string"==typeof e?"html":"append"](e)).css("display","none").appendTo("body").fadeIn(),i!==m&&0!==i&&(r=setTimeout(function(){n.buttons.info(!1)},i))),this}),g.Api.register("buttons.exportData()",function(t){if(this.context.length){var i=new g.Api(this.context[0]),n=f.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(t){return e(t)},footer:function(t){return e(t)},body:function(t){return e(t)}}},t),e=function(t){return"string"!=typeof t||(t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),n.stripHtml&&(t=t.replace(/<[^>]*>/g,"")),n.trim&&(t=t.replace(/^\s+|\s+$/g,"")),n.stripNewlines&&(t=t.replace(/\n/g," ")),n.decodeEntities&&(b.innerHTML=t,t=b.value)),t},r=(t=i.columns(n.columns).indexes().map(function(t){var e=i.column(t).header();return n.format.header(e.innerHTML,t,e)}).toArray(),i.table().footer()?i.columns(n.columns).indexes().map(function(t){var e=i.column(t).footer();return n.format.footer(e?e.innerHTML:"",t,e)}).toArray():null),s=f.extend({},n.modifier);i.select&&"function"==typeof i.select.info&&s.selected===m&&i.rows(n.rows,f.extend({selected:!0},s)).any()&&f.extend(s,{selected:!0});s=i.rows(n.rows,s).indexes().toArray(),s=(o=i.cells(s,n.columns)).render(n.orthogonal).toArray();for(var o=o.nodes().toArray(),a=t.length,l=0<a?s.length/a:0,d=[l],h=0,u=0;u<l;u++){for(var c=[a],p=0;p<a;p++)c[p]=n.format.body(s[h],u,p,o[h]),h++;d[u]=c}return{header:t,footer:r,body:d}}}),g.Api.register("buttons.exportInfo()",function(t){var e;t||(t={});var i=t;return"function"==typeof(e="*"===i.filename&&"*"!==i.title&&i.title!==m&&null!==i.title&&""!==i.title?i.title:i.filename)&&(e=e()),e===m||null===e?e=null:(-1!==e.indexOf("*")&&(e=f.trim(e.replace("*",f("head > title").text()))),e=e.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),(i=n(i.extension))||(i=""),e+=i),{filename:e,title:i=null===(i=n(t.title))?null:-1!==i.indexOf("*")?i.replace("*",f("head > title").text()||"Exported data"):i,messageTop:o(this,t.message||t.messageTop,"top"),messageBottom:o(this,t.messageBottom,"bottom")}});var n=function(t){return null===t||t===m?null:"function"==typeof t?t():t},o=function(t,e,i){return null===(e=n(e))?null:(t=f("caption",t.table().container()).eq(0),"*"===e?t.css("caption-side")!==i?null:t.length?t.text():"":e)},b=f("<textarea/>")[0];return f.fn.dataTable.Buttons=h,f.fn.DataTable.Buttons=h,f(s).on("init.dt plugin-init.dt",function(t,e){if("dt"===t.namespace){var i=e.oInit.buttons||g.defaults.buttons;i&&!e._buttons&&new h(e,i).container()}}),g.ext.feature.push({fnInit:function(t){var e=(t=new g.Api(t)).init().buttons||g.defaults.buttons;return new h(t,e).container()},cFeature:"B"}),h}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net-bs","datatables.net-buttons"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net-bs")(t,e).$),e.fn.dataTable.Buttons||require("datatables.net-buttons")(t,e),i(e,t.document)}:i(jQuery,window,document)}(function(t){var e=t.fn.dataTable;return t.extend(!0,e.Buttons.defaults,{dom:{container:{className:"dt-buttons btn-group"},button:{className:"btn btn-default"},collection:{tag:"ul",className:"dt-button-collection dropdown-menu",button:{tag:"li",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"a",className:""}}}}),e.ext.buttons.collection.text=function(t){return t.i18n("buttons.collection",'Collection <span class="caret"/>')},e.Buttons}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),e.fn.dataTable.Buttons||require("datatables.net-buttons")(t,e),i(e,t,t.document)}:i(jQuery,window,document)}(function(t,e,i,r){return e=t.fn.dataTable,t.extend(e.ext.buttons,{colvis:function(t,e){return{extend:"collection",text:function(t){return t.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",buttons:[{extend:"columnsToggle",columns:e.columns,columnText:e.columnText}]}},columnsToggle:function(t,e){return t.columns(e.columns).indexes().map(function(t){return{extend:"columnToggle",columns:t,columnText:e.columnText}}).toArray()},columnToggle:function(t,e){return{extend:"columnVisibility",columns:e.columns,columnText:e.columnText}},columnsVisibility:function(t,e){return t.columns(e.columns).indexes().map(function(t){return{extend:"columnVisibility",columns:t,visibility:e.visibility,columnText:e.columnText}}).toArray()},columnVisibility:{columns:r,text:function(t,e,i){return i._columnText(t,i)},className:"buttons-columnVisibility",action:function(t,e,i,n){e=(t=e.columns(n.columns)).visible(),t.visible(n.visibility!==r?n.visibility:!(e.length&&e[0]))},init:function(n,t,r){var s=this;n.on("column-visibility.dt"+r.namespace,function(t,e){!e.bDestroying&&e.nTable==n.settings()[0].nTable&&s.active(n.column(r.columns).visible())}).on("column-reorder.dt"+r.namespace,function(t,e,i){1===n.columns(r.columns).count()&&("number"==typeof r.columns&&(r.columns=i.mapping[r.columns]),t=n.column(r.columns),s.text(r._columnText(n,r)),s.active(t.visible()))}),this.active(n.column(r.columns).visible())},destroy:function(t,e,i){t.off("column-visibility.dt"+i.namespace).off("column-reorder.dt"+i.namespace)},_columnText:function(t,e){var i=t.column(e.columns).index(),n=t.settings()[0].aoColumns[i].sTitle.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"");return e.columnText?e.columnText(t,i,n):n}},colvisRestore:{className:"buttons-colvisRestore",text:function(t){return t.i18n("buttons.colvisRestore","Restore visibility")},init:function(e,t,i){i._visOriginal=e.columns().indexes().map(function(t){return e.column(t).visible()}).toArray()},action:function(t,e,i,n){e.columns().every(function(t){t=e.colReorder&&e.colReorder.transpose?e.colReorder.transpose(t,"toOriginal"):t,this.visible(n._visOriginal[t])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(t,e,i,n){e.columns(n.show).visible(!0,!1),e.columns(n.hide).visible(!1,!1),e.columns.adjust()},show:[],hide:[]}}),e.Buttons}),function(r){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(t){return r(t,window,document)}):"object"==typeof exports?module.exports=function(t,e,i,n){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),e.fn.dataTable.Buttons||require("datatables.net-buttons")(t,e),r(e,t,t.document,i,n)}:r(jQuery,window,document)}(function(g,b,u,y,o,v){function _(t){for(var e="";0<=t;)e=String.fromCharCode(t%26+65)+e,t=Math.floor(t/26)-1;return e}function w(t,e,i){var n=t.createElement(e);return i&&(i.attr&&g(n).attr(i.attr),i.children&&g.each(i.children,function(t,e){n.appendChild(e)}),null!==i.text&&i.text!==v&&n.appendChild(t.createTextNode(i.text))),n}function x(t,e){var i,n=t.header[e].length;t.footer&&t.footer[e].length>n&&(n=t.footer[e].length);for(var r=0,s=t.body.length;r<s;r++)if(n<(i=-1!==(i=null!==(i=t.body[r][e])&&i!==v?i.toString():"").indexOf("\n")?((i=i.split("\n")).sort(function(t,e){return e.length-t.length}),i[0].length):i.length)&&(n=i),40<n)return 52;return 6<(n*=1.3)?n:6}var C,t=g.fn.dataTable,a="undefined"!=typeof self&&self||void 0!==b&&b||this.content;if(void 0===a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))C=void 0;else{var l=a.document.createElementNS("http://www.w3.org/1999/xhtml","a"),d="download"in l,h=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),p=function(t){(a.setImmediate||a.setTimeout)(function(){throw t},0)},f=function(t){setTimeout(function(){"string"==typeof t?(a.URL||a.webkitURL||a).revokeObjectURL(t):t.remove()},4e4)},m=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},n=function(t,e,i){i||(t=m(t));var n,r=this,s=(i="application/octet-stream"===t.type,function(){for(var t,e=(t=[].concat(t=["writestart","progress","write","writeend"])).length;e--;){var i=r["on"+t[e]];if("function"==typeof i)try{i.call(r,r)}catch(t){p(t)}}});if(r.readyState=r.INIT,d)n=(a.URL||a.webkitURL||a).createObjectURL(t),setTimeout(function(){l.href=n,l.download=e;var t=new MouseEvent("click");l.dispatchEvent(t),s(),f(n),r.readyState=r.DONE});else if((c||i&&h)&&a.FileReader){var o=new FileReader;o.onloadend=function(){var t=c?o.result:o.result.replace(/^data:[^;]*;/,"data:attachment/file;");a.open(t,"_blank")||(a.location.href=t),r.readyState=r.DONE,s()},o.readAsDataURL(t),r.readyState=r.INIT}else n||(n=(a.URL||a.webkitURL||a).createObjectURL(t)),i?a.location.href=n:a.open(n,"_blank")||(a.location.href=n),r.readyState=r.DONE,s(),f(n)},e=n.prototype;C="undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=m(t)),navigator.msSaveOrOpenBlob(t,e)}:(e.abort=function(){},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(t,e,i){return new n(t,e||t.name||"download",i)})}t.fileSave=C;var T=function(t){return t.newline?t.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},S=function(t,e){for(var i=T(e),n=t.buttons.exportData(e.exportOptions),r=e.fieldBoundary,s=e.fieldSeparator,o=RegExp(r,"g"),a=e.escapeChar!==v?e.escapeChar:"\\",l=function(t){for(var e="",i=0,n=t.length;i<n;i++)0<i&&(e+=s),e+=r?r+(""+t[i]).replace(o,a+r)+r:t[i];return e},d=e.header?l(n.header)+i:"",h=e.footer&&n.footer?i+l(n.footer):"",u=[],c=0,p=n.body.length;c<p;c++)u.push(l(n.body[c]));return{str:d+u.join(i)+h,rows:u.length}},I=function(){if(-1===navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Opera"))return!1;var t=navigator.userAgent.match(/AppleWebKit\/(\d+\.\d+)/);return!!(t&&1<t.length&&1*t[1]<603.1)};try{var k,D=new XMLSerializer}catch(t){}var A={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="" sheetId="1" r:id="rId1"/></sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;£&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$€-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="67"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},F=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(t){return t/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(t){return t/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?£[\d,]+.?\d*$/,style:58},{match:/^\-?€[\d,]+.?\d*$/,style:59},{match:/^\-?\d+$/,style:65},{match:/^\-?\d+\.\d{2}$/,style:66},{match:/^\([\d,]+\)$/,style:61,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\-?[\d,]+$/,style:63},{match:/^\-?[\d,]+\.\d{2}$/,style:64}];return t.ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(t){return t.i18n("buttons.copy","Copy")},action:function(t,e,i,n){this.processing(!0);var r=this,s=(t=S(e,n),e.buttons.exportInfo(n)),o=T(n),a=t.str;i=g("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0});if(s.title&&(a=s.title+o+o+a),s.messageTop&&(a=s.messageTop+o+o+a),s.messageBottom&&(a=a+o+o+s.messageBottom),n.customize&&(a=n.customize(a,n)),n=g("<textarea readonly/>").val(a).appendTo(i),u.queryCommandSupported("copy")){i.appendTo(e.table().container()),n[0].focus(),n[0].select();try{var l=u.execCommand("copy");if(i.remove(),l)return e.buttons.info(e.i18n("buttons.copyTitle","Copy to clipboard"),e.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},t.rows),2e3),void this.processing(!1)}catch(t){}}l=g("<span>"+e.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i>⌘</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(i),e.buttons.info(e.i18n("buttons.copyTitle","Copy to clipboard"),l,0),n[0].focus(),n[0].select();var d=g(l).closest(".dt-button-info"),h=function(){d.off("click.buttons-copy"),g(u).off(".buttons-copy"),e.buttons.info(!1)};d.on("click.buttons-copy",h),g(u).on("keydown.buttons-copy",function(t){27===t.keyCode&&(h(),r.processing(!1))}).on("copy.buttons-copy cut.buttons-copy",function(){h(),r.processing(!1)})},exportOptions:{},fieldSeparator:"\t",fieldBoundary:"",header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*"},t.ext.buttons.csvHtml5={bom:!1,className:"buttons-csv buttons-html5",available:function(){return b.FileReader!==v&&b.Blob},text:function(t){return t.i18n("buttons.csv","CSV")},action:function(t,e,i,n){this.processing(!0),t=S(e,n).str,e=e.buttons.exportInfo(n),i=n.charset,n.customize&&(t=n.customize(t,n)),!1!==i?(i||(i=u.characterSet||u.charset),i&&(i=";charset="+i)):i="",n.bom&&(t="\ufeff"+t),C(new Blob([t],{type:"text/csv"+i}),e.filename,!0),this.processing(!1)},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},t.ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return b.FileReader!==v&&(y||b.JSZip)!==v&&!I()&&D},text:function(t){return t.i18n("buttons.excel","Excel")},action:function(t,e,i,l){this.processing(!0);var d,h,n,r,s=this,u=0,c=(t=function(t){return g.parseXML(A[t])})("xl/worksheets/sheet1.xml"),p=c.getElementsByTagName("sheetData")[0],o=(t={_rels:{".rels":t("_rels/.rels")},xl:{_rels:{"workbook.xml.rels":t("xl/_rels/workbook.xml.rels")},"workbook.xml":t("xl/workbook.xml"),"styles.xml":t("xl/styles.xml"),worksheets:{"sheet1.xml":c}},"[Content_Types].xml":t("[Content_Types].xml")},i=e.buttons.exportData(l.exportOptions),function(t){h=w(c,"row",{attr:{r:d=u+1}});for(var e=0,i=t.length;e<i;e++){var n=_(e)+""+d,r=null;if(null===t[e]||t[e]===v||""===t[e]){if(!0!==l.createEmptyCells)continue;t[e]=""}t[e]=g.trim(t[e]);for(var s=0,o=F.length;s<o;s++){var a=F[s];if(t[e].match&&!t[e].match(/^0\d+/)&&t[e].match(a.match)){r=t[e].replace(/[^\d\.\-]/g,""),a.fmt&&(r=a.fmt(r)),r=w(c,"c",{attr:{r:n,s:a.style},children:[w(c,"v",{text:r})]});break}}r||(r="number"==typeof t[e]||t[e].match&&t[e].match(/^-?\d+(\.\d+)?$/)&&!t[e].match(/^0\d+/)?w(c,"c",{attr:{t:"n",r:n},children:[w(c,"v",{text:t[e]})]}):(a=t[e].replace?t[e].replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):t[e],w(c,"c",{attr:{t:"inlineStr",r:n},children:{row:w(c,"is",{children:{row:w(c,"t",{text:a})}})}}))),h.appendChild(r)}p.appendChild(h),u++});g("sheets sheet",t.xl["workbook.xml"]).attr("name",(r="Sheet1",(n=l).sheetName&&(r=n.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),r)),l.customizeData&&l.customizeData(i);var a=function(t,e){var i=g("mergeCells",c);i[0].appendChild(w(c,"mergeCell",{attr:{ref:"A"+t+":"+_(e)+t}})),i.attr("count",parseFloat(i.attr("count"))+1),g("row:eq("+(t-1)+") c",c).attr("s","51")},f=e.buttons.exportInfo(l);f.title&&(o([f.title],u),a(u,i.header.length-1)),f.messageTop&&(o([f.messageTop],u),a(u,i.header.length-1)),l.header&&(o(i.header,u),g("row:last c",c).attr("s","2"));e=0;for(var m=i.body.length;e<m;e++)o(i.body[e],u);for(l.footer&&i.footer&&(o(i.footer,u),g("row:last c",c).attr("s","2")),f.messageBottom&&(o([f.messageBottom],u),a(u,i.header.length-1)),e=w(c,"cols"),g("worksheet",c).prepend(e),o=0,a=i.header.length;o<a;o++)e.appendChild(w(c,"col",{attr:{min:o+1,max:o+1,width:x(i,o),customWidth:1}}));l.customize&&l.customize(t),0===g("mergeCells",c).children().length&&g("mergeCells",c).remove(),e={type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},function a(l,t){k===v&&(k=-1===D.serializeToString(g.parseXML(A["xl/worksheets/sheet1.xml"])).indexOf("xmlns:r")),g.each(t,function(t,e){if(g.isPlainObject(e))a(i=l.folder(t),e);else{if(k){var i,n,r,s=[];for(n=(i=e.childNodes[0]).attributes.length-1;0<=n;n--){r=i.attributes[n].nodeName;var o=i.attributes[n].nodeValue;-1!==r.indexOf(":")&&(s.push({name:r,value:o}),i.removeAttribute(r))}for(n=0,r=s.length;n<r;n++)(o=e.createAttribute(s[n].name.replace(":","_dt_b_namespace_token_"))).value=s[n].value,i.setAttributeNode(o)}i=D.serializeToString(e),k&&(-1===i.indexOf("<?xml")&&(i='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+i),i=i.replace(/_dt_b_namespace_token_/g,":")),i=i.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),l.file(t,i)}})}(i=new(y||b.JSZip),t),i.generateAsync?i.generateAsync(e).then(function(t){C(t,f.filename),s.processing(!1)}):(C(i.generate(e),f.filename),this.processing(!1))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*",createEmptyCells:!1},t.ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return b.FileReader!==v&&(o||b.pdfMake)},text:function(t){return t.i18n("buttons.pdf","PDF")},action:function(t,e,i,n){this.processing(!0),t=e.buttons.exportData(n.exportOptions),e=e.buttons.exportInfo(n),i=[],n.header&&i.push(g.map(t.header,function(t){return{text:"string"==typeof t?t:t+"",style:"tableHeader"}}));for(var r=0,s=t.body.length;r<s;r++)i.push(g.map(t.body[r],function(t){return{text:"string"==typeof t?t:t+"",style:r%2?"tableBodyEven":"tableBodyOdd"}}));n.footer&&t.footer&&i.push(g.map(t.footer,function(t){return{text:"string"==typeof t?t:t+"",style:"tableFooter"}})),t={pageSize:n.pageSize,pageOrientation:n.orientation,content:[{table:{headerRows:1,body:i},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}},e.messageTop&&t.content.unshift({text:e.messageTop,style:"message",margin:[0,0,0,12]}),e.messageBottom&&t.content.push({text:e.messageBottom,style:"message",margin:[0,0,0,12]}),e.title&&t.content.unshift({text:e.title,style:"title",margin:[0,0,0,12]}),n.customize&&n.customize(t,n),t=(o||b.pdfMake).createPdf(t),"open"!==n.download||I()?t.download(e.filename):t.open(),this.processing(!1)},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,messageTop:"*",messageBottom:"*",customize:null,download:"download"},t.Buttons}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),e.fn.dataTable.Buttons||require("datatables.net-buttons")(t,e),i(e,t,t.document)}:i(jQuery,window,document)}(function(d,h,t){var e=d.fn.dataTable,i=t.createElement("a"),u=function(t){return i.href=t,-1===(t=i.host).indexOf("/")&&0!==i.pathname.indexOf("/")&&(t+="/"),i.protocol+"//"+t+i.pathname+i.search};return e.ext.buttons.print={className:"buttons-print",text:function(t){return t.i18n("buttons.print","Print")},action:function(t,e,i,n){t=e.buttons.exportData(d.extend({decodeEntities:!1},n.exportOptions)),i=e.buttons.exportInfo(n);var r=function(t,e){for(var i="<tr>",n=0,r=t.length;n<r;n++)i+="<"+e+">"+t[n]+"</"+e+">";return i+"</tr>"};e='<table class="'+e.table().node().className+'">';n.header&&(e+="<thead>"+r(t.header,"th")+"</thead>");e+="<tbody>";for(var s=0,o=t.body.length;s<o;s++)e+=r(t.body[s],"td");e+="</tbody>",n.footer&&t.footer&&(e+="<tfoot>"+r(t.footer,"th")+"</tfoot>");e+="</table>";var a=h.open("","");a.document.close();var l="<title>"+i.title+"</title>";d("style, link").each(function(){var t=l,e=d(this).clone()[0];"link"===e.nodeName.toLowerCase()&&(e.href=u(e.href)),l=t+e.outerHTML});try{a.document.head.innerHTML=l}catch(t){d(a.document.head).html(l)}a.document.body.innerHTML="<h1>"+i.title+"</h1><div>"+(i.messageTop||"")+"</div>"+e+"<div>"+(i.messageBottom||"")+"</div>",d(a.document.body).addClass("dt-print-view"),d("img",a.document.body).each(function(t,e){e.setAttribute("src",u(e.getAttribute("src")))}),n.customize&&n.customize(a),setTimeout(function(){n.autoPrint&&(a.print(),a.close())},1e3)},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},e.Buttons}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(p,t,s,f){function m(t){for(var e=[],i=0,n=t.length;i<n;i++)e[t[i]]=i;return e}function g(t,e,i){e=t.splice(e,1)[0],t.splice(i,0,e)}function b(t,e,i){for(var n=[],r=0,s=t.childNodes.length;r<s;r++)1==t.childNodes[r].nodeType&&n.push(t.childNodes[r]);e=n[e],null!==i?t.insertBefore(e,n[i]):t.appendChild(e)}var r=p.fn.dataTable;p.fn.dataTableExt.oApi.fnColReorder=function(i,t,e,n,r){var s,o,a,l,d,h,u=i.aoColumns.length;if(d=function(t,e,i){if(t[e]&&"function"!=typeof t[e]){var n=t[e].split("."),r=n.shift();isNaN(1*r)||(t[e]=i[1*r]+"."+n.join("."))}},t!=e)if(t<0||u<=t)this.oApi._fnLog(i,1,"ColReorder 'from' index is out of bounds: "+t);else if(e<0||u<=e)this.oApi._fnLog(i,1,"ColReorder 'to' index is out of bounds: "+e);else{for(a=[],s=0,o=u;s<o;s++)a[s]=s;g(a,t,e);var c=m(a);for(s=0,o=i.aaSorting.length;s<o;s++)i.aaSorting[s][0]=c[i.aaSorting[s][0]];if(null!==i.aaSortingFixed)for(s=0,o=i.aaSortingFixed.length;s<o;s++)i.aaSortingFixed[s][0]=c[i.aaSortingFixed[s][0]];for(s=0,o=u;s<o;s++){for(a=0,l=(h=i.aoColumns[s]).aDataSort.length;a<l;a++)h.aDataSort[a]=c[h.aDataSort[a]];h.idx=c[h.idx]}for(p.each(i.aLastSort,function(t,e){i.aLastSort[t].src=c[e.src]}),s=0,o=u;s<o;s++)"number"==typeof(h=i.aoColumns[s]).mData?h.mData=c[h.mData]:p.isPlainObject(h.mData)&&(d(h.mData,"_",c),d(h.mData,"filter",c),d(h.mData,"sort",c),d(h.mData,"type",c));if(i.aoColumns[t].bVisible){for(d=this.oApi._fnColumnIndexToVisible(i,t),l=null,s=e<t?e:e+1;null===l&&s<u;)l=this.oApi._fnColumnIndexToVisible(i,s),s++;for(s=0,o=(a=i.nTHead.getElementsByTagName("tr")).length;s<o;s++)b(a[s],d,l);if(null!==i.nTFoot)for(s=0,o=(a=i.nTFoot.getElementsByTagName("tr")).length;s<o;s++)b(a[s],d,l);for(s=0,o=i.aoData.length;s<o;s++)null!==i.aoData[s].nTr&&b(i.aoData[s].nTr,d,l)}for(g(i.aoColumns,t,e),s=0,o=u;s<o;s++)i.oApi._fnColumnOptions(i,s,{});for(g(i.aoPreSearchCols,t,e),s=0,o=i.aoData.length;s<o;s++){if(h=(l=i.aoData[s]).anCells)for(g(h,t,e),a=0,d=h.length;a<d;a++)h[a]&&h[a]._DT_CellIndex&&(h[a]._DT_CellIndex.column=a);"dom"!==l.src&&p.isArray(l._aData)&&g(l._aData,t,e)}for(s=0,o=i.aoHeader.length;s<o;s++)g(i.aoHeader[s],t,e);if(null!==i.aoFooter)for(s=0,o=i.aoFooter.length;s<o;s++)g(i.aoFooter[s],t,e);for((r||r===f)&&p.fn.dataTable.Api(i).rows().invalidate(),s=0,o=u;s<o;s++)p(i.aoColumns[s].nTh).off("click.DT"),this.oApi._fnSortAttachListener(i,i.aoColumns[s].nTh,s);p(i.oInstance).trigger("column-reorder.dt",[i,{from:t,to:e,mapping:c,drop:n,iFrom:t,iTo:e,aiInvertMapping:c}])}};var o=function(t,e){var i=new p.fn.dataTable.Api(t).settings()[0];if(i._colReorder)return i._colReorder;!0===e&&(e={});var n=p.fn.dataTable.camelToHungarian;return n&&(n(o.defaults,o.defaults,!0),n(o.defaults,e||{})),this.s={dt:null,init:p.extend(!0,{},o.defaults,e),fixed:0,fixedRight:0,reorderCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]},this.dom={drag:null,pointer:null},this.s.dt=i,(this.s.dt._colReorder=this)._fnConstruct(),this};return p.extend(o.prototype,{fnReset:function(){return this._fnOrderColumns(this.fnOrder()),this},fnGetCurrentOrder:function(){return this.fnOrder()},fnOrder:function(t,e){var i,n,r=[],s=this.s.dt.aoColumns;if(t===f){for(i=0,n=s.length;i<n;i++)r.push(s[i]._ColReorder_iOrigCol);return r}if(e){for(s=this.fnOrder(),i=0,n=t.length;i<n;i++)r.push(p.inArray(t[i],s));t=r}return this._fnOrderColumns(m(t)),this},fnTranspose:function(t,e){e||(e="toCurrent");var i=this.fnOrder(),n=this.s.dt.aoColumns;return"toCurrent"===e?p.isArray(t)?p.map(t,function(t){return p.inArray(t,i)}):p.inArray(t,i):p.isArray(t)?p.map(t,function(t){return n[t]._ColReorder_iOrigCol}):n[t]._ColReorder_iOrigCol},_fnConstruct:function(){var t,i=this,e=this.s.dt.aoColumns.length,n=this.s.dt.nTable;for(this.s.init.iFixedColumns&&(this.s.fixed=this.s.init.iFixedColumns),this.s.init.iFixedColumnsLeft&&(this.s.fixed=this.s.init.iFixedColumnsLeft),this.s.fixedRight=this.s.init.iFixedColumnsRight?this.s.init.iFixedColumnsRight:0,this.s.init.fnReorderCallback&&(this.s.reorderCallback=this.s.init.fnReorderCallback),t=0;t<e;t++)t>this.s.fixed-1&&t<e-this.s.fixedRight&&this._fnMouseListener(t,this.s.dt.aoColumns[t].nTh),this.s.dt.aoColumns[t]._ColReorder_iOrigCol=t;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(t,e){i._fnStateSave.call(i,e)},"ColReorder_State");var r=null;if(this.s.init.aiOrder&&(r=this.s.init.aiOrder.slice()),this.s.dt.oLoadedState&&void 0!==this.s.dt.oLoadedState.ColReorder&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length&&(r=this.s.dt.oLoadedState.ColReorder),r)if(i.s.dt._bInitComplete)e=m(r),i._fnOrderColumns.call(i,e);else{var s=!1;p(n).on("draw.dt.colReorder",function(){if(!i.s.dt._bInitComplete&&!s){s=!0;var t=m(r);i._fnOrderColumns.call(i,t)}})}else this._fnSetColumnIndexes();p(n).on("destroy.dt.colReorder",function(){p(n).off("destroy.dt.colReorder draw.dt.colReorder"),p(i.s.dt.nTHead).find("*").off(".ColReorder"),p.each(i.s.dt.aoColumns,function(t,e){p(e.nTh).removeAttr("data-column-index")}),i.s.dt._colReorder=null,i.s=null})},_fnOrderColumns:function(t){var e=!1;if(t.length!=this.s.dt.aoColumns.length)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.");else{for(var i=0,n=t.length;i<n;i++){var r=p.inArray(i,t);i!=r&&(g(t,r,i),this.s.dt.oInstance.fnColReorder(r,i,!0,!1),e=!0)}p.fn.dataTable.Api(this.s.dt).rows().invalidate(),this._fnSetColumnIndexes(),e&&((""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))}},_fnStateSave:function(t){var e,i,n,r=this.s.dt.aoColumns;if(t.ColReorder=[],t.aaSorting){for(e=0;e<t.aaSorting.length;e++)t.aaSorting[e][0]=r[t.aaSorting[e][0]]._ColReorder_iOrigCol;var s=p.extend(!0,[],t.aoSearchCols);for(e=0,i=r.length;e<i;e++)n=r[e]._ColReorder_iOrigCol,t.aoSearchCols[n]=s[e],t.abVisCols[n]=r[e].bVisible,t.ColReorder.push(n)}else if(t.order){for(e=0;e<t.order.length;e++)t.order[e][0]=r[t.order[e][0]]._ColReorder_iOrigCol;for(s=p.extend(!0,[],t.columns),e=0,i=r.length;e<i;e++)n=r[e]._ColReorder_iOrigCol,t.columns[n]=s[e],t.ColReorder.push(n)}},_fnMouseListener:function(t,e){var i=this;p(e).on("mousedown.ColReorder",function(t){i._fnMouseDown.call(i,t,e)}).on("touchstart.ColReorder",function(t){i._fnMouseDown.call(i,t,e)})},_fnMouseDown:function(t,e){var i=this,n=p(t.target).closest("th, td").offset(),r=parseInt(p(e).attr("data-column-index"),10);r!==f&&(this.s.mouse.startX=this._fnCursorPosition(t,"pageX"),this.s.mouse.startY=this._fnCursorPosition(t,"pageY"),this.s.mouse.offsetX=this._fnCursorPosition(t,"pageX")-n.left,this.s.mouse.offsetY=this._fnCursorPosition(t,"pageY")-n.top,this.s.mouse.target=this.s.dt.aoColumns[r].nTh,this.s.mouse.targetIndex=r,this.s.mouse.fromIndex=r,this._fnRegions(),p(s).on("mousemove.ColReorder touchmove.ColReorder",function(t){i._fnMouseMove.call(i,t)}).on("mouseup.ColReorder touchend.ColReorder",function(t){i._fnMouseUp.call(i,t)}))},_fnMouseMove:function(t){if(null===this.dom.drag){if(Math.pow(Math.pow(this._fnCursorPosition(t,"pageX")-this.s.mouse.startX,2)+Math.pow(this._fnCursorPosition(t,"pageY")-this.s.mouse.startY,2),.5)<5)return;this._fnCreateDragNode()}this.dom.drag.css({left:this._fnCursorPosition(t,"pageX")-this.s.mouse.offsetX,top:this._fnCursorPosition(t,"pageY")-this.s.mouse.offsetY});for(var e=!1,i=this.s.mouse.toIndex,n=1,r=this.s.aoTargets.length;n<r;n++)if(this._fnCursorPosition(t,"pageX")<this.s.aoTargets[n-1].x+(this.s.aoTargets[n].x-this.s.aoTargets[n-1].x)/2){this.dom.pointer.css("left",this.s.aoTargets[n-1].x),this.s.mouse.toIndex=this.s.aoTargets[n-1].to,e=!0;break}e||(this.dom.pointer.css("left",this.s.aoTargets[this.s.aoTargets.length-1].x),this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to),this.s.init.bRealtime&&i!==this.s.mouse.toIndex&&(this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,!1),this.s.mouse.fromIndex=this.s.mouse.toIndex,this._fnRegions())},_fnMouseUp:function(){p(s).off(".ColReorder"),null!==this.dom.drag&&(this.dom.drag.remove(),this.dom.pointer.remove(),this.dom.drag=null,this.dom.pointer=null,this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,!0),this._fnSetColumnIndexes(),(""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))},_fnRegions:function(){var t=this.s.dt.aoColumns;this.s.aoTargets.splice(0,this.s.aoTargets.length),this.s.aoTargets.push({x:p(this.s.dt.nTable).offset().left,to:0});for(var e=0,i=this.s.aoTargets[0].x,n=0,r=t.length;n<r;n++)n!=this.s.mouse.fromIndex&&e++,t[n].bVisible&&"none"!==t[n].nTh.style.display&&(i+=p(t[n].nTh).outerWidth(),this.s.aoTargets.push({x:i,to:e}));0!==this.s.fixedRight&&this.s.aoTargets.splice(this.s.aoTargets.length-this.s.fixedRight),0!==this.s.fixed&&this.s.aoTargets.splice(0,this.s.fixed)},_fnCreateDragNode:function(){var t=""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY,e=this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh,i=e.parentNode,n=i.parentNode,r=n.parentNode,s=p(e).clone();this.dom.drag=p(r.cloneNode(!1)).addClass("DTCR_clonedTable").append(p(n.cloneNode(!1)).append(p(i.cloneNode(!1)).append(s[0]))).css({position:"absolute",top:0,left:0,width:p(e).outerWidth(),height:p(e).outerHeight()}).appendTo("body"),this.dom.pointer=p("<div></div>").addClass("DTCR_pointer").css({position:"absolute",top:t?p("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top:p(this.s.dt.nTable).offset().top,height:t?p("div.dataTables_scroll",this.s.dt.nTableWrapper).height():p(this.s.dt.nTable).height()}).appendTo("body")},_fnSetColumnIndexes:function(){p.each(this.s.dt.aoColumns,function(t,e){p(e.nTh).attr("data-column-index",t)})},_fnCursorPosition:function(t,e){return-1!==t.type.indexOf("touch")?t.originalEvent.touches[0][e]:t[e]}}),o.defaults={aiOrder:null,bRealtime:!0,iFixedColumnsLeft:0,iFixedColumnsRight:0,fnReorderCallback:null},o.version="1.4.1",p.fn.dataTable.ColReorder=o,p.fn.DataTable.ColReorder=o,"function"==typeof p.fn.dataTable&&"function"==typeof p.fn.dataTableExt.fnVersionCheck&&p.fn.dataTableExt.fnVersionCheck("1.10.8")?p.fn.dataTableExt.aoFeatures.push({fnInit:function(t){var e=t.oInstance;return t._colReorder?e.oApi._fnLog(t,1,"ColReorder attempted to initialise twice. Ignoring second"):(e=t.oInit,new o(t,e.colReorder||e.oColReorder||{})),null},cFeature:"R",sFeature:"ColReorder"}):alert("Warning: ColReorder requires DataTables 1.10.8 or greater - www.datatables.net/download"),p(s).on("preInit.dt.colReorder",function(t,e){if("dt"===t.namespace){var i=e.oInit.colReorder,n=r.defaults.colReorder;(i||n)&&(n=p.extend({},i,n),!1!==i&&new o(e,n))}}),p.fn.dataTable.Api.register("colReorder.reset()",function(){return this.iterator("table",function(t){t._colReorder.fnReset()})}),p.fn.dataTable.Api.register("colReorder.order()",function(e,i){return e?this.iterator("table",function(t){t._colReorder.fnOrder(e,i)}):this.context.length?this.context[0]._colReorder.fnOrder():null}),p.fn.dataTable.Api.register("colReorder.transpose()",function(t,e){return this.context.length&&this.context[0]._colReorder?this.context[0]._colReorder.fnTranspose(t,e):t}),p.fn.dataTable.Api.register("colReorder.move()",function(t,e,i,n){return this.context.length&&this.context[0]._colReorder.s.dt.oInstance.fnColReorder(t,e,i,n),this}),o}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(g,a,l,b){var e,r=g.fn.dataTable,d=function(t,e){var i=this;if(this instanceof d){e!==b&&!0!==e||(e={});var n=g.fn.dataTable.camelToHungarian;if(n&&(n(d.defaults,d.defaults,!0),n(d.defaults,e)),n=new g.fn.dataTable.Api(t).settings()[0],this.s={dt:n,iTableColumns:n.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[],rtl:"rtl"===g(n.nTable).css("direction")},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},n._oFixedColumns)throw"FixedColumns already initialised on this table";n._oFixedColumns=this,n._bInitComplete?this._fnConstruct(e):n.oApi._fnCallbackReg(n,"aoInitComplete",function(){i._fnConstruct(e)},"FixedColumns")}else alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.")};return g.extend(d.prototype,{fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(t){delete t._DTTC_iHeight,t.style.height="auto"},fnSetRowHeight:function(t,e){t.style.height=e+"px"},fnGetPosition:function(t){var e=this.s.dt.oInstance;if(g(t).parents(".DTFC_Cloned").length){if("tr"===t.nodeName.toLowerCase())return t=g(t).index(),e.fnGetPosition(g("tr",this.s.dt.nTBody)[t]);var i=g(t).index();t=g(t.parentNode).index();return[e.fnGetPosition(g("tr",this.s.dt.nTBody)[t]),i,e.oApi._fnVisibleToColumnIndex(this.s.dt,i)]}return e.fnGetPosition(t)},_fnConstruct:function(t){var s=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0"))alert("FixedColumns "+d.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");else if(""===this.s.dt.oScroll.sX)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else{this.s=g.extend(!0,this.s,d.defaults,t),t=this.s.dt.oClasses,this.dom.grid.dt=g(this.s.dt.nTable).parents("div."+t.sScrollWrapper)[0],this.dom.scroller=g("div."+t.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var e,i=!1;g(this.s.dt.nTableWrapper).on("mousedown.DTFC",function(t){0===t.button&&(i=!0,g(l).one("mouseup",function(){i=!1}))}),g(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){i||(e="main")}).on("scroll.DTFC",function(t){!e&&t.originalEvent&&(e="main"),"main"===e&&(0<s.s.iLeftColumns&&(s.dom.grid.left.liner.scrollTop=s.dom.scroller.scrollTop),0<s.s.iRightColumns)&&(s.dom.grid.right.liner.scrollTop=s.dom.scroller.scrollTop)});var n="onwheel"in l.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";0<s.s.iLeftColumns&&g(s.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){i||(e="left")}).on("scroll.DTFC",function(t){!e&&t.originalEvent&&(e="left"),"left"===e&&(s.dom.scroller.scrollTop=s.dom.grid.left.liner.scrollTop,0<s.s.iRightColumns&&(s.dom.grid.right.liner.scrollTop=s.dom.grid.left.liner.scrollTop))}).on(n,function(t){s.dom.scroller.scrollLeft-="wheel"===t.type?-t.originalEvent.deltaX:t.originalEvent.wheelDeltaX}),0<s.s.iRightColumns&&g(s.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){i||(e="right")}).on("scroll.DTFC",function(t){!e&&t.originalEvent&&(e="right"),"right"===e&&(s.dom.scroller.scrollTop=s.dom.grid.right.liner.scrollTop,0<s.s.iLeftColumns&&(s.dom.grid.left.liner.scrollTop=s.dom.grid.right.liner.scrollTop))}).on(n,function(t){s.dom.scroller.scrollLeft-="wheel"===t.type?-t.originalEvent.deltaX:t.originalEvent.wheelDeltaX}),g(a).on("resize.DTFC",function(){s._fnGridLayout.call(s)});var r=!0,o=g(this.s.dt.nTable);o.on("draw.dt.DTFC",function(){s._fnColCalc(),s._fnDraw.call(s,r),r=!1}).on("column-sizing.dt.DTFC",function(){s._fnColCalc(),s._fnGridLayout(s)}).on("column-visibility.dt.DTFC",function(t,e,i,n,r){(r===b||r)&&(s._fnColCalc(),s._fnGridLayout(s),s._fnDraw(!0))}).on("select.dt.DTFC deselect.dt.DTFC",function(t){"dt"===t.namespace&&s._fnDraw(!1)}).on("destroy.dt.DTFC",function(){o.off(".DTFC"),g(s.dom.scroller).off(".DTFC"),g(a).off(".DTFC"),g(s.s.dt.nTableWrapper).off(".DTFC"),g(s.dom.grid.left.liner).off(".DTFC "+n),g(s.dom.grid.left.wrapper).remove(),g(s.dom.grid.right.liner).off(".DTFC "+n),g(s.dom.grid.right.wrapper).remove()}),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)}},_fnColCalc:function(){var s=this,o=0,a=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],g.each(this.s.dt.aoColumns,function(t,e){var i,n=g(e.nTh);if(n.filter(":visible").length){var r=n.outerWidth();0===s.s.aiOuterWidths.length&&(r+="string"==typeof(i=g(s.s.dt.nTable).css("border-left-width"))&&-1===i.indexOf("px")?1:parseInt(i,10)),s.s.aiOuterWidths.length===s.s.dt.aoColumns.length-1&&(r+="string"==typeof(i=g(s.s.dt.nTable).css("border-right-width"))&&-1===i.indexOf("px")?1:parseInt(i,10)),s.s.aiOuterWidths.push(r),s.s.aiInnerWidths.push(n.width()),t<s.s.iLeftColumns&&(o+=r),s.s.iTableColumns-s.s.iRightColumns<=t&&(a+=r)}else s.s.aiInnerWidths.push(0),s.s.aiOuterWidths.push(0)}),this.s.iLeftWidth=o,this.s.iRightWidth=a},_fnGridSetup:function(){var t,e=this._fnDTOverflow();this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var i=g('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;" aria-hidden="true"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; right:0;" aria-hidden="true"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],n=i.childNodes[0],r=i.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(i,this.dom.grid.dt),i.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=i,0<this.s.iLeftColumns&&(this.dom.grid.left.wrapper=n,this.dom.grid.left.head=n.childNodes[0],this.dom.grid.left.body=n.childNodes[1],this.dom.grid.left.liner=g("div.DTFC_LeftBodyLiner",i)[0],i.appendChild(n)),0<this.s.iRightColumns&&(this.dom.grid.right.wrapper=r,this.dom.grid.right.head=r.childNodes[0],this.dom.grid.right.body=r.childNodes[1],this.dom.grid.right.liner=g("div.DTFC_RightBodyLiner",i)[0],r.style.right=e.bar+"px",(t=g("div.DTFC_RightHeadBlocker",i)[0]).style.width=e.bar+"px",t.style.right=-e.bar+"px",this.dom.grid.right.headBlock=t,(t=g("div.DTFC_RightFootBlocker",i)[0]).style.width=e.bar+"px",t.style.right=-e.bar+"px",this.dom.grid.right.footBlock=t,i.appendChild(r)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,0<this.s.iLeftColumns&&(this.dom.grid.left.foot=n.childNodes[2]),0<this.s.iRightColumns)&&(this.dom.grid.right.foot=r.childNodes[2]),this.s.rtl&&g("div.DTFC_RightHeadBlocker",i).css({left:-e.bar+"px",right:""})},_fnGridLayout:function(){var i=this,t=this.dom.grid;g(t.wrapper).width();var e=this.s.dt.nTable.parentNode.offsetHeight,n=this.s.dt.nTable.parentNode.parentNode.offsetHeight,r=this._fnDTOverflow(),s=this.s.iLeftWidth,o=this.s.iRightWidth,a="rtl"===g(this.dom.body).css("direction"),l=function(t,e){r.bar?i._firefoxScrollError()?34<g(t).height()&&(t.style.width=e+r.bar+"px"):t.style.width=e+r.bar+"px":(t.style.width=e+20+"px",t.style.paddingRight="20px",t.style.boxSizing="border-box")};r.x&&(e-=r.bar),t.wrapper.style.height=n+"px",0<this.s.iLeftColumns&&((n=t.left.wrapper).style.width=s+"px",n.style.height="1px",n.style.right=a?(n.style.left="",0):(n.style.left=0,""),t.left.body.style.height=e+"px",t.left.foot&&(t.left.foot.style.top=(r.x?r.bar:0)+"px"),l(t.left.liner,s),t.left.liner.style.height=e+"px",t.left.liner.style.maxHeight=e+"px"),0<this.s.iRightColumns&&((n=t.right.wrapper).style.width=o+"px",n.style.height="1px",this.s.rtl?(n.style.left=r.y?r.bar+"px":0,n.style.right=""):(n.style.left="",n.style.right=r.y?r.bar+"px":0),t.right.body.style.height=e+"px",t.right.foot&&(t.right.foot.style.top=(r.x?r.bar:0)+"px"),l(t.right.liner,o),t.right.liner.style.height=e+"px",t.right.liner.style.maxHeight=e+"px",t.right.headBlock.style.display=r.y?"block":"none",t.right.footBlock.style.display=r.y?"block":"none")},_fnDTOverflow:function(){var t=this.s.dt.nTable,e=t.parentNode,i={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return t.offsetWidth>e.clientWidth&&(i.x=!0),t.offsetHeight>e.clientHeight&&(i.y=!0),i},_fnDraw:function(t){this._fnGridLayout(),this._fnCloneLeft(t),this._fnCloneRight(t),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),g(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(t){if(!(this.s.iRightColumns<=0)){var e,i=[];for(e=this.s.iTableColumns-this.s.iRightColumns;e<this.s.iTableColumns;e++)this.s.dt.aoColumns[e].bVisible&&i.push(e);this._fnClone(this.dom.clone.right,this.dom.grid.right,i,t)}},_fnCloneLeft:function(t){if(!(this.s.iLeftColumns<=0)){var e,i=[];for(e=0;e<this.s.iLeftColumns;e++)this.s.dt.aoColumns[e].bVisible&&i.push(e);this._fnClone(this.dom.clone.left,this.dom.grid.left,i,t)}},_fnCopyLayout:function(t,e,i){for(var n=[],r=[],s=[],o=0,a=t.length;o<a;o++){var l=[];l.nTr=g(t[o].nTr).clone(i,!1)[0];for(var d=0,h=this.s.iTableColumns;d<h;d++)if(-1!==g.inArray(d,e)){var u=g.inArray(t[o][d].cell,s);-1===u?(u=g(t[o][d].cell).clone(i,!1)[0],r.push(u),s.push(t[o][d].cell),l.push({cell:u,unique:t[o][d].unique})):l.push({cell:r[u],unique:t[o][d].unique})}n.push(l)}return n},_fnClone:function(t,e,n,i){var r,s,o,a,l,d,h,u,c,p=this,f=this.s.dt;if(i){for(g(t.header).remove(),t.header=g(this.dom.header).clone(!0,!1)[0],t.header.className+=" DTFC_Cloned",t.header.style.width="100%",e.head.appendChild(t.header),u=this._fnCopyLayout(f.aoHeader,n,!0),(a=g(">thead",t.header)).empty(),r=0,s=u.length;r<s;r++)a[0].appendChild(u[r].nTr);f.oApi._fnDrawHead(f,u,!0)}else for(u=this._fnCopyLayout(f.aoHeader,n,!1),c=[],f.oApi._fnDetectHeader(c,g(">thead",t.header)[0]),r=0,s=u.length;r<s;r++)for(o=0,a=u[r].length;o<a;o++)c[r][o].cell.className=u[r][o].cell.className,g("span.DataTables_sort_icon",c[r][o].cell).each(function(){this.className=g("span.DataTables_sort_icon",u[r][o].cell)[0].className});this._fnEqualiseHeights("thead",this.dom.header,t.header),"auto"==this.s.sHeightMatch&&g(">tbody>tr",p.dom.body).css("height","auto"),null!==t.body&&(g(t.body).remove(),t.body=null),t.body=g(this.dom.body).clone(!0)[0],t.body.className+=" DTFC_Cloned",t.body.style.paddingBottom=f.oScroll.iBarWidth+"px",t.body.style.marginBottom=2*f.oScroll.iBarWidth+"px",null!==t.body.getAttribute("id")&&t.body.removeAttribute("id"),g(">thead>tr",t.body).empty(),g(">tfoot",t.body).remove();var m=g("tbody",t.body)[0];if(g(m).empty(),0<f.aiDisplay.length){for(s=g(">thead>tr",t.body)[0],h=0;h<n.length;h++)l=n[h],(d=g(f.aoColumns[l].nTh).clone(!0)[0]).innerHTML="",(a=d.style).paddingTop="0",a.paddingBottom="0",a.borderTopWidth="0",a.borderBottomWidth="0",a.height=0,a.width=p.s.aiInnerWidths[l]+"px",s.appendChild(d);g(">tbody>tr",p.dom.body).each(function(t){t=!1===p.s.dt.oFeatures.bServerSide?p.s.dt.aiDisplay[p.s.dt._iDisplayStart+t]:t;var e=p.s.dt.aoData[t].anCells||g(this).children("td, th"),i=this.cloneNode(!1);for(i.removeAttribute("id"),i.setAttribute("data-dt-row",t),h=0;h<n.length;h++)l=n[h],0<e.length&&((d=g(e[l]).clone(!0,!0)[0]).removeAttribute("id"),d.setAttribute("data-dt-row",t),d.setAttribute("data-dt-column",f.oApi._fnVisibleToColumnIndex(f,l)),i.appendChild(d));m.appendChild(i)})}else g(">tbody>tr",p.dom.body).each(function(){(d=this.cloneNode(!0)).className=d.className+" DTFC_NoData",g("td",d).html(""),m.appendChild(d)});if(t.body.style.width="100%",t.body.style.margin="0",t.body.style.padding="0",f.oScroller!==b&&(s=f.oScroller.dom.force,e.forcer?e.forcer.style.height=s.style.height:(e.forcer=s.cloneNode(!0),e.liner.appendChild(e.forcer))),e.liner.appendChild(t.body),this._fnEqualiseHeights("tbody",p.dom.body,t.body),null!==f.nTFoot){if(i){for(null!==t.footer&&t.footer.parentNode.removeChild(t.footer),t.footer=g(this.dom.footer).clone(!0,!0)[0],t.footer.className+=" DTFC_Cloned",t.footer.style.width="100%",e.foot.appendChild(t.footer),u=this._fnCopyLayout(f.aoFooter,n,!0),(e=g(">tfoot",t.footer)).empty(),r=0,s=u.length;r<s;r++)e[0].appendChild(u[r].nTr);f.oApi._fnDrawHead(f,u,!0)}else for(u=this._fnCopyLayout(f.aoFooter,n,!1),e=[],f.oApi._fnDetectHeader(e,g(">tfoot",t.footer)[0]),r=0,s=u.length;r<s;r++)for(o=0,a=u[r].length;o<a;o++)e[r][o].cell.className=u[r][o].cell.className;this._fnEqualiseHeights("tfoot",this.dom.footer,t.footer)}e=f.oApi._fnGetUniqueThs(f,g(">thead",t.header)[0]),g(e).each(function(t){l=n[t],this.style.width=p.s.aiInnerWidths[l]+"px"}),null!==p.s.dt.nTFoot&&(e=f.oApi._fnGetUniqueThs(f,g(">tfoot",t.footer)[0]),g(e).each(function(t){l=n[t],this.style.width=p.s.aiInnerWidths[l]+"px"}))},_fnGetTrNodes:function(t){for(var e=[],i=0,n=t.childNodes.length;i<n;i++)"TR"==t.childNodes[i].nodeName.toUpperCase()&&e.push(t.childNodes[i]);return e},_fnEqualiseHeights:function(t,e,i){if("none"!=this.s.sHeightMatch||"thead"===t||"tfoot"===t){var n,r,s=e.getElementsByTagName(t)[0];i=i.getElementsByTagName(t)[0];(t=g(">"+t+">tr:eq(0)",e).children(":first")).outerHeight(),t.height();s=this._fnGetTrNodes(s),e=this._fnGetTrNodes(i);var o=[];for(i=0,t=e.length;i<t;i++)n=(n=s[i].offsetHeight)<(r=e[i].offsetHeight)?r:n,"semiauto"==this.s.sHeightMatch&&(s[i]._DTTC_iHeight=n),o.push(n);for(i=0,t=e.length;i<t;i++)e[i].style.height=o[i]+"px",s[i].style.height=o[i]+"px"}},_firefoxScrollError:function(){if(e===b){var t=g("<div/>").css({position:"absolute",top:0,left:0,height:10,width:50,overflow:"scroll"}).appendTo("body");e=t[0].clientWidth===t[0].offsetWidth&&0!==this._fnDTOverflow().bar,t.remove()}return e}}),d.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},d.version="3.2.4",r.Api.register("fixedColumns()",function(){return this}),r.Api.register("fixedColumns().update()",function(){return this.iterator("table",function(t){t._oFixedColumns&&t._oFixedColumns.fnUpdate()})}),r.Api.register("fixedColumns().relayout()",function(){return this.iterator("table",function(t){t._oFixedColumns&&t._oFixedColumns.fnRedrawLayout()})}),r.Api.register("rows().recalcHeight()",function(){return this.iterator("row",function(t,e){t._oFixedColumns&&t._oFixedColumns.fnRecalculateHeight(this.row(e).node())})}),r.Api.register("fixedColumns().rowIndex()",function(t){return(t=g(t)).parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[t.index()]:this.row(t).index()}),r.Api.register("fixedColumns().cellIndex()",function(t){if((t=g(t)).parents(".DTFC_Cloned").length){var e=t.parent().index();e=this.rows({page:"current"}).indexes()[e],t=t.parents(".DTFC_LeftWrapper").length?t.index():this.columns().flatten().length-this.context[0]._oFixedColumns.s.iRightColumns+t.index();return{row:e,column:this.column.index("toData",t),columnVisible:t}}return this.cell(t).index()}),g(l).on("init.dt.fixedColumns",function(t,e){if("dt"===t.namespace){var i=e.oInit.fixedColumns,n=r.defaults.fixedColumns;(i||n)&&(n=g.extend({},i,n),!1!==i&&new d(e,n))}}),g.fn.dataTable.FixedColumns=d,g.fn.DataTable.FixedColumns=d}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(o,n,a,r){var s=o.fn.dataTable,l=0,d=function(t,e){if(!(this instanceof d))throw"FixedHeader must be initialised with the 'new' keyword.";!0===e&&(e={}),t=new s.Api(t),this.c=o.extend(!0,{},d.defaults,e),this.s={dt:t,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:o(n).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:t.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+l++,scrollLeft:{header:-1,footer:-1},enable:!0},this.dom={floatingHeader:null,thead:o(t.table().header()),tbody:o(t.table().body()),tfoot:o(t.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,placeholder:null}},this.dom.header.host=this.dom.thead.parent(),this.dom.footer.host=this.dom.tfoot.parent();var i=t.settings()[0];if(i._fixedHeader)throw"FixedHeader already initialised on table "+i.nTable.id;(i._fixedHeader=this)._constructor()};return o.extend(d.prototype,{enable:function(t){this.s.enable=t,this.c.header&&this._modeChange("in-place","header",!0),this.c.footer&&this.dom.tfoot.length&&this._modeChange("in-place","footer",!0),this.update()},headerOffset:function(t){return t!==r&&(this.c.headerOffset=t,this.update()),this.c.headerOffset},footerOffset:function(t){return t!==r&&(this.c.footerOffset=t,this.update()),this.c.footerOffset},update:function(){this._positions(),this._scroll(!0)},_constructor:function(){var t=this,e=this.s.dt;o(n).on("scroll"+this.s.namespace,function(){t._scroll()}).on("resize"+this.s.namespace,function(){t.s.position.windowHeight=o(n).height(),t.update()});var i=o(".fh-fixedHeader");!this.c.headerOffset&&i.length&&(this.c.headerOffset=i.outerHeight()),i=o(".fh-fixedFooter"),!this.c.footerOffset&&i.length&&(this.c.footerOffset=i.outerHeight()),e.on("column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc",function(){t.update()}),e.on("destroy.dtfc",function(){e.off(".dtfc"),o(n).off(t.s.namespace)}),this._positions(),this._scroll()},_clone:function(t,e){var i=this.s.dt,n=this.dom[t],r="header"===t?this.dom.thead:this.dom.tfoot;!e&&n.floating?n.floating.removeClass("fixedHeader-floating fixedHeader-locked"):(n.floating&&(n.placeholder.remove(),this._unsize(t),n.floating.children().detach(),n.floating.remove()),n.floating=o(i.table().node().cloneNode(!1)).css("table-layout","fixed").removeAttr("id").append(r).appendTo("body"),n.placeholder=r.clone(!1),n.placeholder.find("*[id]").removeAttr("id"),n.host.prepend(n.placeholder),this._matchWidths(n.placeholder,n.floating))},_matchWidths:function(e,i){var t=function(t,e){o(t,i).each(function(t){o(this).css({width:e[t],minWidth:e[t]})})},n=(r=function(t){return o(t,e).map(function(){return o(this).width()}).toArray()})("th"),r=r("td");t("th",n),t("td",r)},_unsize:function(t){var e=this.dom[t].floating;e&&("footer"===t||"header"===t&&!this.s.autoWidth)?o("th, td",e).css({width:"",minWidth:""}):e&&"header"===t&&o("th, td",e).css("min-width","")},_horizontal:function(t,e){var i=this.dom[t],n=this.s.position,r=this.s.scrollLeft;i.floating&&r[t]!==e&&(i.floating.css("left",n.left-e),r[t]=e)},_modeChange:function(t,e,i){var n=this.dom[e],r=this.s.position,s=o.contains(this.dom["footer"===e?"tfoot":"thead"][0],a.activeElement)?a.activeElement:null;"in-place"===t?(n.placeholder&&(n.placeholder.remove(),n.placeholder=null),this._unsize(e),"header"===e?n.host.prepend(this.dom.thead):n.host.append(this.dom.tfoot),n.floating&&(n.floating.remove(),n.floating=null)):"in"===t?(this._clone(e,i),n.floating.addClass("fixedHeader-floating").css("header"===e?"top":"bottom",this.c[e+"Offset"]).css("left",r.left+"px").css("width",r.width+"px"),"footer"===e&&n.floating.css("top","")):"below"===t?(this._clone(e,i),n.floating.addClass("fixedHeader-locked").css("top",r.tfootTop-r.theadHeight).css("left",r.left+"px").css("width",r.width+"px")):"above"===t&&(this._clone(e,i),n.floating.addClass("fixedHeader-locked").css("top",r.tbodyTop).css("left",r.left+"px").css("width",r.width+"px")),s&&s!==a.activeElement&&s.focus(),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[e+"Mode"]=t},_positions:function(){var t=this.s.dt.table(),e=this.s.position,i=this.dom,n=(t=o(t.node())).children("thead"),r=t.children("tfoot");i=i.tbody;e.visible=t.is(":visible"),e.width=t.outerWidth(),e.left=t.offset().left,e.theadTop=n.offset().top,e.tbodyTop=i.offset().top,e.theadHeight=e.tbodyTop-e.theadTop,r.length?(e.tfootTop=r.offset().top,e.tfootBottom=e.tfootTop+r.outerHeight(),e.tfootHeight=e.tfootBottom-e.tfootTop):(e.tfootTop=e.tbodyTop+i.outerHeight(),e.tfootBottom=e.tfootTop,e.tfootHeight=e.tfootTop)},_scroll:function(t){var e,i=o(a).scrollTop(),n=o(a).scrollLeft(),r=this.s.position;this.s.enable&&(this.c.header&&(e=!r.visible||i<=r.theadTop-this.c.headerOffset?"in-place":i<=r.tfootTop-r.theadHeight-this.c.headerOffset?"in":"below",(t||e!==this.s.headerMode)&&this._modeChange(e,"header",t),this._horizontal("header",n)),this.c.footer&&this.dom.tfoot.length)&&(i=!r.visible||i+r.windowHeight>=r.tfootBottom+this.c.footerOffset?"in-place":r.windowHeight+i>r.tbodyTop+r.tfootHeight+this.c.footerOffset?"in":"above",(t||i!==this.s.footerMode)&&this._modeChange(i,"footer",t),this._horizontal("footer",n))}}),d.version="3.1.3",d.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},o.fn.dataTable.FixedHeader=d,o.fn.DataTable.FixedHeader=d,o(a).on("init.dt.dtfh",function(t,e){if("dt"===t.namespace){var i=e.oInit.fixedHeader,n=s.defaults.fixedHeader;!i&&!n||e._fixedHeader||(n=o.extend({},n,i),!1!==i&&new d(e,n))}}),s.Api.register("fixedHeader()",function(){}),s.Api.register("fixedHeader.adjust()",function(){return this.iterator("table",function(t){(t=t._fixedHeader)&&t.update()})}),s.Api.register("fixedHeader.enable()",function(e){return this.iterator("table",function(t){t=t._fixedHeader,e=e===r||e,t&&e!==t.s.enable&&t.enable(e)})}),s.Api.register("fixedHeader.disable()",function(){return this.iterator("table",function(t){(t=t._fixedHeader)&&t.s.enable&&t.enable(!1)})}),o.each(["header","footer"],function(t,i){s.Api.register("fixedHeader."+i+"Offset()",function(e){var t=this.context;return e===r?t.length&&t[0]._fixedHeader?t[0]._fixedHeader[i+"Offset"]():r:this.iterator("table",function(t){(t=t._fixedHeader)&&t[i+"Offset"](e)})})}),d}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(u,c,o,d){function a(t,e,i){var n=e+"-"+i;if(l[n]){t=t.cell(e,i).node(),e=[];for(var r=0,s=(i=l[n][0].parentNode.childNodes).length;r<s;r++)e.push(i[r]);for(i=0,r=e.length;i<r;i++)t.appendChild(e[i]);l[n]=d}}var n=u.fn.dataTable,r=function(t,e){if(!n.versionCheck||!n.versionCheck("1.10.10"))throw"DataTables Responsive requires DataTables 1.10.10 or newer";this.s={dt:new n.Api(t),columns:[],current:[]},this.s.dt.settings()[0].responsive||(e&&"string"==typeof e.details?e.details={type:e.details}:e&&!1===e.details?e.details={type:!1}:e&&!0===e.details&&(e.details={type:"inline"}),this.c=u.extend(!0,{},r.defaults,n.defaults.responsive,e),(t.responsive=this)._constructor())};u.extend(r.prototype,{_constructor:function(){var s=this,e=this.s.dt,t=e.settings()[0],i=u(c).width();e.settings()[0]._responsive=this,u(c).on("resize.dtr orientationchange.dtr",n.util.throttle(function(){var t=u(c).width();t!==i&&(s._resize(),i=t)})),t.oApi._fnCallbackReg(t,"aoRowCreatedCallback",function(t){-1!==u.inArray(!1,s.s.current)&&u(">td, >th",t).each(function(t){t=e.column.index("toData",t),!1===s.s.current[t]&&u(this).css("display","none")})}),e.on("destroy.dtr",function(){e.off(".dtr"),u(e.table().body()).off(".dtr"),u(c).off("resize.dtr orientationchange.dtr"),u.each(s.s.current,function(t,e){!1===e&&s._setColumnVis(t,!0)})}),this.c.breakpoints.sort(function(t,e){return t.width<e.width?1:t.width>e.width?-1:0}),this._classLogic(),this._resizeAuto(),!1!==(t=this.c.details).type&&(s._detailsInit(),e.on("column-visibility.dtr",function(t,e,i,n,r){r&&(s._classLogic(),s._resizeAuto(),s._resize())}),e.on("draw.dtr",function(){s._redrawChildren()}),u(e.table().node()).addClass("dtr-"+t.type)),e.on("column-reorder.dtr",function(){s._classLogic(),s._resizeAuto(),s._resize()}),e.on("column-sizing.dtr",function(){s._resizeAuto(),s._resize()}),e.on("preXhr.dtr",function(){var t=[];e.rows().every(function(){this.child.isShown()&&t.push(this.id(!0))}),e.one("draw.dtr",function(){s._resizeAuto(),s._resize(),e.rows(t).every(function(){s._detailsDisplay(this,!1)})})}),e.on("init.dtr",function(){s._resizeAuto(),s._resize(),u.inArray(!1,s.s.current)&&e.columns.adjust()}),this._resize()},_columnsVisiblity:function(e){var t,i,n=this.s.dt,r=this.s.columns,s=r.map(function(t,e){return{columnIdx:e,priority:t.priority}}).sort(function(t,e){return t.priority!==e.priority?t.priority-e.priority:t.columnIdx-e.columnIdx}),o=u.map(r,function(t){return(!t.auto||null!==t.minWidth)&&(!0===t.auto?"-":-1!==u.inArray(e,t.includeIn))}),a=0;for(t=0,i=o.length;t<i;t++)!0===o[t]&&(a+=r[t].minWidth);for(t=(t=n.settings()[0].oScroll).sY||t.sX?t.iBarWidth:0,n=n.table().container().offsetWidth-t-a,t=0,i=o.length;t<i;t++)r[t].control&&(n-=r[t].minWidth);for(a=!1,t=0,i=s.length;t<i;t++){var l=s[t].columnIdx;"-"===o[l]&&!r[l].control&&r[l].minWidth&&(a||n-r[l].minWidth<0?(a=!0,o[l]=!1):o[l]=!0,n-=r[l].minWidth)}for(s=!1,t=0,i=r.length;t<i;t++)if(!r[t].control&&!r[t].never&&!o[t]){s=!0;break}for(t=0,i=r.length;t<i;t++)r[t].control&&(o[t]=s);return-1===u.inArray(!0,o)&&(o[0]=!0),o},_classLogic:function(){var r=this,a=this.c.breakpoints,n=this.s.dt,s=n.columns().eq(0).map(function(t){var e=this.column(t),i=e.header().className;return(t=n.settings()[0].aoColumns[t].responsivePriority)===d&&(t=(e=u(e.header()).data("priority"))!==d?1*e:1e4),{className:i,includeIn:[],auto:!1,control:!1,never:!!i.match(/\bnever\b/),priority:t}}),o=function(t,e){var i=s[t].includeIn;-1===u.inArray(e,i)&&i.push(e)},l=function(t,e,i,n){if(i){if("max-"===i)for(n=r._find(e).width,e=0,i=a.length;e<i;e++)a[e].width<=n&&o(t,a[e].name);else if("min-"===i)for(n=r._find(e).width,e=0,i=a.length;e<i;e++)a[e].width>=n&&o(t,a[e].name);else if("not-"===i)for(e=0,i=a.length;e<i;e++)-1===a[e].name.indexOf(n)&&o(t,a[e].name)}else s[t].includeIn.push(e)};s.each(function(t,r){for(var e=t.className.split(" "),s=!1,i=0,n=e.length;i<n;i++){var o=u.trim(e[i]);if("all"===o)return s=!0,void(t.includeIn=u.map(a,function(t){return t.name}));if("none"===o||t.never)return void(s=!0);if("control"===o)return s=!0,void(t.control=!0);u.each(a,function(t,e){var i=e.name.split("-"),n=o.match(RegExp("(min\\-|max\\-|not\\-)?("+i[0]+")(\\-[_a-zA-Z0-9])?"));n&&(s=!0,n[2]===i[0]&&n[3]==="-"+i[1]?l(r,e.name,n[1],n[2]+n[3]):n[2]===i[0]&&!n[3]&&l(r,e.name,n[1],n[2]))})}s||(t.auto=!0)}),this.s.columns=s},_detailsDisplay:function(t,e){var i=this,n=this.s.dt,r=this.c.details;if(r&&!1!==r.type){var s=r.display(t,e,function(){return r.renderer(n,t[0],i._detailsObj(t[0]))});(!0===s||!1===s)&&u(n.table().node()).triggerHandler("responsive-display.dt",[n,t,s,e])}},_detailsInit:function(){var i=this,n=this.s.dt,t=this.c.details;"inline"===t.type&&(t.target="td:first-child, th:first-child"),n.on("draw.dtr",function(){i._tabIndexes()}),i._tabIndexes(),u(n.table().body()).on("keyup.dtr","td, th",function(t){13===t.keyCode&&u(this).data("dtr-keyboard")&&u(this).click()});var r=t.target;u(n.table().body()).on("click.dtr mousedown.dtr mouseup.dtr","string"==typeof r?r:"td, th",function(t){if(u(n.table().node()).hasClass("collapsed")&&-1!==u.inArray(u(this).closest("tr").get(0),n.rows().nodes().toArray())){if("number"==typeof r){var e=r<0?n.columns().eq(0).length+r:r;if(n.cell(this).index().column!==e)return}e=n.row(u(this).closest("tr")),"click"===t.type?i._detailsDisplay(e,!1):"mousedown"===t.type?u(this).css("outline","none"):"mouseup"===t.type&&u(this).blur().css("outline","")}})},_detailsObj:function(i){var n=this,r=this.s.dt;return u.map(this.s.columns,function(t,e){if(!t.never&&!t.control)return{title:r.settings()[0].aoColumns[e].sTitle,data:r.cell(i,e).render(n.c.orthogonal),hidden:r.column(e).visible()&&!n.s.current[e],columnIndex:e,rowIndex:i}})},_find:function(t){for(var e=this.c.breakpoints,i=0,n=e.length;i<n;i++)if(e[i].name===t)return e[i]},_redrawChildren:function(){var i=this,n=this.s.dt;n.rows({page:"current"}).iterator("row",function(t,e){n.row(e),i._detailsDisplay(n.row(e),!0)})},_resize:function(){var t,i=this,e=this.s.dt,n=u(c).width(),r=this.c.breakpoints,s=r[0].name,o=this.s.columns,a=this.s.current.slice();for(t=r.length-1;0<=t;t--)if(n<=r[t].width){s=r[t].name;break}var l=this._columnsVisiblity(s);for(this.s.current=l,r=!1,t=0,n=o.length;t<n;t++)if(!1===l[t]&&!o[t].never&&!o[t].control){r=!0;break}u(e.table().node()).toggleClass("collapsed",r);var d=!1,h=0;e.columns().eq(0).each(function(t,e){!0===l[e]&&h++,l[e]!==a[e]&&(d=!0,i._setColumnVis(t,l[e]))}),d&&(this._redrawChildren(),u(e.table().node()).trigger("responsive-resize.dt",[e,this.s.current]),0===e.page.info().recordsDisplay&&u("td",e.table().body()).eq(0).attr("colspan",h))},_resizeAuto:function(){var e=this.s.dt,i=this.s.columns;if(this.c.auto&&-1!==u.inArray(!0,u.map(i,function(t){return t.auto}))){u.isEmptyObject(l)||u.each(l,function(t){t=t.split("-"),a(e,1*t[0],1*t[1])}),e.table().node();var t=e.table().node().cloneNode(!1),n=u(e.table().header().cloneNode(!1)).appendTo(t),r=u(e.table().body()).clone(!1,!1).empty().appendTo(t),s=e.columns().header().filter(function(t){return e.column(t).visible()}).to$().clone(!1).css("display","table-cell").css("min-width",0);if(u(r).append(u(e.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display",""),r=e.table().footer()){r=u(r.cloneNode(!1)).appendTo(t);var o=e.columns().footer().filter(function(t){return e.column(t).visible()}).to$().clone(!1).css("display","table-cell");u("<tr/>").append(o).appendTo(r)}u("<tr/>").append(s).appendTo(n),"inline"===this.c.details.type&&u(t).addClass("dtr-inline collapsed"),u(t).find("[name]").removeAttr("name"),(t=u("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(t)).insertBefore(e.table().node()),s.each(function(t){t=e.column.index("fromVisible",t),i[t].minWidth=this.offsetWidth||0}),t.remove()}},_setColumnVis:function(t,e){var i=this.s.dt,n=e?"":"none";u(i.column(t).header()).css("display",n),u(i.column(t).footer()).css("display",n),i.column(t).nodes().to$().css("display",n),u.isEmptyObject(l)||i.cells(null,t).indexes().each(function(t){a(i,t.row,t.column)})},_tabIndexes:function(){var t=this.s.dt,e=t.cells({page:"current"}).nodes().to$(),i=t.settings()[0],n=this.c.details.target;e.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),"td:first-child, th:first-child"===(e="number"==typeof n?":eq("+n+")":n)&&(e=">td:first-child, >th:first-child"),u(e,t.rows({page:"current"}).nodes()).attr("tabIndex",i.iTabIndex).data("dtr-keyboard",1)}}),r.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],r.display={childRow:function(t,e,i){return e?u(t.node()).hasClass("parent")?(t.child(i(),"child").show(),!0):void 0:t.child.isShown()?(t.child(!1),u(t.node()).removeClass("parent"),!1):(t.child(i(),"child").show(),u(t.node()).addClass("parent"),!0)},childRowImmediate:function(t,e,i){return!e&&t.child.isShown()||!t.responsive.hasHidden()?(t.child(!1),u(t.node()).removeClass("parent"),!1):(t.child(i(),"child").show(),u(t.node()).addClass("parent"),!0)},modal:function(s){return function(t,e,i){if(e)u("div.dtr-modal-content").empty().append(i());else{var n=function(){r.remove(),u(o).off("keypress.dtr")},r=u('<div class="dtr-modal"/>').append(u('<div class="dtr-modal-display"/>').append(u('<div class="dtr-modal-content"/>').append(i())).append(u('<div class="dtr-modal-close">&times;</div>').click(function(){n()}))).append(u('<div class="dtr-modal-background"/>').click(function(){n()})).appendTo("body");u(o).on("keyup.dtr",function(t){27===t.keyCode&&(t.stopPropagation(),n())})}s&&s.header&&u("div.dtr-modal-content").prepend("<h2>"+s.header(t)+"</h2>")}}};var l={};r.renderer={listHiddenNodes:function(){return function(i,t,e){var n=u('<ul data-dtr-index="'+t+'" class="dtr-details"/>'),r=!1;return u.each(e,function(t,e){e.hidden&&(u('<li data-dtr-index="'+e.columnIndex+'" data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><span class="dtr-title">'+e.title+"</span> </li>").append(u('<span class="dtr-data"/>').append(function(t,e,i){var n=e+"-"+i;if(l[n])return l[n];var r=[];for(t=t.cell(e,i).node().childNodes,e=0,i=t.length;e<i;e++)r.push(t[e]);return l[n]=r}(i,e.rowIndex,e.columnIndex))).appendTo(n),r=!0)}),!!r&&n}},listHidden:function(){return function(t,e,i){return!!(t=u.map(i,function(t){return t.hidden?'<li data-dtr-index="'+t.columnIndex+'" data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'"><span class="dtr-title">'+t.title+'</span> <span class="dtr-data">'+t.data+"</span></li>":""}).join(""))&&u('<ul data-dtr-index="'+e+'" class="dtr-details"/>').append(t)}},tableAll:function(n){return n=u.extend({tableClass:""},n),function(t,e,i){return t=u.map(i,function(t){return'<tr data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'"><td>'+t.title+":</td> <td>"+t.data+"</td></tr>"}).join(""),u('<table class="'+n.tableClass+' dtr-details" width="100%"/>').append(t)}}},r.defaults={breakpoints:r.breakpoints,auto:!0,details:{display:r.display.childRow,renderer:r.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var t=u.fn.dataTable.Api;return t.register("responsive()",function(){return this}),t.register("responsive.index()",function(t){return{column:(t=u(t)).data("dtr-index"),row:t.parent().data("dtr-index")}}),t.register("responsive.rebuild()",function(){return this.iterator("table",function(t){t._responsive&&t._responsive._classLogic()})}),t.register("responsive.recalc()",function(){return this.iterator("table",function(t){t._responsive&&(t._responsive._resizeAuto(),t._responsive._resize())})}),t.register("responsive.hasHidden()",function(){var t=this.context[0];return!!t._responsive&&-1!==u.inArray(!1,t._responsive.s.current)}),t.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",function(){return this.iterator("column",function(t,e){return!!t._responsive&&t._responsive.s.current[e]},1)}),r.version="2.2.1",u.fn.dataTable.Responsive=r,u.fn.DataTable.Responsive=r,u(o).on("preInit.dt.dtr",function(t,e){if("dt"===t.namespace&&(u(e.nTable).hasClass("responsive")||u(e.nTable).hasClass("dt-responsive")||e.oInit.responsive||n.defaults.responsive)){var i=e.oInit.responsive;!1!==i&&new r(e,u.isPlainObject(i)?i:{})}}),r}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net-bs","datatables.net-responsive"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net-bs")(t,e).$),e.fn.dataTable.Responsive||require("datatables.net-responsive")(t,e),i(e,t.document)}:i(jQuery,window,document)}(function(s){var t=s.fn.dataTable,e=t.Responsive.display,o=e.modal,a=s('<div class="modal fade dtr-bs-modal" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"/></div></div></div>');return e.modal=function(r){return function(t,e,i){if(s.fn.modal){if(!e){if(r&&r.header){var n=(e=a.find("div.modal-header")).find("button").detach();e.empty().append('<h4 class="modal-title">'+r.header(t)+"</h4>").prepend(n)}a.find("div.modal-body").empty().append(i()),a.appendTo("body").modal()}}else o(t,e,i)}},t.Responsive}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(r,t,e,h){var s=r.fn.dataTable,o=function(t,e){if(!s.versionCheck||!s.versionCheck("1.10.8"))throw"RowGroup requires DataTables 1.10.8 or newer";this.c=r.extend(!0,{},s.defaults.rowGroup,o.defaults,e),this.s={dt:new s.Api(t),dataFn:s.ext.oApi._fnGetObjectDataFn(this.c.dataSrc)},this.dom={};var i=this.s.dt.settings()[0],n=i.rowGroup;if(n)return n;(i.rowGroup=this)._constructor()};return r.extend(o.prototype,{dataSrc:function(t){if(t===h)return this.c.dataSrc;var e=this.s.dt;return this.c.dataSrc=t,this.s.dataFn=s.ext.oApi._fnGetObjectDataFn(this.c.dataSrc),r(e.table().node()).triggerHandler("rowgroup-datasrc.dt",[e,t]),this},disable:function(){return this.c.enable=!1,this},enable:function(t){return!1===t?this.disable():(this.c.enable=!0,this)},_constructor:function(){var t=this,e=this.s.dt;e.on("draw.dtrg",function(){t.c.enable&&t._draw()}),e.on("column-visibility.dt.dtrg responsive-resize.dt.dtrg",function(){t._adjustColspan()}),e.on("destroy",function(){e.off(".dtrg")})},_adjustColspan:function(){r("tr."+this.c.className,this.s.dt.table().body()).attr("colspan",this._colspan())},_colspan:function(){return this.s.dt.columns().visible().reduce(function(t,e){return t+e},0)},_draw:function(){var e,t,i=this,n=this.s.dt,r=[];n.rows({page:"current"}).every(function(){var t=this.data();t=i.s.dataFn(t);e!==h&&t===e||(r.push([]),e=t),r[r.length-1].push(this.index())});for(var s=0,o=r.length;s<o;s++){var a=r[s],l=n.row(a[0]),d=this.s.dataFn(l.data());this.c.startRender&&(t=this.c.startRender.call(this,n.rows(a),d),this._rowWrap(t,this.c.startClassName).insertBefore(l.node())),this.c.endRender&&(t=this.c.endRender.call(this,n.rows(a),d),this._rowWrap(t,this.c.endClassName).insertAfter(n.row(a[a.length-1]).node()))}},_rowWrap:function(t,e){return("object"==typeof t&&t.nodeName&&"tr"===t.nodeName.toLowerCase()?r(t):t instanceof r&&t.length&&"tr"===t[0].nodeName.toLowerCase()?t:r("<tr/>").append(r("<td/>").attr("colspan",this._colspan()).append(t))).addClass(this.c.className).addClass(e)}}),o.defaults={className:"group",dataSrc:0,enable:!0,endClassName:"group-end",endRender:null,startClassName:"group-start",startRender:function(t,e){return e}},o.version="1.0.2",r.fn.dataTable.RowGroup=o,r.fn.DataTable.RowGroup=o,s.Api.register("rowGroup()",function(){return this}),s.Api.register("rowGroup().disable()",function(){return this.iterator("table",function(t){t.rowGroup&&t.rowGroup.enable(!1)})}),s.Api.register("rowGroup().enable()",function(e){return this.iterator("table",function(t){t.rowGroup&&t.rowGroup.enable(e===h||e)})}),s.Api.register("rowGroup().dataSrc()",function(e){return e===h?this.context[0].rowGroup.dataSrc():this.iterator("table",function(t){t.rowGroup&&t.rowGroup.dataSrc(e)})}),r(e).on("preInit.dt.dtrg",function(t,e){if("dt"===t.namespace){var i=e.oInit.rowGroup,n=s.defaults.rowGroup;(i||n)&&(n=r.extend({},n,i),!1!==i&&new o(e,n))}}),o}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(b,o,y,t){var r=b.fn.dataTable,s=function(t,e){if(!r.versionCheck||!r.versionCheck("1.10.8"))throw"DataTables RowReorder requires DataTables 1.10.8 or newer";this.c=b.extend(!0,{},r.defaults.rowReorder,s.defaults,e),this.s={bodyTop:null,dt:new r.Api(t),getDataFn:r.ext.oApi._fnGetObjectDataFn(this.c.dataSrc),middles:null,scroll:{},scrollInterval:null,setDataFn:r.ext.oApi._fnSetObjectDataFn(this.c.dataSrc),start:{top:0,left:0,offsetTop:0,offsetLeft:0,nodes:[]},windowHeight:0,documentOuterHeight:0,domCloneOuterHeight:0},this.dom={clone:null,dtScroll:b("div.dataTables_scrollBody",this.s.dt.table().container())};var i=this.s.dt.settings()[0],n=i.rowreorder;if(n)return n;(i.rowreorder=this)._constructor()};b.extend(s.prototype,{_constructor:function(){var n=this,r=this.s.dt,t=b(r.table().node());"static"===t.css("position")&&t.css("position","relative"),b(r.table().container()).on("mousedown.rowReorder touchstart.rowReorder",this.c.selector,function(t){if(n.c.enable){var e=b(this).closest("tr"),i=r.row(e);if(i.any())return n._emitEvent("pre-row-reorder",{node:i.node(),index:i.index()}),n._mouseDown(t,e),!1}}),r.on("destroy.rowReorder",function(){b(r.table().container()).off(".rowReorder"),r.off(".rowReorder")})},_cachePositions:function(){var i=this.s.dt,e=b(i.table().node()).find("thead").outerHeight(),t=b.unique(i.rows({page:"current"}).nodes().toArray()),n=b.map(t,function(t){return b(t).position().top-e});t=b.map(n,function(t,e){return n.length<e-1?(t+n[e+1])/2:(t+t+b(i.row(":last-child").node()).outerHeight())/2});this.s.middles=t,this.s.bodyTop=b(i.table().body()).offset().top,this.s.windowHeight=b(o).height(),this.s.documentOuterHeight=b(y).outerHeight()},_clone:function(t){var e=b(this.s.dt.table().node().cloneNode(!1)).addClass("dt-rowReorder-float").append("<tbody/>").append(t.clone(!1)),i=t.outerWidth(),n=t.outerHeight(),r=t.children().map(function(){return b(this).width()});e.width(i).height(n).find("tr").children().each(function(t){this.style.width=r[t]+"px"}),e.appendTo("body"),this.dom.clone=e,this.s.domCloneOuterHeight=e.outerHeight()},_clonePosition:function(t){var e=this.s.start,i=this._eventToPage(t,"Y")-e.top,n=(t=this._eventToPage(t,"X")-e.left,this.c.snapX);i+=e.offsetTop,e=!0===n?e.offsetLeft:"number"==typeof n?e.offsetLeft+n:t+e.offsetLeft;i<0?i=0:i+this.s.domCloneOuterHeight>this.s.documentOuterHeight&&(i=this.s.documentOuterHeight-this.s.domCloneOuterHeight),this.dom.clone.css({top:i,left:e})},_emitEvent:function(e,i){this.s.dt.iterator("table",function(t){b(t.nTable).triggerHandler(e+".dt",i)})},_eventToPage:function(t,e){return-1!==t.type.indexOf("touch")?t.originalEvent.touches[0]["page"+e]:t["page"+e]},_mouseDown:function(t,e){var i=this,n=this.s.dt,r=this.s.start,s=e.offset();r.top=this._eventToPage(t,"Y"),r.left=this._eventToPage(t,"X"),r.offsetTop=s.top,r.offsetLeft=s.left,r.nodes=b.unique(n.rows({page:"current"}).nodes().toArray()),this._cachePositions(),this._clone(e),this._clonePosition(t),(this.dom.target=e).addClass("dt-rowReorder-moving"),b(y).on("mouseup.rowReorder touchend.rowReorder",function(t){i._mouseUp(t)}).on("mousemove.rowReorder touchmove.rowReorder",function(t){i._mouseMove(t)}),b(o).width()===b(y).width()&&b(y.body).addClass("dt-rowReorder-noOverflow"),n=this.dom.dtScroll,this.s.scroll={windowHeight:b(o).height(),windowWidth:b(o).width(),dtTop:n.length?n.offset().top:null,dtLeft:n.length?n.offset().left:null,dtHeight:n.length?n.outerHeight():null,dtWidth:n.length?n.outerWidth():null}},_mouseMove:function(t){this._clonePosition(t);for(var e=this._eventToPage(t,"Y")-this.s.bodyTop,i=this.s.middles,n=null,r=this.s.dt,s=r.table().body(),o=0,a=i.length;o<a;o++)if(e<i[o]){n=o;break}null===n&&(n=i.length),null!==this.s.lastInsert&&this.s.lastInsert===n||(0===n?this.dom.target.prependTo(s):(e=b.unique(r.rows({page:"current"}).nodes().toArray()),n>this.s.lastInsert?this.dom.target.insertAfter(e[n-1]):this.dom.target.insertBefore(e[n])),this._cachePositions(),this.s.lastInsert=n),this._shiftScroll(t)},_mouseUp:function(){var e,i,n=this,r=this.s.dt,s=this.c.dataSrc;this.dom.clone.remove(),this.dom.clone=null,this.dom.target.removeClass("dt-rowReorder-moving"),b(y).off(".rowReorder"),b(y.body).removeClass("dt-rowReorder-noOverflow"),clearInterval(this.s.scrollInterval),this.s.scrollInterval=null;var t=this.s.start.nodes,o=b.unique(r.rows({page:"current"}).nodes().toArray()),a={},l=[],d=[],h=this.s.getDataFn,u=this.s.setDataFn;for(e=0,i=t.length;e<i;e++)if(t[e]!==o[e]){var c=r.row(o[e]).id(),p=r.row(o[e]).data(),f=r.row(t[e]).data();c&&(a[c]=h(f)),l.push({node:o[e],oldData:h(p),newData:h(f),newPosition:e,oldPosition:b.inArray(o[e],t)}),d.push(o[e])}var m=[l,{dataSrc:s,nodes:d,values:a,triggerRow:r.row(this.dom.target)}];this._emitEvent("row-reorder",m);var g=function(){if(n.c.update){for(e=0,i=l.length;e<i;e++){var t=r.row(l[e].node).data();u(t,l[e].newData),r.columns().every(function(){this.dataSrc()===s&&r.cell(l[e].node,this.index()).invalidate("data")})}n._emitEvent("row-reordered",m),r.draw(!1)}};this.c.editor?(this.c.enable=!1,this.c.editor.edit(d,!1,b.extend({submit:"changed"},this.c.formOptions)).multiSet(s,a).one("submitUnsuccessful.rowReorder",function(){r.draw(!1)}).one("submitSuccess.rowReorder",function(){g()}).one("submitComplete",function(){n.c.enable=!0,n.c.editor.off(".rowReorder")}).submit()):g()},_shiftScroll:function(t){var e,i,n=this,r=this.s.scroll,s=!1,o=t.pageY-y.body.scrollTop;o<65?e=-5:o>r.windowHeight-65&&(e=5),null!==r.dtTop&&t.pageY<r.dtTop+65?i=-5:null!==r.dtTop&&t.pageY>r.dtTop+r.dtHeight-65&&(i=5),e||i?(r.windowVert=e,r.dtVert=i,s=!0):this.s.scrollInterval&&(clearInterval(this.s.scrollInterval),this.s.scrollInterval=null),!this.s.scrollInterval&&s&&(this.s.scrollInterval=setInterval(function(){if(r.windowVert&&(y.body.scrollTop=y.body.scrollTop+r.windowVert),r.dtVert){var t=n.dom.dtScroll[0];r.dtVert&&(t.scrollTop=t.scrollTop+r.dtVert)}},20))}}),s.defaults={dataSrc:0,editor:null,enable:!0,formOptions:{},selector:"td:first-child",snapX:!1,update:!0};var e=b.fn.dataTable.Api;return e.register("rowReorder()",function(){return this}),e.register("rowReorder.enable()",function(e){return e===t&&(e=!0),this.iterator("table",function(t){t.rowreorder&&(t.rowreorder.c.enable=e)})}),e.register("rowReorder.disable()",function(){return this.iterator("table",function(t){t.rowreorder&&(t.rowreorder.c.enable=!1)})}),s.version="1.2.3",b.fn.dataTable.RowReorder=s,b.fn.DataTable.RowReorder=s,b(y).on("init.dt.dtr",function(t,e){if("dt"===t.namespace){var i=e.oInit.rowReorder,n=r.defaults.rowReorder;(i||n)&&(n=b.extend({},i,n),!1!==i&&new s(e,n))}}),s}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(h,r,i,s){var o=h.fn.dataTable,a=function(t,e){this instanceof a?(e===s&&(e={}),this.s={dt:h.fn.dataTable.Api(t).settings()[0],tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:!0,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null},topRowFloat:0,scrollDrawDiff:null,loaderVisible:!1,forceReposition:!1},this.s=h.extend(this.s,a.oDefaults,e),this.s.heights.row=this.s.rowHeight,this.dom={force:i.createElement("div"),scroller:null,table:null,loader:null},this.s.dt.oScroller||(this.s.dt.oScroller=this)._fnConstruct()):alert("Scroller warning: Scroller must be initialised with the 'new' keyword.")};h.extend(a.prototype,{fnRowToPixels:function(t,e,i){return t=i?this._domain("virtualToPhysical",t*this.s.heights.row):this.s.baseScrollTop+(t-this.s.baseRowTop)*this.s.heights.row,e||e===s?parseInt(t,10):t},fnPixelsToRow:function(t,e,i){var n=t-this.s.baseScrollTop;t=i?this._domain("physicalToVirtual",t)/this.s.heights.row:n/this.s.heights.row+this.s.baseRowTop;return e||e===s?parseInt(t,10):t},fnScrollToRow:function(t,e){var i=this,n=!1,r=this.fnRowToPixels(t),s=t-(this.s.displayBuffer-1)/2*this.s.viewportRows;s<0&&(s=0),(r>this.s.redrawBottom||r<this.s.redrawTop)&&this.s.dt._iDisplayStart!==s&&(n=!0,r=this.fnRowToPixels(t,!1,!0),this.s.redrawTop<r&&r<this.s.redrawBottom&&(e=!(this.s.forceReposition=!0))),void 0===e||e?(this.s.ani=n,h(this.dom.scroller).animate({scrollTop:r},function(){setTimeout(function(){i.s.ani=!1},25)})):h(this.dom.scroller).scrollTop(r)},fnMeasure:function(t){this.s.autoHeight&&this._fnCalcRowHeight();var e=this.s.heights;e.row&&(e.viewport=h.contains(i,this.dom.scroller)?h(this.dom.scroller).height():this._parseHeight(h(this.dom.scroller).css("height")),e.viewport||(e.viewport=this._parseHeight(h(this.dom.scroller).css("max-height"))),this.s.viewportRows=parseInt(e.viewport/e.row,10)+1,this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer),(t===s||t)&&this.s.dt.oInstance.fnDraw(!1)},fnPageInfo:function(){var t=this.dom.scroller.scrollTop,e=this.s.dt.fnRecordsDisplay(),i=Math.ceil(this.fnPixelsToRow(t+this.s.heights.viewport,!1,this.s.ani));return{start:Math.floor(this.fnPixelsToRow(t,!1,this.s.ani)),end:e<i?e-1:i-1}},_fnConstruct:function(){var i=this;if(this.s.dt.oFeatures.bPaginate){this.dom.force.style.position="relative",this.dom.force.style.top="0px",this.dom.force.style.left="0px",this.dom.force.style.width="1px",this.dom.scroller=h("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0],this.dom.scroller.appendChild(this.dom.force),this.dom.scroller.style.position="relative",this.dom.table=h(">table",this.dom.scroller)[0],this.dom.table.style.position="absolute",this.dom.table.style.top="0px",this.dom.table.style.left="0px",h(this.s.dt.nTableWrapper).addClass("DTS"),this.s.loadingIndicator&&(this.dom.loader=h('<div class="dataTables_processing DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>").css("display","none"),h(this.dom.scroller.parentNode).css("position","relative").append(this.dom.loader)),this.s.heights.row&&"auto"!=this.s.heights.row&&(this.s.autoHeight=!1),this.fnMeasure(!1),this.s.ingnoreScroll=!0,this.s.stateSaveThrottle=this.s.dt.oApi._fnThrottle(function(){i.s.dt.oApi._fnSaveState(i.s.dt)},500),h(this.dom.scroller).on("scroll.DTS",function(){i._fnScroll.call(i)}),h(this.dom.scroller).on("touchstart.DTS",function(){i._fnScroll.call(i)}),this.s.dt.aoDrawCallback.push({fn:function(){i.s.dt.bInitialised&&i._fnDrawCallback.call(i)},sName:"Scroller"}),h(r).on("resize.DTS",function(){i.fnMeasure(!1),i._fnInfo()});var n=!0;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(t,e){n&&i.s.dt.oLoadedState?(e.iScroller=i.s.dt.oLoadedState.iScroller,e.iScrollerTopRow=i.s.dt.oLoadedState.iScrollerTopRow,n=!1):(e.iScroller=i.dom.scroller.scrollTop,e.iScrollerTopRow=i.s.topRowFloat)},"Scroller_State"),this.s.dt.oLoadedState&&(this.s.topRowFloat=this.s.dt.oLoadedState.iScrollerTopRow||0),h(this.s.dt.nTable).one("init.dt",function(){i.fnMeasure()}),this.s.dt.aoDestroyCallback.push({sName:"Scroller",fn:function(){h(r).off("resize.DTS"),h(i.dom.scroller).off("touchstart.DTS scroll.DTS"),h(i.s.dt.nTableWrapper).removeClass("DTS"),h("div.DTS_Loading",i.dom.scroller.parentNode).remove(),h(i.s.dt.nTable).off("init.dt"),i.dom.table.style.position="",i.dom.table.style.top="",i.dom.table.style.left=""}})}else this.s.dt.oApi._fnLog(this.s.dt,0,"Pagination must be enabled for Scroller")},_fnScroll:function(){var t,e=this,i=this.s.heights,n=this.dom.scroller.scrollTop;if(!this.s.skip&&!this.s.ingnoreScroll)if(this.s.dt.bFiltered||this.s.dt.bSorted)this.s.lastScrollTop=0;else{if(this._fnInfo(),clearTimeout(this.s.stateTO),this.s.stateTO=setTimeout(function(){e.s.dt.oApi._fnSaveState(e.s.dt)},250),this.s.forceReposition||n<this.s.redrawTop||n>this.s.redrawBottom){var r=Math.ceil((this.s.displayBuffer-1)/2*this.s.viewportRows);Math.abs(n-this.s.lastScrollTop)>i.viewport||this.s.ani||this.s.forceReposition?(t=parseInt(this._domain("physicalToVirtual",n)/i.row,10)-r,this.s.topRowFloat=this._domain("physicalToVirtual",n)/i.row):(t=this.fnPixelsToRow(n)-r,this.s.topRowFloat=this.fnPixelsToRow(n,!1)),this.s.forceReposition=!1,t<=0?t=0:t+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?(t=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength)<0&&(t=0):0!=t%2&&t++,t!=this.s.dt._iDisplayStart&&(this.s.tableTop=h(this.s.dt.nTable).offset().top,this.s.tableBottom=h(this.s.dt.nTable).height()+this.s.tableTop,i=function(){null===e.s.scrollDrawReq&&(e.s.scrollDrawReq=n),e.s.dt._iDisplayStart=t,e.s.dt.oApi._fnDraw(e.s.dt)},this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(i,this.s.serverWait)):i(),this.dom.loader&&!this.s.loaderVisible)&&(this.dom.loader.css("display","block"),this.s.loaderVisible=!0)}else this.s.topRowFloat=this._domain("physicalToVirtual",n)/i.row;this.s.lastScrollTop=n,this.s.stateSaveThrottle()}},_domain:function(t,e){var i,n=this.s.heights;if(n.virtual===n.scroll)return e;var r=(n.scroll-n.viewport)/2,s=(n.virtual-n.viewport)/2;return i=s/(r*r),"virtualToPhysical"===t?e<s?Math.pow(e/i,.5):(e=2*s-e)<0?n.scroll:2*r-Math.pow(e/i,.5):"physicalToVirtual"===t?e<r?e*e*i:(e=2*r-e)<0?n.virtual:2*s-e*e*i:void 0},_parseHeight:function(t){var e,i=/^([+-]?(?:\d+(?:\.\d+)?|\.\d+))(px|em|rem|vh)$/.exec(t);return null===i?0:(t=parseFloat(i[1]),"px"===(i=i[2])?e=t:"vh"===i?e=t/100*h(r).height():"rem"===i?e=t*parseFloat(h(":root").css("font-size")):"em"===i&&(e=t*parseFloat(h("body").css("font-size"))),e||0)},_fnDrawCallback:function(){var t=this,e=this.s.heights,i=this.dom.scroller.scrollTop,n=h(this.s.dt.nTable).height(),r=this.s.dt._iDisplayStart,s=this.s.dt._iDisplayLength,o=this.s.dt.fnRecordsDisplay();this.s.skip=!0,this._fnScrollForce(),i=0===r?this.s.topRowFloat*e.row:o<=r+s?e.scroll-(o-this.s.topRowFloat)*e.row:this._domain("virtualToPhysical",this.s.topRowFloat*e.row),this.dom.scroller.scrollTop=i,this.s.baseScrollTop=i,this.s.baseRowTop=this.s.topRowFloat;var a=i-(this.s.topRowFloat-r)*e.row;0===r?a=0:o<=r+s&&(a=e.scroll-n),this.dom.table.style.top=a+"px",this.s.tableTop=a,this.s.tableBottom=n+this.s.tableTop,n=(i-this.s.tableTop)*this.s.boundaryScale,this.s.redrawTop=i-n,this.s.redrawBottom=i+n>e.scroll-e.viewport-e.row?e.scroll-e.viewport-e.row:i+n,this.s.skip=!1,this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&void 0!==this.s.dt.oLoadedState.iScroller?((i=!(!this.s.dt.sAjaxSource&&!t.s.dt.ajax||this.s.dt.oFeatures.bServerSide))&&2==this.s.dt.iDraw||!i&&1==this.s.dt.iDraw)&&setTimeout(function(){h(t.dom.scroller).scrollTop(t.s.dt.oLoadedState.iScroller),t.s.redrawTop=t.s.dt.oLoadedState.iScroller-e.viewport/2,setTimeout(function(){t.s.ingnoreScroll=!1},0)},0):t.s.ingnoreScroll=!1,this.s.dt.oFeatures.bInfo&&setTimeout(function(){t._fnInfo.call(t)},0),this.dom.loader&&this.s.loaderVisible&&(this.dom.loader.css("display","none"),this.s.loaderVisible=!1)},_fnScrollForce:function(){var t=this.s.heights;t.virtual=t.row*this.s.dt.fnRecordsDisplay(),t.scroll=t.virtual,1e6<t.scroll&&(t.scroll=1e6),this.dom.force.style.height=t.scroll>this.s.heights.row?t.scroll+"px":this.s.heights.row+"px"},_fnCalcRowHeight:function(){var t=this.s.dt,e=t.nTable,i=e.cloneNode(!1),n=h("<tbody/>").appendTo(i),r=h('<div class="'+t.oClasses.sWrapper+' DTS"><div class="'+t.oClasses.sScrollWrapper+'"><div class="'+t.oClasses.sScrollBody+'"></div></div></div>');for(h("tbody tr:lt(4)",e).clone().appendTo(n);h("tr",n).length<3;)n.append("<tr><td>&nbsp;</td></tr>");h("div."+t.oClasses.sScrollBody,r).append(i),t=this.s.dt.nHolding||e.parentNode,h(t).is(":visible")||(t="body"),r.appendTo(t),this.s.heights.row=h("tr",n).eq(1).outerHeight(),r.remove()},_fnInfo:function(){if(this.s.dt.oFeatures.bInfo){var t=this.s.dt,e=t.oLanguage,i=this.dom.scroller.scrollTop,n=Math.floor(this.fnPixelsToRow(i,!1,this.s.ani)+1),r=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),o=(i=s<(i=Math.ceil(this.fnPixelsToRow(i+this.s.heights.viewport,!1,this.s.ani)))?s:i,t.fnFormatNumber(n)),a=t.fnFormatNumber(i),l=t.fnFormatNumber(r),d=t.fnFormatNumber(s);o=0===t.fnRecordsDisplay()&&t.fnRecordsDisplay()==t.fnRecordsTotal()?e.sInfoEmpty+e.sInfoPostFix:0===t.fnRecordsDisplay()?e.sInfoEmpty+" "+e.sInfoFiltered.replace("_MAX_",l)+e.sInfoPostFix:t.fnRecordsDisplay()==t.fnRecordsTotal()?e.sInfo.replace("_START_",o).replace("_END_",a).replace("_MAX_",l).replace("_TOTAL_",d)+e.sInfoPostFix:e.sInfo.replace("_START_",o).replace("_END_",a).replace("_MAX_",l).replace("_TOTAL_",d)+" "+e.sInfoFiltered.replace("_MAX_",t.fnFormatNumber(t.fnRecordsTotal()))+e.sInfoPostFix;if((e=e.fnInfoCallback)&&(o=e.call(t.oInstance,t,n,i,r,s,o)),void 0!==(n=t.aanFeatures.i))for(r=0,s=n.length;r<s;r++)h(n[r]).html(o);h(t.nTable).triggerHandler("info.dt")}}}),a.defaults={trace:!1,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:.5,loadingIndicator:!1},a.oDefaults=a.defaults,a.version="1.4.4","function"==typeof h.fn.dataTable&&"function"==typeof h.fn.dataTableExt.fnVersionCheck&&h.fn.dataTableExt.fnVersionCheck("1.10.0")?h.fn.dataTableExt.aoFeatures.push({fnInit:function(t){var e=t.oInit;new a(t,e.scroller||e.oScroller||{})},cFeature:"S",sFeature:"Scroller"}):alert("Warning: Scroller requires DataTables 1.10.0 or greater - www.datatables.net/download"),h(i).on("preInit.dt.dtscroller",function(t,e){if("dt"===t.namespace){var i=e.oInit.scroller,n=o.defaults.scroller;(i||n)&&(n=h.extend({},i,n),!1!==i&&new a(e,n))}}),h.fn.dataTable.Scroller=a,h.fn.DataTable.Scroller=a;var t=h.fn.dataTable.Api;return t.register("scroller()",function(){return this}),t.register("scroller().rowToPixels()",function(t,e,i){var n=this.context;if(n.length&&n[0].oScroller)return n[0].oScroller.fnRowToPixels(t,e,i)}),t.register("scroller().pixelsToRow()",function(t,e,i){var n=this.context;if(n.length&&n[0].oScroller)return n[0].oScroller.fnPixelsToRow(t,e,i)}),t.register("scroller().scrollToRow()",function(e,i){return this.iterator("table",function(t){t.oScroller&&t.oScroller.fnScrollToRow(e,i)}),this}),t.register("row().scrollTo()",function(n){var r=this;return this.iterator("row",function(t,e){if(t.oScroller){var i=r.rows({order:"applied",search:"applied"}).indexes().indexOf(e);t.oScroller.fnScrollToRow(i,n)}}),this}),t.register("scroller.measure()",function(e){return this.iterator("table",function(t){t.oScroller&&t.oScroller.fnMeasure(e)}),this}),t.register("scroller.page()",function(){var t=this.context;if(t.length&&t[0].oScroller)return t[0].oScroller.fnPageInfo()}),a}),function(){var t,o,a;o=!1,a=/xyz/.test(function(){window.postMessage("xyz")})?/\b_super\b/:/.*/,(t=function(){}).extend=function t(e){function i(){!o&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;o=!0;var n=new this;for(var s in o=!1,e)n[s]="function"==typeof e[s]&&"function"==typeof r[s]&&a.test(e[s])?function(i,n){return function(){var t=this._super;this._super=r[i];var e=n.apply(this,arguments);return this._super=t,e}}(s,e[s]):e[s];return((i.prototype=n).constructor=i).extend=t,i},function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}t.prototype=window.Event.prototype,window.CustomEvent=t}(),function(){for(var s=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),n=Math.max(0,16-(i-s)),r=window.setTimeout(function(){t(i+n)},n);return s=i+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var m=function(t){var e,i,n,r;for(i=1;i<arguments.length;i++)for(n in e=arguments[i])e.hasOwnProperty(n)&&(!e[n]||("object"!=typeof(r=e[n])||r.nodeType||null!==r&&r===r.window||r.constructor&&!Object.prototype.hasOwnProperty.call(r.constructor.prototype,"isPrototypeOf"))?t[n]=e[n]:(t.hasOwnProperty(n)||(t[n]={}),m(t[n],e[n])));return t},g=function(t,e){var i;if(t&&"object"==typeof t)if(Array.isArray(t)||"number"==typeof t.length&&0<t.length&&t.length-1 in t){for(i=0;i<t.length;i++)if(!1===e(i,t[i]))return}else if(Object.keys){var n=Object.keys(t);for(i=0;i<n.length;i++)if(!1===e(n[i],t[n[i]]))return}else for(i in t)if(t.hasOwnProperty(i)&&!1===e(i,t[i]))return},r=function(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)},b=function(t,e){if(!(t instanceof Element))throw new Error("element should be an instance of Element");e=m({},b.defaults.options,e||{}),this.element=t,this.options=e,this.init()};b.prototype={constructor:b,init:function(){var i=this;this.ready=!1;var t=b.defaults.themes[this.options.theme||b.defaults.theme];if(!t)throw"Unknown theme "+(this.options.theme||b.defaults.theme);this.schema=this.options.schema,this.theme=new t,this.template=this.options.template,this.refs=this.options.refs||{},this.uuid=0,this.__data={};var e=b.defaults.iconlibs[this.options.iconlib||b.defaults.iconlib];e&&(this.iconlib=new e),this.root_container=this.theme.getContainer(),this.element.appendChild(this.root_container),this.translate=this.options.translate||b.defaults.translate,this._loadExternalRefs(this.schema,function(){i._getDefinitions(i.schema);var t={};i.options.custom_validators&&(t.custom_validators=i.options.custom_validators),i.validator=new b.Validator(i,null,t);var e=i.getEditorClass(i.schema);i.root=i.createEditor(e,{jsoneditor:i,schema:i.schema,required:!0,container:i.root_container}),i.root.preBuild(),i.root.build(),i.root.postBuild(),i.options.startval&&i.root.setValue(i.options.startval),i.validation_results=i.validator.validate(i.root.getValue()),i.root.showValidationErrors(i.validation_results),i.ready=!0,window.requestAnimationFrame(function(){i.ready&&(i.validation_results=i.validator.validate(i.root.getValue()),i.root.showValidationErrors(i.validation_results),i.trigger("ready"),i.trigger("change"))})})},getValue:function(){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before getting the value";return this.root.getValue()},setValue:function(t){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before setting the value";return this.root.setValue(t),this},validate:function(t){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before validating";return 1===arguments.length?this.validator.validate(t):this.validation_results},destroy:function(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.destroyed=!0)},on:function(t,e){return this.callbacks=this.callbacks||{},this.callbacks[t]=this.callbacks[t]||[],this.callbacks[t].push(e),this},off:function(t,e){if(t&&e){this.callbacks=this.callbacks||{},this.callbacks[t]=this.callbacks[t]||[];for(var i=[],n=0;n<this.callbacks[t].length;n++)this.callbacks[t][n]!==e&&i.push(this.callbacks[t][n]);this.callbacks[t]=i}else t?(this.callbacks=this.callbacks||{},this.callbacks[t]=[]):this.callbacks={};return this},trigger:function(t){if(this.callbacks&&this.callbacks[t]&&this.callbacks[t].length)for(var e=0;e<this.callbacks[t].length;e++)this.callbacks[t][e]();return this},setOption:function(t,e){if("show_errors"!==t)throw"Option "+t+" must be set during instantiation and cannot be changed later";return this.options.show_errors=e,this.onChange(),this},getEditorClass:function(n){var r;if(n=this.expandSchema(n),g(b.defaults.resolvers,function(t,e){var i=e(n);if(i&&b.defaults.editors[i])return r=i,!1}),!r)throw"Unknown editor for schema "+JSON.stringify(n);if(!b.defaults.editors[r])throw"Unknown editor "+r;return b.defaults.editors[r]},createEditor:function(t,e){return new t(e=m({},t.options||{},e))},onChange:function(){if(this.ready&&!this.firing_change){this.firing_change=!0;var t=this;return window.requestAnimationFrame(function(){t.firing_change=!1,t.ready&&(t.validation_results=t.validator.validate(t.root.getValue()),"never"!==t.options.show_errors?t.root.showValidationErrors(t.validation_results):t.root.showValidationErrors([]),t.trigger("change"))}),this}},compileTemplate:function(t,e){var i;if("string"==typeof(e=e||b.defaults.template)){if(!b.defaults.templates[e])throw"Unknown template engine "+e;if(!(i=b.defaults.templates[e]()))throw"Template engine "+e+" missing required library."}else i=e;if(!i)throw"No template engine set";if(!i.compile)throw"Invalid template engine set";return i.compile(t)},_data:function(t,e,i){if(3!==arguments.length)return t.hasAttribute("data-jsoneditor-"+e)?this.__data[t.getAttribute("data-jsoneditor-"+e)]:null;var n;t.hasAttribute("data-jsoneditor-"+e)?n=t.getAttribute("data-jsoneditor-"+e):(n=this.uuid++,t.setAttribute("data-jsoneditor-"+e,n)),this.__data[n]=i},registerEditor:function(t){return this.editors=this.editors||{},this.editors[t.path]=t,this},unregisterEditor:function(t){return this.editors=this.editors||{},this.editors[t.path]=null,this},getEditor:function(t){if(this.editors)return this.editors[t]},watch:function(t,e){return this.watchlist=this.watchlist||{},this.watchlist[t]=this.watchlist[t]||[],this.watchlist[t].push(e),this},unwatch:function(t,e){if(!this.watchlist||!this.watchlist[t])return this;if(!e)return this.watchlist[t]=null,this;for(var i=[],n=0;n<this.watchlist[t].length;n++)this.watchlist[t][n]!==e&&i.push(this.watchlist[t][n]);return this.watchlist[t]=i.length?i:null,this},notifyWatchers:function(t){if(!this.watchlist||!this.watchlist[t])return this;for(var e=0;e<this.watchlist[t].length;e++)this.watchlist[t][e]()},isEnabled:function(){return!this.root||this.root.isEnabled()},enable:function(){this.root.enable()},disable:function(){this.root.disable()},_getDefinitions:function(t,e){if(e=e||"#/definitions/",t.definitions)for(var i in t.definitions)t.definitions.hasOwnProperty(i)&&(this.refs[e+i]=t.definitions[i],t.definitions[i].definitions&&this._getDefinitions(t.definitions[i],e+i+"/definitions/"))},_getExternalRefs:function(t){var i={},e=function(t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=!0)};for(var n in t.$ref&&"object"!=typeof t.$ref&&"#"!==t.$ref.substr(0,1)&&!this.refs[t.$ref]&&(i[t.$ref]=!0),t)if(t.hasOwnProperty(n))if(t[n]&&"object"==typeof t[n]&&Array.isArray(t[n]))for(var r=0;r<t[n].length;r++)"object"==typeof t[n][r]&&e(this._getExternalRefs(t[n][r]));else t[n]&&"object"==typeof t[n]&&e(this._getExternalRefs(t[n]));return i},_loadExternalRefs:function(t,n){var r=this,e=this._getExternalRefs(t),s=0,o=0,a=!1;g(e,function(e){if(!r.refs[e]){if(!r.options.ajax)throw"Must set ajax option to true to load external ref "+e;r.refs[e]="loading",o++;var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){if(4==i.readyState){if(200!==i.status)throw window.console.log(i),"Failed to fetch ref via ajax- "+e;var t;try{t=JSON.parse(i.responseText)}catch(t){throw window.console.log(t),"Failed to parse external ref "+e}if(!t||"object"!=typeof t)throw"External ref does not contain a valid schema - "+e;r.refs[e]=t,r._loadExternalRefs(t,function(){o<=++s&&!a&&(a=!0,n())})}},i.send()}}),o||n()},expandRefs:function(t){for(t=m({},t);t.$ref;){var e=t.$ref;delete t.$ref,this.refs[e]||(e=decodeURIComponent(e)),t=this.extendSchemas(t,this.refs[e])}return t},expandSchema:function(i){var t,n=this,e=m({},i);if("object"==typeof i.type&&(Array.isArray(i.type)?g(i.type,function(t,e){"object"==typeof e&&(i.type[t]=n.expandSchema(e))}):i.type=n.expandSchema(i.type)),"object"==typeof i.disallow&&(Array.isArray(i.disallow)?g(i.disallow,function(t,e){"object"==typeof e&&(i.disallow[t]=n.expandSchema(e))}):i.disallow=n.expandSchema(i.disallow)),i.anyOf&&g(i.anyOf,function(t,e){i.anyOf[t]=n.expandSchema(e)}),i.dependencies&&g(i.dependencies,function(t,e){"object"!=typeof e||Array.isArray(e)||(i.dependencies[t]=n.expandSchema(e))}),i.not&&(i.not=this.expandSchema(i.not)),i.allOf){for(t=0;t<i.allOf.length;t++)e=this.extendSchemas(e,this.expandSchema(i.allOf[t]));delete e.allOf}if(i.extends){if(Array.isArray(i.extends))for(t=0;t<i.extends.length;t++)e=this.extendSchemas(e,this.expandSchema(i.extends[t]));else e=this.extendSchemas(e,this.expandSchema(i.extends));delete e.extends}if(i.oneOf){var r=m({},e);for(delete r.oneOf,t=0;t<i.oneOf.length;t++)e.oneOf[t]=this.extendSchemas(this.expandSchema(i.oneOf[t]),r)}return this.expandRefs(e)},extendSchemas:function(i,n){i=m({},i),n=m({},n);var r=this,s={};return g(i,function(e,t){void 0!==n[e]?"required"!==e&&"defaultProperties"!==e||"object"!=typeof t||!Array.isArray(t)?"type"!==e||"string"!=typeof t&&!Array.isArray(t)?"object"==typeof t&&Array.isArray(t)?s[e]=t.filter(function(t){return-1!==n[e].indexOf(t)}):s[e]="object"==typeof t&&null!==t?r.extendSchemas(t,n[e]):t:("string"==typeof t&&(t=[t]),"string"==typeof n.type&&(n.type=[n.type]),n.type&&n.type.length?s.type=t.filter(function(t){return-1!==n.type.indexOf(t)}):s.type=t,1===s.type.length&&"string"==typeof s.type[0]?s.type=s.type[0]:0===s.type.length&&delete s.type):s[e]=t.concat(n[e]).reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[]):s[e]=t}),g(n,function(t,e){void 0===i[t]&&(s[t]=e)}),s}},b.defaults={themes:{},templates:{},iconlibs:{},editors:{},languages:{},resolvers:[],custom_validators:[]},b.Validator=t.extend({init:function(t,e,i){this.jsoneditor=t,this.schema=e||this.jsoneditor.schema,this.options=i||{},this.translate=this.jsoneditor.translate||b.defaults.translate},validate:function(t){return this._validateSchema(this.schema,t)},_validateSchema:function(i,n,r){var t,e,s,o=this,a=[],l=JSON.stringify(n);if(r=r||"root",(i=m({},this.jsoneditor.expandRefs(i))).required&&!0===i.required){if(void 0===n)return a.push({path:r,property:"required",message:this.translate("error_notset")}),a}else if(void 0===n){if(!this.jsoneditor.options.required_by_default)return a;a.push({path:r,property:"required",message:this.translate("error_notset")})}if(i.enum){for(t=!1,e=0;e<i.enum.length;e++)l===JSON.stringify(i.enum[e])&&(t=!0);t||a.push({path:r,property:"enum",message:this.translate("error_enum")})}if(i.extends)for(e=0;e<i.extends.length;e++)a=a.concat(this._validateSchema(i.extends[e],n,r));if(i.allOf)for(e=0;e<i.allOf.length;e++)a=a.concat(this._validateSchema(i.allOf[e],n,r));if(i.anyOf){for(t=!1,e=0;e<i.anyOf.length;e++)if(!this._validateSchema(i.anyOf[e],n,r).length){t=!0;break}t||a.push({path:r,property:"anyOf",message:this.translate("error_anyOf")})}if(i.oneOf){var d=[];for(e=t=0;e<i.oneOf.length;e++){var h=this._validateSchema(i.oneOf[e],n,r);for(h.length||t++,s=0;s<h.length;s++)h[s].path=r+".oneOf["+e+"]"+h[s].path.substr(r.length);d=d.concat(h)}1!==t&&(a.push({path:r,property:"oneOf",message:this.translate("error_oneOf",[t])}),a=a.concat(d))}if(i.not&&(this._validateSchema(i.not,n,r).length||a.push({path:r,property:"not",message:this.translate("error_not")})),i.type)if(Array.isArray(i.type)){for(t=!1,e=0;e<i.type.length;e++)if(this._checkType(i.type[e],n)){t=!0;break}t||a.push({path:r,property:"type",message:this.translate("error_type_union")})}else this._checkType(i.type,n)||a.push({path:r,property:"type",message:this.translate("error_type",[i.type])});if(i.disallow)if(Array.isArray(i.disallow)){for(t=!0,e=0;e<i.disallow.length;e++)if(this._checkType(i.disallow[e],n)){t=!1;break}t||a.push({path:r,property:"disallow",message:this.translate("error_disallow_union")})}else this._checkType(i.disallow,n)&&a.push({path:r,property:"disallow",message:this.translate("error_disallow",[i.disallow])});if("number"==typeof n){if(i.multipleOf||i.divisibleBy){var u=i.multipleOf||i.divisibleBy;t=n/u===Math.floor(n/u),window.math?t=window.math.mod(window.math.bignumber(n),window.math.bignumber(u)).equals(0):window.Decimal&&(t=new window.Decimal(n).mod(new window.Decimal(u)).equals(0)),t||a.push({path:r,property:i.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[u])})}i.hasOwnProperty("maximum")&&(t=i.exclusiveMaximum?n<i.maximum:n<=i.maximum,window.math?t=window.math[i.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(n),window.math.bignumber(i.maximum)):window.Decimal&&(t=new window.Decimal(n)[i.exclusiveMaximum?"lt":"lte"](new window.Decimal(i.maximum))),t||a.push({path:r,property:"maximum",message:this.translate(i.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[i.maximum])})),i.hasOwnProperty("minimum")&&(t=i.exclusiveMinimum?n>i.minimum:n>=i.minimum,window.math?t=window.math[i.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(n),window.math.bignumber(i.minimum)):window.Decimal&&(t=new window.Decimal(n)[i.exclusiveMinimum?"gt":"gte"](new window.Decimal(i.minimum))),t||a.push({path:r,property:"minimum",message:this.translate(i.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[i.minimum])}))}else if("string"==typeof n)i.maxLength&&(n+"").length>i.maxLength&&a.push({path:r,property:"maxLength",message:this.translate("error_maxLength",[i.maxLength])}),i.minLength&&(n+"").length<i.minLength&&a.push({path:r,property:"minLength",message:this.translate(1===i.minLength?"error_notempty":"error_minLength",[i.minLength])}),i.pattern&&(new RegExp(i.pattern).test(n)||a.push({path:r,property:"pattern",message:this.translate("error_pattern",[i.pattern])}));else if("object"==typeof n&&null!==n&&Array.isArray(n)){if(i.items)if(Array.isArray(i.items))for(e=0;e<n.length;e++)if(i.items[e])a=a.concat(this._validateSchema(i.items[e],n[e],r+"."+e));else{if(!0===i.additionalItems)break;if(!i.additionalItems){if(!1!==i.additionalItems)break;a.push({path:r,property:"additionalItems",message:this.translate("error_additionalItems")});break}a=a.concat(this._validateSchema(i.additionalItems,n[e],r+"."+e))}else for(e=0;e<n.length;e++)a=a.concat(this._validateSchema(i.items,n[e],r+"."+e));if(i.maxItems&&n.length>i.maxItems&&a.push({path:r,property:"maxItems",message:this.translate("error_maxItems",[i.maxItems])}),i.minItems&&n.length<i.minItems&&a.push({path:r,property:"minItems",message:this.translate("error_minItems",[i.minItems])}),i.uniqueItems){var c={};for(e=0;e<n.length;e++){if(c[t=JSON.stringify(n[e])]){a.push({path:r,property:"uniqueItems",message:this.translate("error_uniqueItems")});break}c[t]=!0}}}else if("object"==typeof n&&null!==n){if(i.maxProperties){for(e in t=0,n)n.hasOwnProperty(e)&&t++;t>i.maxProperties&&a.push({path:r,property:"maxProperties",message:this.translate("error_maxProperties",[i.maxProperties])})}if(i.minProperties){for(e in t=0,n)n.hasOwnProperty(e)&&t++;t<i.minProperties&&a.push({path:r,property:"minProperties",message:this.translate("error_minProperties",[i.minProperties])})}if(i.required&&Array.isArray(i.required))for(e=0;e<i.required.length;e++)void 0===n[i.required[e]]&&a.push({path:r,property:"required",message:this.translate("error_required",[i.required[e]])});var p={};if(i.properties)for(e in i.properties)i.properties.hasOwnProperty(e)&&(p[e]=!0,a=a.concat(this._validateSchema(i.properties[e],n[e],r+"."+e)));if(i.patternProperties)for(e in i.patternProperties)if(i.patternProperties.hasOwnProperty(e)){var f=new RegExp(e);for(s in n)n.hasOwnProperty(s)&&f.test(s)&&(p[s]=!0,a=a.concat(this._validateSchema(i.patternProperties[e],n[s],r+"."+s)))}if(void 0!==i.additionalProperties||!this.jsoneditor.options.no_additional_properties||i.oneOf||i.anyOf||(i.additionalProperties=!1),void 0!==i.additionalProperties)for(e in n)if(n.hasOwnProperty(e)&&!p[e]){if(!i.additionalProperties){a.push({path:r,property:"additionalProperties",message:this.translate("error_additional_properties",[e])});break}if(!0===i.additionalProperties)break;a=a.concat(this._validateSchema(i.additionalProperties,n[e],r+"."+e))}if(i.dependencies)for(e in i.dependencies)if(i.dependencies.hasOwnProperty(e)&&void 0!==n[e])if(Array.isArray(i.dependencies[e]))for(s=0;s<i.dependencies[e].length;s++)void 0===n[i.dependencies[e][s]]&&a.push({path:r,property:"dependencies",message:this.translate("error_dependency",[i.dependencies[e][s]])});else a=a.concat(this._validateSchema(i.dependencies[e],n,r))}return g(b.defaults.custom_validators,function(t,e){a=a.concat(e.call(o,i,n,r))}),this.options.custom_validators&&g(this.options.custom_validators,function(t,e){a=a.concat(e.call(o,i,n,r))}),a},_checkType:function(t,e){return"string"==typeof t?"string"===t?"string"==typeof e:"number"===t?"number"==typeof e:"integer"===t?"number"==typeof e&&e===Math.floor(e):"boolean"===t?"boolean"==typeof e:"array"===t?Array.isArray(e):"object"===t?null!==e&&!Array.isArray(e)&&"object"==typeof e:"null"!==t||null===e:!this._validateSchema(t,e).length}}),b.AbstractEditor=t.extend({onChildEditorChange:function(t){this.onChange(!0)},notify:function(){this.path&&this.jsoneditor.notifyWatchers(this.path)},change:function(){this.parent?this.parent.onChildEditorChange(this):this.jsoneditor&&this.jsoneditor.onChange()},onChange:function(t){this.notify(),this.watch_listener&&this.watch_listener(),t&&this.change()},register:function(){this.jsoneditor.registerEditor(this),this.onChange()},unregister:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)},getNumColumns:function(){return 12},init:function(t){this.jsoneditor=t.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.translate=this.jsoneditor.translate||b.defaults.translate,this.original_schema=t.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.options=m({},this.options||{},t.schema.options||{},t),t.path||this.schema.id||(this.schema.id="root"),this.path=t.path||"root",this.formname=t.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.jsoneditor.options.form_name_root&&(this.formname=this.formname.replace(/^root\[/,this.jsoneditor.options.form_name_root+"[")),this.key=this.path.split(".").pop(),this.parent=t.parent,this.link_watchers=[],t.container&&this.setContainer(t.container)},setContainer:function(t){this.container=t,this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&"string"==typeof this.schema.type&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path)},preBuild:function(){},build:function(){},postBuild:function(){this.setupWatchListeners(),this.addLinks(),this.setValue(this.getDefault(),!0),this.updateHeaderText(),this.register(),this.onWatchedFieldChange()},setupWatchListeners:function(){var t,e,i,n,r,s=this;if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=function(){s.refreshWatchedFieldValues()&&s.onWatchedFieldChange()},this.register(),this.schema.hasOwnProperty("watch"))for(var o in this.schema.watch)if(this.schema.watch.hasOwnProperty(o)){if(t=this.schema.watch[o],Array.isArray(t)){if(t.length<2)continue;e=[t[0]].concat(t[1].split("."))}else e=t.split("."),s.theme.closest(s.container,'[data-schemaid="'+e[0]+'"]')||e.unshift("#");if("#"===(i=e.shift())&&(i=s.jsoneditor.schema.id||"root"),!(n=s.theme.closest(s.container,'[data-schemaid="'+i+'"]')))throw"Could not find ancestor node with id "+i;r=n.getAttribute("data-schemapath")+"."+e.join("."),s.jsoneditor.watch(r,s.watch_listener),s.watched[o]=r}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))},addLinks:function(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),this.container.appendChild(this.link_holder),this.schema.links))for(var t=0;t<this.schema.links.length;t++)this.addLink(this.getLink(this.schema.links[t]))},getButton:function(t,e,i){var n="json-editor-btn-"+e;!(e=this.iconlib?this.iconlib.getIcon(e):null)&&i&&(t=i,i=null);var r=this.theme.getButton(t,e,i);return r.className+=" "+n+" ",r},setButtonText:function(t,e,i,n){return!(i=this.iconlib?this.iconlib.getIcon(i):null)&&n&&(e=n,n=null),this.theme.setButtonText(t,e,i,n)},addLink:function(t){this.link_holder&&this.link_holder.appendChild(t)},getLink:function(i){var n,r,t=(i.mediaType||"application/javascript").split("/")[0],s=this.jsoneditor.compileTemplate(i.href,this.template_engine),e=null;if(i.download&&(e=i.download),e&&!0!==e&&(e=this.jsoneditor.compileTemplate(e,this.template_engine)),"image"===t){n=this.theme.getBlockLinkHolder(),(r=document.createElement("a")).setAttribute("target","_blank");var o=document.createElement("img");this.theme.createImageLink(n,r,o),this.link_watchers.push(function(t){var e=s(t);r.setAttribute("href",e),r.setAttribute("title",i.rel||e),o.setAttribute("src",e)})}else if(0<=["audio","video"].indexOf(t)){n=this.theme.getBlockLinkHolder(),(r=this.theme.getBlockLink()).setAttribute("target","_blank");var a=document.createElement(t);a.setAttribute("controls","controls"),this.theme.createMediaLink(n,r,a),this.link_watchers.push(function(t){var e=s(t);r.setAttribute("href",e),r.textContent=i.rel||e,a.setAttribute("src",e)})}else r=n=this.theme.getBlockLink(),n.setAttribute("target","_blank"),n.textContent=i.rel,this.link_watchers.push(function(t){var e=s(t);n.setAttribute("href",e),n.textContent=i.rel||e});return e&&r&&(!0===e?r.setAttribute("download",""):this.link_watchers.push(function(t){r.setAttribute("download",e(t))})),i.class&&(r.className=r.className+" "+i.class),n},refreshWatchedFieldValues:function(){if(this.watched_values){var t,e,i={},n=!1;if(this.watched)for(var r in this.watched)this.watched.hasOwnProperty(r)&&(t=(e=this.jsoneditor.getEditor(this.watched[r]))?e.getValue():null,this.watched_values[r]!==t&&(n=!0),i[r]=t);return i.self=this.getValue(),this.watched_values.self!==i.self&&(n=!0),this.watched_values=i,n}},getWatchedFieldValues:function(){return this.watched_values},updateHeaderText:function(){if(this.header)if(this.header.children.length){for(var t=0;t<this.header.childNodes.length;t++)if(3===this.header.childNodes[t].nodeType){this.header.childNodes[t].nodeValue=this.getHeaderText();break}}else this.header.textContent=this.getHeaderText()},getHeaderText:function(t){return this.header_text?this.header_text:t?this.schema.title:this.getTitle()},onWatchedFieldChange:function(){var t;if(this.header_template){t=m(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()});var e=this.header_template(t);e!==this.header_text&&(this.header_text=e,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){t=this.getWatchedFieldValues();for(var i=0;i<this.link_watchers.length;i++)this.link_watchers[i](t)}},setValue:function(t){this.value=t},getValue:function(){return this.value},refreshValue:function(){},getChildEditors:function(){return!1},destroy:function(){var i=this;this.unregister(this),g(this.watched,function(t,e){i.jsoneditor.unwatch(e,i.watch_listener)}),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null},getDefault:function(){if(this.schema.default)return this.schema.default;if(this.schema.enum)return this.schema.enum[0];var t=this.schema.type||this.schema.oneOf;if(t&&Array.isArray(t)&&(t=t[0]),t&&"object"==typeof t&&(t=t.type),t&&Array.isArray(t)&&(t=t[0]),"string"==typeof t){if("number"===t)return 0;if("boolean"===t)return!1;if("integer"===t)return 0;if("string"===t)return"";if("object"===t)return{};if("array"===t)return[]}return null},getTitle:function(){return this.schema.title||this.key},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},isEnabled:function(){return!this.disabled},isRequired:function(){return"boolean"==typeof this.schema.required?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?-1<this.parent.schema.required.indexOf(this.key):!!this.jsoneditor.options.required_by_default},getDisplayText:function(t){var n=[],r={};g(t,function(t,e){e.title&&(r[e.title]=r[e.title]||0,r[e.title]++),e.description&&(r[e.description]=r[e.description]||0,r[e.description]++),e.format&&(r[e.format]=r[e.format]||0,r[e.format]++),e.type&&(r[e.type]=r[e.type]||0,r[e.type]++)}),g(t,function(t,e){var i;i="string"==typeof e?e:e.title&&r[e.title]<=1?e.title:e.format&&r[e.format]<=1?e.format:e.type&&r[e.type]<=1?e.type:e.description&&r[e.description]<=1?e.descripton:e.title?e.title:e.format?e.format:e.type?e.type:e.description?e.description:JSON.stringify(e).length<50?JSON.stringify(e):"type",n.push(i)});var i={};return g(n,function(t,e){i[e]=i[e]||0,i[e]++,1<r[e]&&(n[t]=e+" "+i[e])}),n},getOption:function(t){try{throw"getOption is deprecated"}catch(t){window.console.error(t)}return this.options[t]},showValidationErrors:function(t){}}),b.defaults.editors.null=b.AbstractEditor.extend({getValue:function(){return null},setValue:function(){this.onChange()},getNumColumns:function(){return 2}}),b.defaults.editors.string=b.AbstractEditor.extend({register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},setValue:function(t,e,i){if((!this.template||i)&&(null==t?t="":"object"==typeof t?t=JSON.stringify(t):"string"!=typeof t&&(t=""+t),t!==this.serialized)){var n=this.sanitize(t);if(this.input.value!==n){this.input.value=n,this.sceditor_instance?this.sceditor_instance.val(n):this.epiceditor?this.epiceditor.importFile(null,n):this.ace_editor&&this.ace_editor.setValue(n);var r=i||this.getValue()!==t;this.refreshValue(),e?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(r)}}},getNumColumns:function(){var t,e=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);return t="textarea"===this.input_type?6:0<=["text","email"].indexOf(this.input_type)?4:2,Math.min(12,Math.max(e,t))},build:function(){var n=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if("textarea"===this.format)this.input_type="textarea",this.input=this.theme.getTextareaInput();else if("range"===this.format){this.input_type="range";var t=this.schema.minimum||0,e=this.schema.maximum||Math.max(100,t+1),i=1;this.schema.multipleOf&&(t%this.schema.multipleOf&&(t=Math.ceil(t/this.schema.multipleOf)*this.schema.multipleOf),e%this.schema.multipleOf&&(e=Math.floor(e/this.schema.multipleOf)*this.schema.multipleOf),i=this.schema.multipleOf),this.input=this.theme.getRangeInput(t,e,i)}else 0<=["actionscript","batchfile","bbcode","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","markdown","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","stylus","svg","twig","vbscript","xml","yaml"].indexOf(this.format)?(this.input_type=this.format,this.source_code=!0,this.input=this.theme.getTextareaInput()):(this.input_type=this.format,this.input=this.theme.getFormInputField(this.input_type));else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);void 0!==this.schema.maxLength&&this.input.setAttribute("maxlength",this.schema.maxLength),void 0!==this.schema.pattern?this.input.setAttribute("pattern",this.schema.pattern):void 0!==this.schema.minLength&&this.input.setAttribute("pattern",".{"+this.schema.minLength+",}"),this.options.compact?this.container.className+=" compact":this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),n.schema.template)this.value=n.value;else{var e=this.value,i=n.sanitize(e);e!==i&&(this.value=i),n.is_dirty=!0,n.refreshValue(),n.onChange(!0)}}),this.options.input_height&&(this.input.style.height=this.options.input_height),this.options.expand_height&&(this.adjust_height=function(t){if(t){var e,i=t.offsetHeight;if(t.offsetHeight<t.scrollHeight)for(e=0;t.offsetHeight<t.scrollHeight+3&&!(100<e);)e++,i++,t.style.height=i+"px";else{for(e=0;t.offsetHeight>=t.scrollHeight+3&&!(100<e);)e++,i--,t.style.height=i+"px";t.style.height=i+1+"px"}}},this.input.addEventListener("keyup",function(t){n.adjust_height(this)}),this.input.addEventListener("change",function(t){n.adjust_height(this)}),this.adjust_height()),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),window.requestAnimationFrame(function(){n.input.parentNode&&n.afterInputReady(),n.adjust_height&&n.adjust_height(n.input)}),this.schema.template&&(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine)),this.refreshValue()},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},afterInputReady:function(){var t,e=this;if(this.source_code)if(this.options.wysiwyg&&0<=["html","bbcode"].indexOf(this.input_type)&&window.jQuery&&window.jQuery.fn&&window.jQuery.fn.sceditor)t=m({},{plugins:"html"===e.input_type?"xhtml":"bbcode",emoticonsEnabled:!1,width:"100%",height:300},b.plugins.sceditor,e.options.sceditor_options||{}),window.jQuery(e.input).sceditor(t),e.sceditor_instance=window.jQuery(e.input).sceditor("instance"),e.sceditor_instance.blur(function(){var t=window.jQuery("<div>"+e.sceditor_instance.val()+"</div>");window.jQuery("#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf",t).remove(),e.input.value=t.html(),e.value=e.input.value,e.is_dirty=!0,e.onChange(!0)});else if("markdown"===this.input_type&&window.EpicEditor)this.epiceditor_container=document.createElement("div"),this.input.parentNode.insertBefore(this.epiceditor_container,this.input),this.input.style.display="none",t=m({},b.plugins.epiceditor,{container:this.epiceditor_container,clientSideStorage:!1}),this.epiceditor=new window.EpicEditor(t).load(),this.epiceditor.importFile(null,this.getValue()),this.epiceditor.on("update",function(){var t=e.epiceditor.exportFile();e.input.value=t,e.value=t,e.is_dirty=!0,e.onChange(!0)});else if(window.ace){var i=this.input_type;"cpp"!==i&&"c++"!==i&&"c"!==i||(i="c_cpp"),this.ace_container=document.createElement("div"),this.ace_container.style.width="100%",this.ace_container.style.position="relative",this.ace_container.style.height="400px",this.input.parentNode.insertBefore(this.ace_container,this.input),this.input.style.display="none",this.ace_editor=window.ace.edit(this.ace_container),this.ace_editor.setValue(this.getValue()),b.plugins.ace.theme&&this.ace_editor.setTheme("ace/theme/"+b.plugins.ace.theme),(i=window.ace.require("ace/mode/"+i))&&this.ace_editor.getSession().setMode(new i.Mode),this.ace_editor.on("change",function(){var t=e.ace_editor.getValue();e.input.value=t,e.refreshValue(),e.is_dirty=!0,e.onChange(!0)})}e.theme.afterInputReady(e.input)},refreshValue:function(){this.value=this.input.value,"string"!=typeof this.value&&(this.value=""),this.serialized=this.value},destroy:function(){this.sceditor_instance?this.sceditor_instance.destroy():this.epiceditor?this.epiceditor.unload():this.ace_editor&&this.ace_editor.destroy(),this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this._super()},sanitize:function(t){return t},onWatchedFieldChange:function(){var t;this.template&&(t=this.getWatchedFieldValues(),this.setValue(this.template(t),!1,!0)),this._super()},showValidationErrors:function(t){var i=this;if("always"===this.jsoneditor.options.show_errors);else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return;this.previous_error_setting=this.jsoneditor.options.show_errors;var n=[];g(t,function(t,e){e.path===i.path&&n.push(e.message)}),n.length?this.theme.addInputError(this.input,n.join(". ")+"."):this.theme.removeInputError(this.input)}}),b.defaults.editors.number=b.defaults.editors.string.extend({sanitize:function(t){return(t+"").replace(/[^0-9\.\-eE]/g,"")},getNumColumns:function(){return 2},getValue:function(){return 1*this.value}}),b.defaults.editors.integer=b.defaults.editors.number.extend({sanitize:function(t){return(t+="").replace(/[^0-9\-]/g,"")},getNumColumns:function(){return 2}}),b.defaults.editors.object=b.AbstractEditor.extend({getDefault:function(){return m({},this.schema.default||{})},getChildEditors:function(){return this.editors},register:function(){if(this._super(),this.editors)for(var t in this.editors)this.editors.hasOwnProperty(t)&&this.editors[t].register()},unregister:function(){if(this._super(),this.editors)for(var t in this.editors)this.editors.hasOwnProperty(t)&&this.editors[t].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.maxwidth),3)},enable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!1),this.addproperty_button&&(this.addproperty_button.disabled=!1),this._super(),this.editors)for(var t in this.editors)this.editors.hasOwnProperty(t)&&this.editors[t].enable()},disable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!0),this.addproperty_button&&(this.addproperty_button.disabled=!0),this.hideEditJSON(),this._super(),this.editors)for(var t in this.editors)this.editors.hasOwnProperty(t)&&this.editors[t].disable()},layoutEditors:function(){var t,e,a=this;if(this.row_container){var r;if(this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(t,e){var i=a.editors[t].schema.propertyOrder,n=a.editors[e].schema.propertyOrder;return"number"!=typeof i&&(i=1e3),"number"!=typeof n&&(n=1e3),i-n}),"grid"===this.format){var l=[];for(g(this.property_order,function(t,e){var i=a.editors[e];if(!i.property_removed){for(var n=!1,r=i.options.hidden?0:i.options.grid_columns||i.getNumColumns(),s=i.options.hidden?0:i.container.offsetHeight,o=0;o<l.length;o++)l[o].width+r<=12&&(!s||.5*l[o].minh<s&&2*l[o].maxh>s)&&(n=o);!1===n&&(l.push({width:0,minh:999999,maxh:0,editors:[]}),n=l.length-1),l[n].editors.push({key:e,width:r,height:s}),l[n].width+=r,l[n].minh=Math.min(l[n].minh,s),l[n].maxh=Math.max(l[n].maxh,s)}}),t=0;t<l.length;t++)if(l[t].width<12){var i=!1,n=0;for(e=0;e<l[t].editors.length;e++)!1===i?i=e:l[t].editors[e].width>l[t].editors[i].width&&(i=e),l[t].editors[e].width*=12/l[t].width,l[t].editors[e].width=Math.floor(l[t].editors[e].width),n+=l[t].editors[e].width;n<12&&(l[t].editors[i].width+=12-n),l[t].width=12}if(this.layout===JSON.stringify(l))return!1;for(this.layout=JSON.stringify(l),r=document.createElement("div"),t=0;t<l.length;t++){var s=this.theme.getGridRow();for(r.appendChild(s),e=0;e<l[t].editors.length;e++){var o=l[t].editors[e].key,d=this.editors[o];d.options.hidden?d.container.style.display="none":this.theme.setGridColumnSize(d.container,l[t].editors[e].width),s.appendChild(d.container)}}}else r=document.createElement("div"),g(this.property_order,function(t,e){var i=a.editors[e];if(!i.property_removed){var n=a.theme.getGridRow();r.appendChild(n),i.options.hidden?i.container.style.display="none":a.theme.setGridColumnSize(i.container,12),n.appendChild(i.container)}});this.row_container.innerHTML="",this.row_container.appendChild(r)}},getPropertySchema:function(t){var e=this.schema.properties[t]||{};e=m({},e);var i=!!this.schema.properties[t];if(this.schema.patternProperties)for(var n in this.schema.patternProperties)if(this.schema.patternProperties.hasOwnProperty(n)){new RegExp(n).test(t)&&(e.allOf=e.allOf||[],e.allOf.push(this.schema.patternProperties[n]),i=!0)}return!i&&this.schema.additionalProperties&&"object"==typeof this.schema.additionalProperties&&(e=m({},this.schema.additionalProperties)),e},preBuild:function(){this._super(),this.editors={},this.cached_editors={};var r=this;if(this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal",this.schema.properties=this.schema.properties||{},this.minwidth=0,this.maxwidth=0,this.options.table_row)g(this.schema.properties,function(t,e){var i=r.jsoneditor.getEditorClass(e);r.editors[t]=r.jsoneditor.createEditor(i,{jsoneditor:r.jsoneditor,schema:e,path:r.path+"."+t,parent:r,compact:!0,required:!0}),r.editors[t].preBuild();var n=r.editors[t].options.hidden?0:r.editors[t].options.grid_columns||r.editors[t].getNumColumns();r.minwidth+=n,r.maxwidth+=n}),this.no_link_holder=!0;else{if(this.options.table)throw"Not supported yet";this.schema.defaultProperties||(this.jsoneditor.options.display_required_only||this.options.display_required_only?(this.schema.defaultProperties=[],g(this.schema.properties,function(t,e){r.isRequired({key:t,schema:e})&&r.schema.defaultProperties.push(t)})):r.schema.defaultProperties=Object.keys(r.schema.properties)),r.maxwidth+=1,g(this.schema.defaultProperties,function(t,e){r.addObjectProperty(e,!0),r.editors[e]&&(r.minwidth=Math.max(r.minwidth,r.editors[e].options.grid_columns||r.editors[e].getNumColumns()),r.maxwidth+=r.editors[e].options.grid_columns||r.editors[e].getNumColumns())})}this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(t,e){var i=r.editors[t].schema.propertyOrder,n=r.editors[e].schema.propertyOrder;return"number"!=typeof i&&(i=1e3),"number"!=typeof n&&(n=1e3),i-n})},build:function(){var n=this;if(this.options.table_row)this.editor_holder=this.container,g(this.editors,function(t,e){var i=n.theme.getTableCell();n.editor_holder.appendChild(i),e.setContainer(i),e.build(),e.postBuild(),n.editors[t].options.hidden&&(i.style.display="none"),n.editors[t].options.input_width&&(i.style.width=n.editors[t].options.input_width)});else{if(this.options.table)throw"Not supported yet";this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.container.style.position="relative",this.editjson_holder=this.theme.getModal(),this.editjson_textarea=this.theme.getTextareaInput(),this.editjson_textarea.style.height="170px",this.editjson_textarea.style.width="300px",this.editjson_textarea.style.display="block",this.editjson_save=this.getButton("Save","save","Save"),this.editjson_save.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),n.saveJSON()}),this.editjson_cancel=this.getButton("Cancel","cancel","Cancel"),this.editjson_cancel.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),n.hideEditJSON()}),this.editjson_holder.appendChild(this.editjson_textarea),this.editjson_holder.appendChild(this.editjson_save),this.editjson_holder.appendChild(this.editjson_cancel),this.addproperty_holder=this.theme.getModal(),this.addproperty_list=document.createElement("div"),this.addproperty_list.style.width="295px",this.addproperty_list.style.maxHeight="160px",this.addproperty_list.style.padding="5px 0",this.addproperty_list.style.overflowY="auto",this.addproperty_list.style.overflowX="hidden",this.addproperty_list.style.paddingLeft="5px",this.addproperty_list.setAttribute("class","property-selector"),this.addproperty_add=this.getButton("add","add","add"),this.addproperty_input=this.theme.getFormInputField("text"),this.addproperty_input.setAttribute("placeholder","Property name..."),this.addproperty_input.style.width="220px",this.addproperty_input.style.marginBottom="0",this.addproperty_input.style.display="inline-block",this.addproperty_add.addEventListener("click",function(t){if(t.preventDefault(),t.stopPropagation(),n.addproperty_input.value){if(n.editors[n.addproperty_input.value])return void window.alert("there is already a property with that name");n.addObjectProperty(n.addproperty_input.value),n.editors[n.addproperty_input.value]&&n.editors[n.addproperty_input.value].disable(),n.onChange(!0)}}),this.addproperty_holder.appendChild(this.addproperty_list),this.addproperty_holder.appendChild(this.addproperty_input),this.addproperty_holder.appendChild(this.addproperty_add);var t=document.createElement("div");t.style.clear="both",this.addproperty_holder.appendChild(t),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.editor_holder=this.theme.getIndentedPanel(),this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),this.editor_holder.appendChild(this.row_container),g(this.editors,function(t,e){var i=n.theme.getGridColumn();n.row_container.appendChild(i),e.setContainer(i),e.build(),e.postBuild()}),this.title_controls=this.theme.getHeaderButtonHolder(),this.editjson_controls=this.theme.getHeaderButtonHolder(),this.addproperty_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.title.appendChild(this.editjson_controls),this.title.appendChild(this.addproperty_controls),this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),n.collapsed?(n.editor_holder.style.display="",n.collapsed=!1,n.setButtonText(n.toggle_button,"","collapse",n.translate("button_collapse"))):(n.editor_holder.style.display="none",n.collapsed=!0,n.setButtonText(n.toggle_button,"","expand",n.translate("button_expand")))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.editjson_button=this.getButton("JSON","edit","Edit JSON"),this.editjson_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),n.toggleEditJSON()}),this.editjson_controls.appendChild(this.editjson_button),this.editjson_controls.appendChild(this.editjson_holder),this.schema.options&&void 0!==this.schema.options.disable_edit_json?this.schema.options.disable_edit_json&&(this.editjson_button.style.display="none"):this.jsoneditor.options.disable_edit_json&&(this.editjson_button.style.display="none"),this.addproperty_button=this.getButton("Properties","edit","Object Properties"),this.addproperty_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),n.toggleAddProperty()}),this.addproperty_controls.appendChild(this.addproperty_button),this.addproperty_controls.appendChild(this.addproperty_holder),this.refreshAddProperties()}this.options.table_row?(this.editor_holder=this.container,g(this.property_order,function(t,e){n.editor_holder.appendChild(n.editors[e].container)})):(this.layoutEditors(),this.layoutEditors())},showEditJSON:function(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left=this.editjson_button.offsetLeft+"px",this.editjson_holder.style.top=this.editjson_button.offsetTop+this.editjson_button.offsetHeight+"px",this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_button.disabled=!1,this.editing_json=!0)},hideEditJSON:function(){this.editjson_holder&&this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)},saveJSON:function(){if(this.editjson_holder)try{var t=JSON.parse(this.editjson_textarea.value);this.setValue(t),this.hideEditJSON()}catch(t){throw window.alert("invalid JSON"),t}},toggleEditJSON:function(){this.editing_json?this.hideEditJSON():this.showEditJSON()},insertPropertyControlUsingPropertyOrder:function(t,e,i){var n;this.schema.properties[t]&&(n=this.schema.properties[t].propertyOrder),"number"!=typeof n&&(n=1e3),e.propertyOrder=n;for(var r=0;r<i.childNodes.length;r++){var s=i.childNodes[r];if(e.propertyOrder<s.propertyOrder){this.addproperty_list.insertBefore(e,s),e=null;break}}e&&this.addproperty_list.appendChild(e)},addPropertyCheckbox:function(t){var e,i,n,r,s=this;return(e=s.theme.getCheckbox()).style.width="auto",n=this.schema.properties[t]&&this.schema.properties[t].title?this.schema.properties[t].title:t,i=s.theme.getCheckboxLabel(n),(r=s.theme.getFormControl(i,e)).style.paddingBottom=r.style.marginBottom=r.style.paddingTop=r.style.marginTop=0,r.style.height="auto",this.insertPropertyControlUsingPropertyOrder(t,r,this.addproperty_list),e.checked=t in this.editors,e.addEventListener("change",function(){e.checked?s.addObjectProperty(t):s.removeObjectProperty(t),s.onChange(!0)}),s.addproperty_checkboxes[t]=e},showAddProperty:function(){this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left=this.addproperty_button.offsetLeft+"px",this.addproperty_holder.style.top=this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight+"px",this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())},hideAddProperty:function(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)},toggleAddProperty:function(){this.adding_property?this.hideAddProperty():this.showAddProperty()},removeObjectProperty:function(t){this.editors[t]&&(this.editors[t].unregister(),delete this.editors[t],this.refreshValue(),this.layoutEditors())},addObjectProperty:function(t,e){var i=this;if(!this.editors[t]){if(this.cached_editors[t]){if(this.editors[t]=this.cached_editors[t],e)return;this.editors[t].register()}else{if(!(this.canHaveAdditionalProperties()||this.schema.properties&&this.schema.properties[t]))return;var n=i.getPropertySchema(t),r=i.jsoneditor.getEditorClass(n);if(i.editors[t]=i.jsoneditor.createEditor(r,{jsoneditor:i.jsoneditor,schema:n,path:i.path+"."+t,parent:i}),i.editors[t].preBuild(),!e){var s=i.theme.getChildEditorHolder();i.editor_holder.appendChild(s),i.editors[t].setContainer(s),i.editors[t].build(),i.editors[t].postBuild()}i.cached_editors[t]=i.editors[t]}e||(i.refreshValue(),i.layoutEditors())}},onChildEditorChange:function(t){this.refreshValue(),this._super(t)},canHaveAdditionalProperties:function(){return"boolean"==typeof this.schema.additionalProperties?this.schema.additionalProperties:!this.jsoneditor.options.no_additional_properties},destroy:function(){g(this.cached_editors,function(t,e){e.destroy()}),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder),this.editors=null,this.cached_editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,this._super()},getValue:function(){var t=this._super();if(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)for(var e in t)t.hasOwnProperty(e)&&(t[e]||delete t[e]);return t},refreshValue:function(){for(var t in this.value={},this.editors)this.editors.hasOwnProperty(t)&&(this.value[t]=this.editors[t].getValue());this.adding_property&&this.refreshAddProperties()},refreshAddProperties:function(){if(this.options.disable_properties||!1!==this.options.disable_properties&&this.jsoneditor.options.disable_properties)this.addproperty_controls.style.display="none";else{var t,e,i=0,n=!1;for(t in this.editors)this.editors.hasOwnProperty(t)&&i++;for(t in e=this.canHaveAdditionalProperties()&&!(void 0!==this.schema.maxProperties&&i>=this.schema.maxProperties),this.addproperty_checkboxes&&(this.addproperty_list.innerHTML=""),this.addproperty_checkboxes={},this.cached_editors)this.cached_editors.hasOwnProperty(t)&&(this.addPropertyCheckbox(t),this.isRequired(this.cached_editors[t])&&t in this.editors&&(this.addproperty_checkboxes[t].disabled=!0),void 0!==this.schema.minProperties&&i<=this.schema.minProperties?(this.addproperty_checkboxes[t].disabled=this.addproperty_checkboxes[t].checked,this.addproperty_checkboxes[t].checked||(n=!0)):t in this.editors?n=!0:e||this.schema.properties.hasOwnProperty(t)?n=!(this.addproperty_checkboxes[t].disabled=!1):this.addproperty_checkboxes[t].disabled=!0);for(t in this.canHaveAdditionalProperties()&&(n=!0),this.schema.properties)this.schema.properties.hasOwnProperty(t)&&(this.cached_editors[t]||(n=!0,this.addPropertyCheckbox(t)));n?this.canHaveAdditionalProperties()?this.addproperty_add.disabled=!e:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_controls.style.display="none")}},isRequired:function(t){return"boolean"==typeof t.schema.required?t.schema.required:Array.isArray(this.schema.required)?-1<this.schema.required.indexOf(t.key):!!this.jsoneditor.options.required_by_default},setValue:function(i,n){var r=this;("object"!=typeof(i=i||{})||Array.isArray(i))&&(i={}),g(this.cached_editors,function(t,e){void 0!==i[t]?(r.addObjectProperty(t),e.setValue(i[t],n)):n||r.isRequired(e)?e.setValue(e.getDefault(),n):r.removeObjectProperty(t)}),g(i,function(t,e){r.cached_editors[t]||(r.addObjectProperty(t),r.editors[t]&&r.editors[t].setValue(e,n))}),this.refreshValue(),this.layoutEditors(),this.onChange()},showValidationErrors:function(t){var i=this,n=[],r=[];g(t,function(t,e){e.path===i.path?n.push(e):r.push(e)}),this.error_holder&&(n.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",g(n,function(t,e){i.error_holder.appendChild(i.theme.getErrorMessage(e.message))})):this.error_holder.style.display="none"),this.options.table_row&&(n.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container)),g(this.editors,function(t,e){e.showValidationErrors(r)})}}),b.defaults.editors.array=b.AbstractEditor.extend({getDefault:function(){return this.schema.default||[]},register:function(){if(this._super(),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].register()},unregister:function(){if(this._super(),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].unregister()},getNumColumns:function(){var t=this.getItemInfo(0);return this.tabs_holder?Math.max(Math.min(12,t.width+2),4):t.width},enable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!1),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!1),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!1),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].enable(),this.rows[t].moveup_button&&(this.rows[t].moveup_button.disabled=!1),this.rows[t].movedown_button&&(this.rows[t].movedown_button.disabled=!1),this.rows[t].delete_button&&(this.rows[t].delete_button.disabled=!1);this._super()},disable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!0),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!0),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!0),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].disable(),this.rows[t].moveup_button&&(this.rows[t].moveup_button.disabled=!0),this.rows[t].movedown_button&&(this.rows[t].movedown_button.disabled=!0),this.rows[t].delete_button&&(this.rows[t].delete_button.disabled=!0);this._super()},preBuild:function(){this._super(),this.rows=[],this.row_cache=[],this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete,this.hide_delete_all_rows_buttons=this.hide_delete_buttons||this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows,this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row,this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder,this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add},build:function(){this.options.compact?(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),"tabs"===this.schema.format?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls))),this.addControls()},onChildEditorChange:function(t){this.refreshValue(),this.refreshTabs(!0),this._super(t)},getItemTitle:function(){if(!this.item_title)if(this.schema.items&&!Array.isArray(this.schema.items)){var t=this.jsoneditor.expandRefs(this.schema.items);this.item_title=t.title||"item"}else this.item_title="item";return this.item_title},getItemSchema:function(t){return Array.isArray(this.schema.items)?t>=this.schema.items.length?!0===this.schema.additionalItems?{}:this.schema.additionalItems?m({},this.schema.additionalItems):void 0:m({},this.schema.items[t]):this.schema.items?m({},this.schema.items):{}},getItemInfo:function(t){var e=this.getItemSchema(t);this.item_info=this.item_info||{};var i=JSON.stringify(e);return void 0!==this.item_info[i]||(e=this.jsoneditor.expandRefs(e),this.item_info[i]={title:e.title||"item",default:e.default,width:12,child_editors:e.properties||e.items}),this.item_info[i]},getElementEditor:function(t){var e=this.getItemInfo(t),i=this.getItemSchema(t);(i=this.jsoneditor.expandRefs(i)).title=e.title+" "+(t+1);var n,r=this.jsoneditor.getEditorClass(i);n=this.tabs_holder?this.theme.getTabContent():e.child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),this.row_holder.appendChild(n);var s=this.jsoneditor.createEditor(r,{jsoneditor:this.jsoneditor,schema:i,container:n,path:this.path+"."+t,parent:this,required:!0});return s.preBuild(),s.build(),s.postBuild(),s.title_controls||(s.array_controls=this.theme.getButtonHolder(),n.appendChild(s.array_controls)),s},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.controls&&this.controls.parentNode&&this.controls.parentNode.removeChild(this.controls),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null,this._super()},empty:function(i){if(this.rows){var n=this;g(this.rows,function(t,e){i&&(e.tab&&e.tab.parentNode&&e.tab.parentNode.removeChild(e.tab),n.destroyRow(e,!0),n.row_cache[t]=null),n.rows[t]=null}),n.rows=[],i&&(n.row_cache=[])}},destroyRow:function(t,e){var i=t.container;e?(t.destroy(),i.parentNode&&i.parentNode.removeChild(i),t.tab&&t.tab.parentNode&&t.tab.parentNode.removeChild(t.tab)):(t.tab&&(t.tab.style.display="none"),i.style.display="none",t.unregister())},getMax:function(){return Array.isArray(this.schema.items)&&!1===this.schema.additionalItems?Math.min(this.schema.items.length,this.schema.maxItems||1/0):this.schema.maxItems||1/0},refreshTabs:function(i){var n=this;g(this.rows,function(t,e){e.tab&&(i?e.tab_text.textContent=e.getHeaderText():e.tab===n.active_tab?(n.theme.markTabActive(e.tab),e.container.style.display=""):(n.theme.markTabInactive(e.tab),e.container.style.display="none"))})},setValue:function(t,i){if(t=t||[],Array.isArray(t)||(t=[t]),JSON.stringify(t)!==this.serialized){if(this.schema.minItems)for(;t.length<this.schema.minItems;)t.push(this.getItemInfo(t.length).default);this.getMax()&&t.length>this.getMax()&&(t=t.slice(0,this.getMax()));var n=this;g(t,function(t,e){n.rows[t]?n.rows[t].setValue(e,i):n.row_cache[t]?(n.rows[t]=n.row_cache[t],n.rows[t].setValue(e,i),n.rows[t].container.style.display="",n.rows[t].tab&&(n.rows[t].tab.style.display=""),n.rows[t].register()):n.addRow(e,i)});for(var e=t.length;e<n.rows.length;e++)n.destroyRow(n.rows[e]),n.rows[e]=null;n.rows=n.rows.slice(0,t.length);var r=null;g(n.rows,function(t,e){if(e.tab===n.active_tab)return r=e.tab,!1}),!r&&n.rows.length&&(r=n.rows[0].tab),n.active_tab=r,n.refreshValue(i),n.refreshTabs(!0),n.refreshTabs(),n.onChange()}},refreshValue:function(t){var i=this,e=this.value?this.value.length:0;if(this.value=[],g(this.rows,function(t,e){i.value[t]=e.getValue()}),e!==this.value.length||t){var n=this.schema.minItems&&this.schema.minItems>=this.rows.length;g(this.rows,function(t,e){e.movedown_button&&(t===i.rows.length-1?e.movedown_button.style.display="none":e.movedown_button.style.display=""),e.delete_button&&(e.delete_button.style.display=n?"none":""),i.value[t]=e.getValue()});var r=!1;this.value.length?1===this.value.length?(this.remove_all_rows_button.style.display="none",n||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":r=!(this.delete_last_row_button.style.display="")):(n||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":r=!(this.delete_last_row_button.style.display=""),n||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":r=!(this.remove_all_rows_button.style.display="")):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none"),this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":r=!(this.add_row_button.style.display=""),!this.collapsed&&r?this.controls.style.display="inline-block":this.controls.style.display="none"}},addRow:function(t,e){var s=this,i=this.rows.length;s.rows[i]=this.getElementEditor(i),s.row_cache[i]=s.rows[i],s.tabs_holder&&(s.rows[i].tab_text=document.createElement("span"),s.rows[i].tab_text.textContent=s.rows[i].getHeaderText(),s.rows[i].tab=s.theme.getTab(s.rows[i].tab_text),s.rows[i].tab.addEventListener("click",function(t){s.active_tab=s.rows[i].tab,s.refreshTabs(),t.preventDefault(),t.stopPropagation()}),s.theme.addTab(s.tabs_holder,s.rows[i].tab));var n=s.rows[i].title_controls||s.rows[i].array_controls;s.hide_delete_buttons||(s.rows[i].delete_button=this.getButton(s.getItemTitle(),"delete",this.translate("button_delete_row_title",[s.getItemTitle()])),s.rows[i].delete_button.className+=" delete",s.rows[i].delete_button.setAttribute("data-i",i),s.rows[i].delete_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=1*this.getAttribute("data-i"),e=s.getValue(),n=[],r=null;g(e,function(t,e){return t===i?void(s.rows[t].tab===s.active_tab&&(s.rows[t+1]?r=s.rows[t].tab:t&&(r=s.rows[t-1].tab))):void n.push(e)}),s.setValue(n),r&&(s.active_tab=r,s.refreshTabs()),s.onChange(!0)}),n&&n.appendChild(s.rows[i].delete_button)),i&&!s.hide_move_buttons&&(s.rows[i].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),s.rows[i].moveup_button.className+=" moveup",s.rows[i].moveup_button.setAttribute("data-i",i),s.rows[i].moveup_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=1*this.getAttribute("data-i");if(!(e<=0)){var i=s.getValue(),n=i[e-1];i[e-1]=i[e],i[e]=n,s.setValue(i),s.active_tab=s.rows[e-1].tab,s.refreshTabs(),s.onChange(!0)}}),n&&n.appendChild(s.rows[i].moveup_button)),s.hide_move_buttons||(s.rows[i].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),s.rows[i].movedown_button.className+=" movedown",s.rows[i].movedown_button.setAttribute("data-i",i),s.rows[i].movedown_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=1*this.getAttribute("data-i"),i=s.getValue();if(!(e>=i.length-1)){var n=i[e+1];i[e+1]=i[e],i[e]=n,s.setValue(i),s.active_tab=s.rows[e+1].tab,s.refreshTabs(),s.onChange(!0)}}),n&&n.appendChild(s.rows[i].movedown_button)),t&&s.rows[i].setValue(t,e),s.refreshTabs()},addControls:function(){var n=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls.appendChild(this.toggle_button);var e=n.row_holder.style.display,i=n.controls.style.display;this.toggle_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),n.collapsed?(n.collapsed=!1,n.panel&&(n.panel.style.display=""),n.row_holder.style.display=e,n.tabs_holder&&(n.tabs_holder.style.display=""),n.controls.style.display=i,n.setButtonText(this,"","collapse",n.translate("button_collapse"))):(n.collapsed=!0,n.row_holder.style.display="none",n.tabs_holder&&(n.tabs_holder.style.display="none"),n.controls.style.display="none",n.panel&&(n.panel.style.display="none"),n.setButtonText(this,"","expand",n.translate("button_expand")))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=n.rows.length;n.row_cache[e]?(n.rows[e]=n.row_cache[e],n.rows[e].setValue(n.rows[e].getDefault(),!0),n.rows[e].container.style.display="",n.rows[e].tab&&(n.rows[e].tab.style.display=""),n.rows[e].register()):n.addRow(),n.active_tab=n.rows[e].tab,n.refreshTabs(),n.refreshValue(),n.onChange(!0)}),n.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=n.getValue(),i=null;1<n.rows.length&&n.rows[n.rows.length-1].tab===n.active_tab&&(i=n.rows[n.rows.length-2].tab),e.pop(),n.setValue(e),i&&(n.active_tab=i,n.refreshTabs()),n.onChange(!0)}),n.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),n.setValue([]),n.onChange(!0)}),n.controls.appendChild(this.remove_all_rows_button),n.tabs&&(this.add_row_button.style.width="100%",this.add_row_button.style.textAlign="left",this.add_row_button.style.marginBottom="3px",this.delete_last_row_button.style.width="100%",this.delete_last_row_button.style.textAlign="left",this.delete_last_row_button.style.marginBottom="3px",this.remove_all_rows_button.style.width="100%",this.remove_all_rows_button.style.textAlign="left",this.remove_all_rows_button.style.marginBottom="3px")},showValidationErrors:function(t){var i=this,n=[],r=[];g(t,function(t,e){e.path===i.path?n.push(e):r.push(e)}),this.error_holder&&(n.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",g(n,function(t,e){i.error_holder.appendChild(i.theme.getErrorMessage(e.message))})):this.error_holder.style.display="none"),g(this.rows,function(t,e){e.showValidationErrors(r)})}}),b.defaults.editors.table=b.defaults.editors.array.extend({register:function(){if(this._super(),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].register()},unregister:function(){if(this._super(),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.width),3)},preBuild:function(){var t=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=t.title||"row",this.item_default=t.default||null,this.item_has_child_editors=t.properties||t.items,this.width=12,this._super()},build:function(){this.table=this.theme.getTable(),this.container.appendChild(this.table),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder);var t=this.getElementEditor(0,!0);if(this.item_default=t.getDefault(),this.width=t.getNumColumns()+2,this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.title=this.theme.getHeader(this.getTitle()),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder)),this.panel.appendChild(this.table),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.item_has_child_editors)for(var e=t.getChildEditors(),i=t.property_order||Object.keys(e),n=0;n<i.length;n++){var r=this.theme.getTableHeaderCell(e[i[n]].getTitle());e[i[n]].options.hidden&&(r.style.display="none"),this.header_row.appendChild(r)}else this.header_row.appendChild(this.theme.getTableHeaderCell(this.item_title));t.destroy(),this.row_holder.innerHTML="",this.controls_header_cell=this.theme.getTableHeaderCell(" "),this.header_row.appendChild(this.controls_header_cell),this.addControls()},onChildEditorChange:function(t){this.refreshValue(),this._super()},getItemDefault:function(){return m({},{default:this.item_default}).default},getItemTitle:function(){return this.item_title},getElementEditor:function(t,e){var i=m({},this.schema.items),n=this.jsoneditor.getEditorClass(i,this.jsoneditor),r=this.row_holder.appendChild(this.theme.getTableRow()),s=r;this.item_has_child_editors||(s=this.theme.getTableCell(),r.appendChild(s));var o=this.jsoneditor.createEditor(n,{jsoneditor:this.jsoneditor,schema:i,container:s,path:this.path+"."+t,parent:this,compact:!0,table_row:!0});return o.preBuild(),e||(o.build(),o.postBuild(),o.controls_cell=r.appendChild(this.theme.getTableCell()),o.row=r,o.table_controls=this.theme.getButtonHolder(),o.controls_cell.appendChild(o.table_controls),o.table_controls.style.margin=0,o.table_controls.style.padding=0),o},destroy:function(){this.innerHTML="",this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.table&&this.table.parentNode&&this.table.parentNode.removeChild(this.table),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null,this._super()},setValue:function(t,e){if(t=t||[],this.schema.minItems)for(;t.length<this.schema.minItems;)t.push(this.getItemDefault());if(this.schema.maxItems&&t.length>this.schema.maxItems&&(t=t.slice(0,this.schema.maxItems)),JSON.stringify(t)!==this.serialized){var i=!1,n=this;g(t,function(t,e){n.rows[t]?n.rows[t].setValue(e):(n.addRow(e),i=!0)});for(var r=t.length;r<n.rows.length;r++){var s=n.rows[r].container;n.item_has_child_editors||n.rows[r].row.parentNode.removeChild(n.rows[r].row),n.rows[r].destroy(),s.parentNode&&s.parentNode.removeChild(s),n.rows[r]=null,i=!0}n.rows=n.rows.slice(0,t.length),n.refreshValue(),(i||e)&&n.refreshRowButtons(),n.onChange()}},refreshRowButtons:function(){var i=this,n=this.schema.minItems&&this.schema.minItems>=this.rows.length,r=!1;g(this.rows,function(t,e){e.movedown_button&&(t===i.rows.length-1?e.movedown_button.style.display="none":(r=!0,e.movedown_button.style.display="")),e.delete_button&&(e.delete_button.style.display=n?"none":(r=!0,"")),e.moveup_button&&(r=!0)}),g(this.rows,function(t,e){e.controls_cell.style.display=r?"":"none"}),this.controls_header_cell.style.display=r?"":"none";var t=!1;this.value.length?1===this.value.length?(this.table.style.display="",this.remove_all_rows_button.style.display="none",n||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":t=!(this.delete_last_row_button.style.display="")):(this.table.style.display="",n||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":t=!(this.delete_last_row_button.style.display=""),n||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":t=!(this.remove_all_rows_button.style.display="")):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none",this.table.style.display="none"),this.schema.maxItems&&this.schema.maxItems<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":t=!(this.add_row_button.style.display=""),this.controls.style.display=t?"":"none"},refreshValue:function(){var i=this;this.value=[],g(this.rows,function(t,e){i.value[t]=e.getValue()}),this.serialized=JSON.stringify(this.value)},addRow:function(t){var r=this,e=this.rows.length;r.rows[e]=this.getElementEditor(e);var i=r.rows[e].table_controls;this.hide_delete_buttons||(r.rows[e].delete_button=this.getButton("","delete",this.translate("button_delete_row_title_short")),r.rows[e].delete_button.className+=" delete",r.rows[e].delete_button.setAttribute("data-i",e),r.rows[e].delete_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=1*this.getAttribute("data-i"),e=r.getValue(),n=[];g(e,function(t,e){t!==i&&n.push(e)}),r.setValue(n),r.onChange(!0)}),i.appendChild(r.rows[e].delete_button)),e&&!this.hide_move_buttons&&(r.rows[e].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),r.rows[e].moveup_button.className+=" moveup",r.rows[e].moveup_button.setAttribute("data-i",e),r.rows[e].moveup_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=1*this.getAttribute("data-i");if(!(e<=0)){var i=r.getValue(),n=i[e-1];i[e-1]=i[e],i[e]=n,r.setValue(i),r.onChange(!0)}}),i.appendChild(r.rows[e].moveup_button)),this.hide_move_buttons||(r.rows[e].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),r.rows[e].movedown_button.className+=" movedown",r.rows[e].movedown_button.setAttribute("data-i",e),r.rows[e].movedown_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=1*this.getAttribute("data-i"),i=r.getValue();if(!(e>=i.length-1)){var n=i[e+1];i[e+1]=i[e],i[e]=n,r.setValue(i),r.onChange(!0)}}),i.appendChild(r.rows[e].movedown_button)),t&&r.rows[e].setValue(t)},addControls:function(){var i=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls&&(this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),i.collapsed?(i.collapsed=!1,i.panel.style.display="",i.setButtonText(this,"","collapse",i.translate("button_collapse"))):(i.collapsed=!0,i.panel.style.display="none",i.setButtonText(this,"","expand",i.translate("button_expand")))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none")),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),i.addRow(),i.refreshValue(),i.refreshRowButtons(),i.onChange(!0)}),i.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=i.getValue();e.pop(),i.setValue(e),i.onChange(!0)}),i.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),i.setValue([]),i.onChange(!0)}),i.controls.appendChild(this.remove_all_rows_button)}}),b.defaults.editors.multiple=b.AbstractEditor.extend({register:function(){if(this.editors){for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister();this.editors[this.type]&&this.editors[this.type].register()}this._super()},unregister:function(){if(this._super(),this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister()},getNumColumns:function(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4},enable:function(){if(this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].enable();this.switcher.disabled=!1,this._super()},disable:function(){if(this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].disable();this.switcher.disabled=!0,this._super()},switchEditor:function(t){var i=this;this.editors[t]||this.buildChildEditor(t);var n=i.getValue();i.type=t,i.register(),g(i.editors,function(t,e){e&&(i.type===t?(i.keep_values&&e.setValue(n,!0),e.container.style.display=""):e.container.style.display="none")}),i.refreshValue(),i.refreshHeaderText()},buildChildEditor:function(t){var e,i=this,n=this.types[t],r=i.theme.getChildEditorHolder();i.editor_holder.appendChild(r),"string"==typeof n?(e=m({},i.schema)).type=n:(e=m({},i.schema,n),e=i.jsoneditor.expandRefs(e),n.required&&Array.isArray(n.required)&&i.schema.required&&Array.isArray(i.schema.required)&&(e.required=i.schema.required.concat(n.required)));var s=i.jsoneditor.getEditorClass(e);i.editors[t]=i.jsoneditor.createEditor(s,{jsoneditor:i.jsoneditor,schema:e,container:r,path:i.path,parent:i,required:!0}),i.editors[t].preBuild(),i.editors[t].build(),i.editors[t].postBuild(),i.editors[t].header&&(i.editors[t].header.style.display="none"),i.editors[t].option=i.switcher_options[t],r.addEventListener("change_header_text",function(){i.refreshHeaderText()}),t!==i.type&&(r.style.display="none")},preBuild:function(){if(this.types=[],this.type=0,this.editors=[],this.validators=[],this.keep_values=!0,void 0!==this.jsoneditor.options.keep_oneof_values&&(this.keep_values=this.jsoneditor.options.keep_oneof_values),void 0!==this.options.keep_oneof_values&&(this.keep_values=this.options.keep_oneof_values),this.schema.oneOf)this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf;else if(this.schema.anyOf)this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf;else{if(this.schema.type&&"any"!==this.schema.type)Array.isArray(this.schema.type)?this.types=this.schema.type:this.types=[this.schema.type];else if(this.types=["string","number","integer","boolean","object","array","null"],this.schema.disallow){var i=this.schema.disallow;"object"==typeof i&&Array.isArray(i)||(i=[i]);var n=[];g(this.types,function(t,e){-1===i.indexOf(e)&&n.push(e)}),this.types=n}delete this.schema.type}this.display_text=this.getDisplayText(this.types)},build:function(){var n=this,t=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.header),this.switcher=this.theme.getSwitcher(this.display_text),t.appendChild(this.switcher),this.switcher.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),n.switchEditor(n.display_text.indexOf(this.value)),n.onChange(!0)}),this.editor_holder=document.createElement("div"),t.appendChild(this.editor_holder);var r={};n.jsoneditor.options.custom_validators&&(r.custom_validators=n.jsoneditor.options.custom_validators),this.switcher_options=this.theme.getSwitcherOptions(this.switcher),g(this.types,function(t,e){var i;n.editors[t]=!1,"string"==typeof e?(i=m({},n.schema)).type=e:(i=m({},n.schema,e),e.required&&Array.isArray(e.required)&&n.schema.required&&Array.isArray(n.schema.required)&&(i.required=n.schema.required.concat(e.required))),n.validators[t]=new b.Validator(n.jsoneditor,i,r)}),this.switchEditor(0)},onChildEditorChange:function(t){this.editors[this.type]&&(this.refreshValue(),this.refreshHeaderText()),this._super()},refreshHeaderText:function(){var i=this.getDisplayText(this.types);g(this.switcher_options,function(t,e){e.textContent=i[t]})},refreshValue:function(){this.value=this.editors[this.type].getValue()},setValue:function(i,t){var n=this;g(this.validators,function(t,e){if(!e.validate(i).length)return n.type=t,n.switcher.value=n.display_text[t],!1}),this.switchEditor(this.type),this.editors[this.type].setValue(i,t),this.refreshValue(),n.onChange()},destroy:function(){g(this.editors,function(t,e){e&&e.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()},showValidationErrors:function(i){var s=this;if(this.oneOf||this.anyOf){var o=this.oneOf?"oneOf":"anyOf";g(this.editors,function(t,e){if(e){var n=s.path+"."+o+"["+t+"]",r=[];g(i,function(t,e){if(e.path.substr(0,n.length)===n){var i=m({},e);i.path=s.path+i.path.substr(n.length),r.push(i)}}),e.showValidationErrors(r)}})}else g(this.editors,function(t,e){e&&e.showValidationErrors(i)})}}),b.defaults.editors.enum=b.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){this.container,this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.title),this.options.enum_titles=this.options.enum_titles||[],this.enum=this.schema.enum,this.selected=0,this.select_options=[],this.html_values=[];for(var t=this,e=0;e<this.enum.length;e++)this.select_options[e]=this.options.enum_titles[e]||"Value "+(e+1),this.html_values[e]=this.getHTML(this.enum[e]);this.switcher=this.theme.getSwitcher(this.select_options),this.container.appendChild(this.switcher),this.display_area=this.theme.getIndentedPanel(),this.container.appendChild(this.display_area),this.options.hide_display&&(this.display_area.style.display="none"),this.switcher.addEventListener("change",function(){t.selected=t.select_options.indexOf(this.value),t.value=t.enum[t.selected],t.refreshValue(),t.onChange(!0)}),this.value=this.enum[0],this.refreshValue(),1===this.enum.length&&(this.switcher.style.display="none")},refreshValue:function(){var i=this;i.selected=-1;var n=JSON.stringify(this.value);return g(this.enum,function(t,e){if(n===JSON.stringify(e))return i.selected=t,!1}),i.selected<0?void i.setValue(i.enum[0]):(this.switcher.value=this.select_options[this.selected],void(this.display_area.innerHTML=this.html_values[this.selected]))},enable:function(){this.always_disabled||(this.switcher.disabled=!1),this._super()},disable:function(){this.switcher.disabled=!0,this._super()},getHTML:function(n){var r=this;if(null===n)return"<em>null</em>";if("object"!=typeof n)return"boolean"==typeof n?n?"true":"false":"string"==typeof n?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):n;var s="";return g(n,function(t,e){var i=r.getHTML(e);Array.isArray(n)||(i="<div><em>"+t+"</em>: "+i+"</div>"),s+="<li>"+i+"</li>"}),s=Array.isArray(n)?"<ol>"+s+"</ol>":"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>"+s+"</ul>"},setValue:function(t){this.value!==t&&(this.value=t,this.refreshValue(),this.onChange())},destroy:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()}}),b.defaults.editors.select=b.AbstractEditor.extend({setValue:function(t,e){var i=t=this.typecast(t||"");this.enum_values.indexOf(i)<0&&(i=this.enum_values[0]),this.value!==i&&(this.input.value=this.enum_options[this.enum_values.indexOf(i)],this.select2&&this.select2.select2("val",this.input.value),this.value=i,this.onChange())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var t=this.getTitle().length,e=0;e<this.enum_options.length;e++)t=Math.max(t,this.enum_options[e].length+4);return Math.min(12,Math.max(t/7,2))},typecast:function(t){return"boolean"===this.schema.type?!!t:"number"===this.schema.type?1*t:"integer"===this.schema.type?Math.floor(1*t):""+t},getValue:function(){return this.value},preBuild:function(){var t,i=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var n=this.schema.options&&this.schema.options.enum_titles||[];g(this.schema.enum,function(t,e){i.enum_options[t]=""+e,i.enum_display[t]=""+(n[t]||e),i.enum_values[t]=i.typecast(e)}),this.isRequired()||(i.enum_display.unshift(" "),i.enum_options.unshift("undefined"),i.enum_values.unshift(void 0))}else if("boolean"===this.schema.type)i.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],i.enum_options=["1",""],i.enum_values=[!0,!1],this.isRequired()||(i.enum_display.unshift(" "),i.enum_options.unshift("undefined"),i.enum_values.unshift(void 0));else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(t=0;t<this.schema.enumSource.length;t++)"string"==typeof this.schema.enumSource[t]?this.enumSource[t]={source:this.schema.enumSource[t]}:Array.isArray(this.schema.enumSource[t])?this.enumSource[t]=this.schema.enumSource[t]:this.enumSource[t]=m({},this.schema.enumSource[t]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(t=0;t<this.enumSource.length;t++)this.enumSource[t].value&&(this.enumSource[t].value=this.jsoneditor.compileTemplate(this.enumSource[t].value,this.template_engine)),this.enumSource[t].title&&(this.enumSource[t].title=this.jsoneditor.compileTemplate(this.enumSource[t].title,this.template_engine)),this.enumSource[t].filter&&(this.enumSource[t].filter=this.jsoneditor.compileTemplate(this.enumSource[t].filter,this.template_engine))}},build:function(){var e=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var t,e=this.input.value;(t=-1===this.enum_options.indexOf(e)?this.enum_values[0]:this.enum_values[this.enum_options.indexOf(e)])!==this.value&&(this.value=t,this.onChange(!0))},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&(2<this.enum_options.length||this.enum_options.length&&this.enumSource)){var t=m({},b.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(t=m(t,this.schema.options.select2_options)),this.select2=window.jQuery(this.input).select2(t);var e=this;this.select2.on("select2-blur",function(){e.input.value=e.select2.select2("val"),e.onInputChange()}),this.select2.on("change",function(){e.input.value=e.select2.select2("val"),e.onInputChange()})}else this.select2=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelect2()},onWatchedFieldChange:function(){var t,e;if(this.enumSource){t=this.getWatchedFieldValues();for(var i=[],n=[],r=0;r<this.enumSource.length;r++)if(Array.isArray(this.enumSource[r]))i=i.concat(this.enumSource[r]),n=n.concat(this.enumSource[r]);else{var s=[];if(s=Array.isArray(this.enumSource[r].source)?this.enumSource[r].source:t[this.enumSource[r].source]){if(this.enumSource[r].slice&&(s=Array.prototype.slice.apply(s,this.enumSource[r].slice)),this.enumSource[r].filter){var o=[];for(e=0;e<s.length;e++)this.enumSource[r].filter({i:e,item:s[e],watched:t})&&o.push(s[e]);s=o}var a=[],l=[];for(e=0;e<s.length;e++){var d=s[e];this.enumSource[r].value?l[e]=this.enumSource[r].value({i:e,item:d}):l[e]=s[e],this.enumSource[r].title?a[e]=this.enumSource[r].title({i:e,item:d}):a[e]=l[e]}i=i.concat(l),n=n.concat(a)}}var h=this.value;this.theme.setSelectOptions(this.input,i,n),this.enum_options=i,this.enum_display=n,this.enum_values=i,this.select2&&this.select2.select2("destroy"),-1!==i.indexOf(h)?(this.input.value=h,this.value=h):(this.input.value=i[0],this.value=i[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.setupSelect2()}this._super()},enable:function(){this.always_disabled||(this.input.disabled=!1,this.select2&&this.select2.select2("enable",!0)),this._super()},disable:function(){this.input.disabled=!0,this.select2&&this.select2.select2("enable",!1),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),b.defaults.editors.selectize=b.AbstractEditor.extend({setValue:function(t,e){var i=t=this.typecast(t||"");this.enum_values.indexOf(i)<0&&(i=this.enum_values[0]),this.value!==i&&(this.input.value=this.enum_options[this.enum_values.indexOf(i)],this.selectize&&this.selectize[0].selectize.addItem(i),this.value=i,this.onChange())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var t=this.getTitle().length,e=0;e<this.enum_options.length;e++)t=Math.max(t,this.enum_options[e].length+4);return Math.min(12,Math.max(t/7,2))},typecast:function(t){return"boolean"===this.schema.type?!!t:"number"===this.schema.type?1*t:"integer"===this.schema.type?Math.floor(1*t):""+t},getValue:function(){return this.value},preBuild:function(){var t,i=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var n=this.schema.options&&this.schema.options.enum_titles||[];g(this.schema.enum,function(t,e){i.enum_options[t]=""+e,i.enum_display[t]=""+(n[t]||e),i.enum_values[t]=i.typecast(e)})}else if("boolean"===this.schema.type)i.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],i.enum_options=["1","0"],i.enum_values=[!0,!1];else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(t=0;t<this.schema.enumSource.length;t++)"string"==typeof this.schema.enumSource[t]?this.enumSource[t]={source:this.schema.enumSource[t]}:Array.isArray(this.schema.enumSource[t])?this.enumSource[t]=this.schema.enumSource[t]:this.enumSource[t]=m({},this.schema.enumSource[t]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(t=0;t<this.enumSource.length;t++)this.enumSource[t].value&&(this.enumSource[t].value=this.jsoneditor.compileTemplate(this.enumSource[t].value,this.template_engine)),this.enumSource[t].title&&(this.enumSource[t].title=this.jsoneditor.compileTemplate(this.enumSource[t].title,this.template_engine)),this.enumSource[t].filter&&(this.enumSource[t].filter=this.jsoneditor.compileTemplate(this.enumSource[t].filter,this.template_engine))}},build:function(){var e=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var t=this.input.value;-1===this.enum_options.indexOf(t)&&this.enum_options[0],this.value=this.enum_values[this.enum_options.indexOf(t)],this.onChange(!0)},setupSelectize:function(){var t=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&(2<=this.enum_options.length||this.enum_options.length&&this.enumSource)){var e=m({},b.plugins.selectize);this.schema.options&&this.schema.options.selectize_options&&(e=m(e,this.schema.options.selectize_options)),this.selectize=window.jQuery(this.input).selectize(m(e,{create:!0,onChange:function(){t.onInputChange()}}))}else this.selectize=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelectize()},onWatchedFieldChange:function(){var t,e;if(this.enumSource){t=this.getWatchedFieldValues();for(var i=[],n=[],r=0;r<this.enumSource.length;r++)if(Array.isArray(this.enumSource[r]))i=i.concat(this.enumSource[r]),n=n.concat(this.enumSource[r]);else if(t[this.enumSource[r].source]){var s=t[this.enumSource[r].source];if(this.enumSource[r].slice&&(s=Array.prototype.slice.apply(s,this.enumSource[r].slice)),this.enumSource[r].filter){var o=[];for(e=0;e<s.length;e++)this.enumSource[r].filter({i:e,item:s[e]})&&o.push(s[e]);s=o}var a=[],l=[];for(e=0;e<s.length;e++){var d=s[e];this.enumSource[r].value?l[e]=this.enumSource[r].value({i:e,item:d}):l[e]=s[e],this.enumSource[r].title?a[e]=this.enumSource[r].title({i:e,item:d}):a[e]=l[e]}i=i.concat(l),n=n.concat(a)}var h=this.value;this.theme.setSelectOptions(this.input,i,n),this.enum_options=i,this.enum_display=n,-1!==(this.enum_values=i).indexOf(h)?(this.input.value=h,this.value=h):(this.input.value=i[0],this.value=i[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.selectize?this.updateSelectizeOptions(i):this.setupSelectize(),this._super()}},updateSelectizeOptions:function(t){var e=this.selectize[0].selectize,i=this;for(var n in e.off(),e.clearOptions(),t)e.addOption({value:t[n],text:t[n]});e.addItem(this.value),e.on("change",function(){i.onInputChange()})},enable:function(){this.always_disabled||(this.input.disabled=!1,this.selectize&&this.selectize[0].selectize.unlock()),this._super()},disable:function(){this.input.disabled=!0,this.selectize&&this.selectize[0].selectize.lock(),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.selectize&&(this.selectize[0].selectize.destroy(),this.selectize=null),this._super()}}),b.defaults.editors.multiselect=b.AbstractEditor.extend({preBuild:function(){var t;this._super(),this.select_options={},this.select_values={};var e=this.jsoneditor.expandRefs(this.schema.items||{}),i=e.enum||[],n=e.options&&e.options.enum_titles||[];for(this.option_keys=[],this.option_titles=[],t=0;t<i.length;t++)this.sanitize(i[t])===i[t]&&(this.option_keys.push(i[t]+""),this.option_titles.push((n[t]||i[t])+""),this.select_values[i[t]+""]=i[t])},build:function(){var i,n=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),!this.schema.format&&this.option_keys.length<8||"checkbox"===this.schema.format){for(this.input_type="checkboxes",this.inputs={},this.controls={},i=0;i<this.option_keys.length;i++){this.inputs[this.option_keys[i]]=this.theme.getCheckbox(),this.select_options[this.option_keys[i]]=this.inputs[this.option_keys[i]];var t=this.theme.getCheckboxLabel(this.option_titles[i]);this.controls[this.option_keys[i]]=this.theme.getFormControl(t,this.inputs[this.option_keys[i]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description)}else{for(this.input_type="select",this.input=this.theme.getSelectInput(this.option_keys),this.theme.setSelectOptions(this.input,this.option_keys,this.option_titles),this.input.multiple=!0,this.input.size=Math.min(10,this.option_keys.length),i=0;i<this.option_keys.length;i++)this.select_options[this.option_keys[i]]=this.input.children[i];(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.control=this.theme.getFormControl(this.label,this.input,this.description)}this.container.appendChild(this.control),this.control.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation();var e=[];for(i=0;i<n.option_keys.length;i++)(n.select_options[n.option_keys[i]].selected||n.select_options[n.option_keys[i]].checked)&&e.push(n.select_values[n.option_keys[i]]);n.updateValue(e),n.onChange(!0)})},setValue:function(t,e){var i;for("object"!=typeof(t=t||[])?t=[t]:Array.isArray(t)||(t=[]),i=0;i<t.length;i++)"string"!=typeof t[i]&&(t[i]+="");for(i in this.select_options)this.select_options.hasOwnProperty(i)&&(this.select_options[i]["select"===this.input_type?"selected":"checked"]=-1!==t.indexOf(i));this.updateValue(t),this.onChange()},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2){var t=window.jQuery.extend({},b.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(t=m(t,this.schema.options.select2_options)),this.select2=window.jQuery(this.input).select2(t);var e=this;this.select2.on("select2-blur",function(){var t=e.select2.select2("val");e.value=t,e.onChange(!0)})}else this.select2=null},onInputChange:function(){this.value=this.input.value,this.onChange(!0)},postBuild:function(){this._super(),this.setupSelect2()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){var t=this.getTitle().length;for(var e in this.select_values)this.select_values.hasOwnProperty(e)&&(t=Math.max(t,(this.select_values[e]+"").length+4));return Math.min(12,Math.max(t/7,2))},updateValue:function(t){for(var e=!1,i=[],n=0;n<t.length;n++)if(this.select_options[t[n]+""]){var r=this.sanitize(this.select_values[t[n]]);i.push(r),r!==t[n]&&(e=!0)}else e=!0;return this.value=i,this.select2&&this.select2.select2("val",this.value),e},sanitize:function(t){return"number"===this.schema.items.type?1*t:"integer"===this.schema.items.type?Math.floor(1*t):""+t},enable:function(){if(!this.always_disabled){if(this.input)this.input.disabled=!1;else if(this.inputs)for(var t in this.inputs)this.inputs.hasOwnProperty(t)&&(this.inputs[t].disabled=!1);this.select2&&this.select2.select2("enable",!0)}this._super()},disable:function(){if(this.input)this.input.disabled=!0;else if(this.inputs)for(var t in this.inputs)this.inputs.hasOwnProperty(t)&&(this.inputs[t].disabled=!0);this.select2&&this.select2.select2("enable",!1),this._super()},destroy:function(){this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),b.defaults.editors.base64=b.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var i=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw"FileReader required for base64 editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),this.files&&this.files.length){var e=new FileReader;e.onload=function(t){i.value=t.target.result,i.refreshPreview(),i.onChange(!0),e=null},e.readAsDataURL(this.files[0])}})}this.preview=this.theme.getFormInputDescription(this.schema.description),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview,this.infoButton),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)){var t=this.value.match(/^data:([^;,]+)[;,]/);if(t&&(t=t[1]),t){if(this.preview.innerHTML="<strong>Type:</strong> "+t+", <strong>Size:</strong> "+Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)+" bytes","image"===t.substr(0,5)){this.preview.innerHTML+="<br>";var e=document.createElement("img");e.style.maxWidth="100%",e.style.maxHeight="100px",e.src=this.value,this.preview.appendChild(e)}}else this.preview.innerHTML="<em>Invalid data URI</em>"}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(t){this.value!==t&&(this.value=t,this.input.value=this.value,this.refreshPreview(),this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),b.defaults.editors.upload=b.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var i=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!this.jsoneditor.options.upload)throw"Upload handler required for upload editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),this.files&&this.files.length){var e=new FileReader;e.onload=function(t){i.preview_value=t.target.result,i.refreshPreview(),i.onChange(!0),e=null},e.readAsDataURL(this.files[0])}})}var t=this.schema.description;t||(t=""),this.preview=this.theme.getFormInputDescription(t),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML="",this.preview_value)){var e=this,t=this.preview_value.match(/^data:([^;,]+)[;,]/);t&&(t=t[1]),t||(t="unknown");var i=this.uploader.files[0];if(this.preview.innerHTML="<strong>Type:</strong> "+t+", <strong>Size:</strong> "+i.size+" bytes","image"===t.substr(0,5)){this.preview.innerHTML+="<br>";var n=document.createElement("img");n.style.maxWidth="100%",n.style.maxHeight="100px",n.src=this.preview_value,this.preview.appendChild(n)}this.preview.innerHTML+="<br>";var r=this.getButton("Upload","upload","Upload");this.preview.appendChild(r),r.addEventListener("click",function(t){t.preventDefault(),r.setAttribute("disabled","disabled"),e.theme.removeInputError(e.uploader),e.theme.getProgressBar&&(e.progressBar=e.theme.getProgressBar(),e.preview.appendChild(e.progressBar)),e.jsoneditor.options.upload(e.path,i,{success:function(t){e.setValue(t),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange(),e.progressBar&&e.preview.removeChild(e.progressBar),r.removeAttribute("disabled")},failure:function(t){e.theme.addInputError(e.uploader,t),e.progressBar&&e.preview.removeChild(e.progressBar),r.removeAttribute("disabled")},updateProgress:function(t){e.progressBar&&(t?e.theme.updateProgressBar(e.progressBar,t):e.theme.updateProgressBarUnknown(e.progressBar))}})})}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(t){this.value!==t&&(this.value=t,this.input.value=this.value,this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),b.defaults.editors.checkbox=b.AbstractEditor.extend({setValue:function(t,e){this.value=!!t,this.input.checked=this.value,this.onChange()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))},build:function(){var e=this;this.options.compact||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getCheckbox(),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.value=this.checked,e.onChange(!0)}),this.container.appendChild(this.control)},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()}}),b.defaults.editors.arraySelectize=b.AbstractEditor.extend({build:function(){this.title=this.theme.getFormInputLabel(this.getTitle()),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.error_holder=document.createElement("div"),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description)),this.input=document.createElement("select"),this.input.setAttribute("multiple","multiple");var t=this.theme.getFormControl(this.title,this.input,this.description);this.container.appendChild(t),this.container.appendChild(this.error_holder),window.jQuery(this.input).selectize({delimiter:!1,createOnBlur:!0,create:!0})},postBuild:function(){var e=this;this.input.selectize.on("change",function(t){e.refreshValue(),e.onChange(!0)})},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()},empty:function(t){},setValue:function(t,e){var i=this;t=t||[],Array.isArray(t)||(t=[t]),this.input.selectize.clearOptions(),this.input.selectize.clear(!0),t.forEach(function(t){i.input.selectize.addOption({text:t,value:t})}),this.input.selectize.setValue(t),this.refreshValue(e)},refreshValue:function(t){this.value=this.input.selectize.getValue()},showValidationErrors:function(t){var i=this,n=[],r=[];g(t,function(t,e){e.path===i.path?n.push(e):r.push(e)}),this.error_holder&&(n.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",g(n,function(t,e){i.error_holder.appendChild(i.theme.getErrorMessage(e.message))})):this.error_holder.style.display="none")}});var e,i=(e=document.documentElement).matches?"matches":e.webkitMatchesSelector?"webkitMatchesSelector":e.mozMatchesSelector?"mozMatchesSelector":e.msMatchesSelector?"msMatchesSelector":e.oMatchesSelector?"oMatchesSelector":void 0;b.AbstractTheme=t.extend({getContainer:function(){return document.createElement("div")},getFloatRightLinkHolder:function(){var t=document.createElement("div");return t.style=t.style||{},t.style.cssFloat="right",t.style.marginLeft="10px",t},getModal:function(){var t=document.createElement("div");return t.style.backgroundColor="white",t.style.border="1px solid black",t.style.boxShadow="3px 3px black",t.style.position="absolute",t.style.zIndex="10",t.style.display="none",t},getGridContainer:function(){return document.createElement("div")},getGridRow:function(){var t=document.createElement("div");return t.className="row",t},getGridColumn:function(){return document.createElement("div")},setGridColumnSize:function(t,e){},getLink:function(t){var e=document.createElement("a");return e.setAttribute("href","#"),e.appendChild(document.createTextNode(t)),e},disableHeader:function(t){t.style.color="#ccc"},disableLabel:function(t){t.style.color="#ccc"},enableHeader:function(t){t.style.color=""},enableLabel:function(t){t.style.color=""},getInfoButton:function(t){var e=document.createElement("span");e.innerText="ⓘ",e.style.fontSize="16px",e.style.fontWeight="bold",e.style.padding=".25rem",e.style.position="relative",e.style.display="inline-block";var i=document.createElement("span");return i.style.fontSize="12px",e.style.fontWeight="normal",i.style["font-family"]="sans-serif",i.style.visibility="hidden",i.style["background-color"]="rgba(50, 50, 50, .75)",i.style.margin="0 .25rem",i.style.color="#FAFAFA",i.style.padding=".5rem 1rem",i.style["border-radius"]=".25rem",i.style.width="20rem",i.style.position="absolute",i.innerText=t,e.onmouseover=function(){i.style.visibility="visible"},e.onmouseleave=function(){i.style.visibility="hidden"},e.appendChild(i),e},getFormInputLabel:function(t){var e=document.createElement("label");return e.appendChild(document.createTextNode(t)),e},getCheckboxLabel:function(t){var e=this.getFormInputLabel(t);return e.style.fontWeight="normal",e},getHeader:function(t){var e=document.createElement("h3");return"string"==typeof t?e.textContent=t:e.appendChild(t),e},getCheckbox:function(){var t=this.getFormInputField("checkbox");return t.style.display="inline-block",t.style.width="auto",t},getMultiCheckboxHolder:function(t,e,i){var n=document.createElement("div");for(var r in e&&(e.style.display="block",n.appendChild(e)),t)t.hasOwnProperty(r)&&(t[r].style.display="inline-block",t[r].style.marginRight="20px",n.appendChild(t[r]));return i&&n.appendChild(i),n},getSelectInput:function(t){var e=document.createElement("select");return t&&this.setSelectOptions(e,t),e},getSwitcher:function(t){var e=this.getSelectInput(t);return e.style.backgroundColor="transparent",e.style.display="inline-block",e.style.fontStyle="italic",e.style.fontWeight="normal",e.style.height="auto",e.style.marginBottom=0,e.style.marginLeft="5px",e.style.padding="0 0 0 3px",e.style.width="auto",e},getSwitcherOptions:function(t){return t.getElementsByTagName("option")},setSwitcherOptions:function(t,e,i){this.setSelectOptions(t,e,i)},setSelectOptions:function(t,e,i){i=i||[],t.innerHTML="";for(var n=0;n<e.length;n++){var r=document.createElement("option");r.setAttribute("value",e[n]),r.textContent=i[n]||e[n],t.appendChild(r)}},getTextareaInput:function(){var t=document.createElement("textarea");return t.style=t.style||{},t.style.width="100%",t.style.height="300px",t.style.boxSizing="border-box",t},getRangeInput:function(t,e,i){var n=this.getFormInputField("range");return n.setAttribute("min",t),n.setAttribute("max",e),n.setAttribute("step",i),n},getFormInputField:function(t){var e=document.createElement("input");return e.setAttribute("type",t),e},afterInputReady:function(t){},getFormControl:function(t,e,i,n){var r=document.createElement("div");return r.className="form-control",t&&r.appendChild(t),"checkbox"===e.type?(t.insertBefore(e,t.firstChild),n&&t.appendChild(n)):(n&&t.appendChild(n),r.appendChild(e)),i&&r.appendChild(i),r},getIndentedPanel:function(){var t=document.createElement("div");return t.style=t.style||{},t.style.paddingLeft="10px",t.style.marginLeft="10px",t.style.borderLeft="1px solid #ccc",t},getChildEditorHolder:function(){return document.createElement("div")},getDescription:function(t){var e=document.createElement("p");return e.innerHTML=t,e},getCheckboxDescription:function(t){return this.getDescription(t)},getFormInputDescription:function(t){return this.getDescription(t)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("div")},getButton:function(t,e,i){var n=document.createElement("button");return n.type="button",this.setButtonText(n,t,e,i),n},setButtonText:function(t,e,i,n){t.innerHTML="",i&&(t.appendChild(i),t.innerHTML+=" "),t.appendChild(document.createTextNode(e)),n&&t.setAttribute("title",n)},getTable:function(){return document.createElement("table")},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(t){var e=document.createElement("th");return e.textContent=t,e},getTableCell:function(){return document.createElement("td")},getErrorMessage:function(t){var e=document.createElement("p");return e.style=e.style||{},e.style.color="red",e.appendChild(document.createTextNode(t)),e},addInputError:function(t,e){},removeInputError:function(t){},addTableRowError:function(t){},removeTableRowError:function(t){},getTabHolder:function(){var t=document.createElement("div");return t.innerHTML="<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>",t},applyStyles:function(t,e){for(var i in t.style=t.style||{},e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},closest:function(t,e){for(;t&&t!==document;){if(!t[i])return!1;if(t[i](e))return t;t=t.parentNode}return!1},getTab:function(t){var e=document.createElement("div");return e.appendChild(t),e.style=e.style||{},this.applyStyles(e,{border:"1px solid #ccc",borderWidth:"1px 0 1px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",borderBottomRightRadius:0,borderTopRightRadius:0,fontWeight:"bold",cursor:"pointer"}),e},getTabContentHolder:function(t){return t.children[1]},getTabContent:function(){return this.getIndentedPanel()},markTabActive:function(t){this.applyStyles(t,{opacity:1,background:"white"})},markTabInactive:function(t){this.applyStyles(t,{opacity:.5,background:""})},addTab:function(t,e){t.children[0].appendChild(e)},getBlockLink:function(){var t=document.createElement("a");return t.style.display="block",t},getBlockLinkHolder:function(){return document.createElement("div")},getLinksHolder:function(){return document.createElement("div")},createMediaLink:function(t,e,i){t.appendChild(e),i.style.width="100%",t.appendChild(i)},createImageLink:function(t,e,i){t.appendChild(e),e.appendChild(i)}}),b.defaults.themes.bootstrap2=b.AbstractTheme.extend({getRangeInput:function(t,e,i){return this._super(t,e,i)},getGridContainer:function(){var t=document.createElement("div");return t.className="container-fluid",t},getGridRow:function(){var t=document.createElement("div");return t.className="row-fluid",t},getFormInputLabel:function(t){var e=this._super(t);return e.style.display="inline-block",e.style.fontWeight="bold",e},setGridColumnSize:function(t,e){t.className="span"+e},getSelectInput:function(t){var e=this._super(t);return e.style.width="auto",e.style.maxWidth="98%",e},getFormInputField:function(t){var e=this._super(t);return e.style.width="98%",e},afterInputReady:function(t){t.controlgroup||(t.controlgroup=this.closest(t,".control-group"),t.controls=this.closest(t,".controls"),this.closest(t,".compact")&&(t.controlgroup.className=t.controlgroup.className.replace(/control-group/g,"").replace(/[ ]{2,}/g," "),t.controls.className=t.controlgroup.className.replace(/controls/g,"").replace(/[ ]{2,}/g," "),t.style.marginBottom=0))},getIndentedPanel:function(){var t=document.createElement("div");return t.className="well well-small",t.style.paddingBottom=0,t},getInfoButton:function(t){var e=document.createElement("span");e.className="icon-info-sign pull-right",e.style.padding=".25rem",e.style.position="relative",e.style.display="inline-block";var i=document.createElement("span");return i.style["font-family"]="sans-serif",i.style.visibility="hidden",i.style["background-color"]="rgba(50, 50, 50, .75)",i.style.margin="0 .25rem",i.style.color="#FAFAFA",i.style.padding=".5rem 1rem",i.style["border-radius"]=".25rem",i.style.width="25rem",i.style.transform="translateX(-27rem) translateY(-.5rem)",i.style.position="absolute",i.innerText=t,e.onmouseover=function(){i.style.visibility="visible"},e.onmouseleave=function(){i.style.visibility="hidden"},e.appendChild(i),e},getFormInputDescription:function(t){var e=document.createElement("p");return e.className="help-inline",e.textContent=t,e},getFormControl:function(t,e,i,n){var r=document.createElement("div");r.className="control-group";var s=document.createElement("div");return s.className="controls",t&&"checkbox"===e.getAttribute("type")?(r.appendChild(s),t.className+=" checkbox",t.appendChild(e),s.appendChild(t),n&&s.appendChild(n),s.style.height="30px"):(t&&(t.className+=" control-label",r.appendChild(t)),n&&s.appendChild(n),s.appendChild(e),r.appendChild(s)),i&&s.appendChild(i),r},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.style.marginLeft="10px",t},getButtonHolder:function(){var t=document.createElement("div");return t.className="btn-group",t},getButton:function(t,e,i){var n=this._super(t,e,i);return n.className+=" btn btn-default",n},getTable:function(){var t=document.createElement("table");return t.className="table table-bordered",t.style.width="auto",t.style.maxWidth="none",t},addInputError:function(t,e){t.controlgroup&&t.controls&&(t.controlgroup.className+=" error",t.errmsg?t.errmsg.style.display="":(t.errmsg=document.createElement("p"),t.errmsg.className="help-block errormsg",t.controls.appendChild(t.errmsg)),t.errmsg.textContent=e)},removeInputError:function(t){t.errmsg&&(t.errmsg.style.display="none",t.controlgroup.className=t.controlgroup.className.replace(/\s?error/g,""))},getTabHolder:function(){var t=document.createElement("div");return t.className="tabbable tabs-left",t.innerHTML="<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>",t},getTab:function(t){var e=document.createElement("li"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(t),e.appendChild(i),e},getTabContentHolder:function(t){return t.children[1]},getTabContent:function(){var t=document.createElement("div");return t.className="tab-pane active",t},markTabActive:function(t){t.className+=" active"},markTabInactive:function(t){t.className=t.className.replace(/\s?active/g,"")},addTab:function(t,e){t.children[0].appendChild(e)},getProgressBar:function(){var t=document.createElement("div");t.className="progress";var e=document.createElement("div");return e.className="bar",e.style.width="0%",t.appendChild(e),t},updateProgressBar:function(t,e){t&&(t.firstChild.style.width=e+"%")},updateProgressBarUnknown:function(t){t&&(t.className="progress progress-striped active",t.firstChild.style.width="100%")}}),b.defaults.themes.bootstrap3=b.AbstractTheme.extend({getSelectInput:function(t){var e=this._super(t);return e.className+="form-control",e},setGridColumnSize:function(t,e){t.className="col-md-"+e},afterInputReady:function(t){t.controlgroup||(t.controlgroup=this.closest(t,".form-group"),this.closest(t,".compact")&&(t.controlgroup.style.marginBottom=0))},getTextareaInput:function(){var t=document.createElement("textarea");return t.className="form-control",t},getRangeInput:function(t,e,i){return this._super(t,e,i)},getFormInputField:function(t){var e=this._super(t);return"checkbox"!==t&&(e.className+="form-control"),e},getFormControl:function(t,e,i,n){var r=document.createElement("div");return t&&"checkbox"===e.type?(r.className+=" checkbox",t.appendChild(e),t.style.fontSize="14px",r.style.marginTop="0",n&&r.appendChild(n),r.appendChild(t),e.style.position="relative",e.style.cssFloat="left"):(r.className+=" form-group",t&&(t.className+=" control-label",r.appendChild(t)),n&&r.appendChild(n),r.appendChild(e)),i&&r.appendChild(i),r},getIndentedPanel:function(){var t=document.createElement("div");return t.className="well well-sm",t.style.paddingBottom=0,t},getInfoButton:function(t){var e=document.createElement("span");e.className="glyphicon glyphicon-info-sign pull-right",e.style.padding=".25rem",e.style.position="relative",e.style.display="inline-block";var i=document.createElement("span");return i.style["font-family"]="sans-serif",i.style.visibility="hidden",i.style["background-color"]="rgba(50, 50, 50, .75)",i.style.margin="0 .25rem",i.style.color="#FAFAFA",i.style.padding=".5rem 1rem",i.style["border-radius"]=".25rem",i.style.width="25rem",i.style.transform="translateX(-27rem) translateY(-.5rem)",i.style.position="absolute",i.innerText=t,e.onmouseover=function(){i.style.visibility="visible"},e.onmouseleave=function(){i.style.visibility="hidden"},e.appendChild(i),e},getFormInputDescription:function(t){var e=document.createElement("p");return e.className="help-block",e.innerHTML=t,e},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.style.marginLeft="10px",t},getButtonHolder:function(){var t=document.createElement("div");return t.className="btn-group",t},getButton:function(t,e,i){var n=this._super(t,e,i);return n.className+="btn btn-default",n},getTable:function(){var t=document.createElement("table");return t.className="table table-bordered",t.style.width="auto",t.style.maxWidth="none",t},addInputError:function(t,e){t.controlgroup&&(t.controlgroup.className+=" has-error",t.errmsg?t.errmsg.style.display="":(t.errmsg=document.createElement("p"),t.errmsg.className="help-block errormsg",t.controlgroup.appendChild(t.errmsg)),t.errmsg.textContent=e)},removeInputError:function(t){t.errmsg&&(t.errmsg.style.display="none",t.controlgroup.className=t.controlgroup.className.replace(/\s?has-error/g,""))},getTabHolder:function(){var t=document.createElement("div");return t.innerHTML="<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>",t.className="rows",t},getTab:function(t){var e=document.createElement("a");return e.className="list-group-item",e.setAttribute("href","#"),e.appendChild(t),e},markTabActive:function(t){t.className+=" active"},markTabInactive:function(t){t.className=t.className.replace(/\s?active/g,"")},getProgressBar:function(){var t=document.createElement("div");t.className="progress";var e=document.createElement("div");return e.className="progress-bar",e.setAttribute("role","progressbar"),e.setAttribute("aria-valuenow",0),e.setAttribute("aria-valuemin",0),e.setAttribute("aria-valuenax",100),e.innerHTML="0%",t.appendChild(e),t},updateProgressBar:function(t,e){if(t){var i=t.firstChild,n=e+"%";i.setAttribute("aria-valuenow",e),i.style.width=n,i.innerHTML=n}},updateProgressBarUnknown:function(t){if(t){var e=t.firstChild;t.className="progress progress-striped active",e.removeAttribute("aria-valuenow"),e.style.width="100%",e.innerHTML=""}}}),b.defaults.themes.foundation=b.AbstractTheme.extend({getChildEditorHolder:function(){var t=document.createElement("div");return t.style.marginBottom="15px",t},getSelectInput:function(t){var e=this._super(t);return e.style.minWidth="none",e.style.padding="5px",e.style.marginTop="3px",e},getSwitcher:function(t){var e=this._super(t);return e.style.paddingRight="8px",e},afterInputReady:function(t){this.closest(t,".compact")&&(t.style.marginBottom=0),t.group=this.closest(t,".form-control")},getFormInputLabel:function(t){var e=this._super(t);return e.style.display="inline-block",e},getFormInputField:function(t){var e=this._super(t);return e.style.width="100%",e.style.marginBottom="checkbox"===t?"0":"12px",e},getFormInputDescription:function(t){var e=document.createElement("p");return e.textContent=t,e.style.marginTop="-10px",e.style.fontStyle="italic",e},getIndentedPanel:function(){var t=document.createElement("div");return t.className="panel",t.style.paddingBottom=0,t},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.style.display="inline-block",t.style.marginLeft="10px",t.style.verticalAlign="middle",t},getButtonHolder:function(){var t=document.createElement("div");return t.className="button-group",t},getButton:function(t,e,i){var n=this._super(t,e,i);return n.className+=" small button",n},addInputError:function(t,e){t.group&&(t.group.className+=" error",t.errmsg?t.errmsg.style.display="":(t.insertAdjacentHTML("afterend",'<small class="error"></small>'),t.errmsg=t.parentNode.getElementsByClassName("error")[0]),t.errmsg.textContent=e)},removeInputError:function(t){t.errmsg&&(t.group.className=t.group.className.replace(/ error/g,""),t.errmsg.style.display="none")},getProgressBar:function(){var t=document.createElement("div");t.className="progress";var e=document.createElement("span");return e.className="meter",e.style.width="0%",t.appendChild(e),t},updateProgressBar:function(t,e){t&&(t.firstChild.style.width=e+"%")},updateProgressBarUnknown:function(t){t&&(t.firstChild.style.width="100%")}}),b.defaults.themes.foundation3=b.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var t=this._super();return t.style.fontSize=".6em",t},getFormInputLabel:function(t){var e=this._super(t);return e.style.fontWeight="bold",e},getTabHolder:function(){var t=document.createElement("div");return t.className="row",t.innerHTML="<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>",t},setGridColumnSize:function(t,e){t.className="columns "+["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"][e]},getTab:function(t){var e=document.createElement("dd"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(t),e.appendChild(i),e},getTabContentHolder:function(t){return t.children[1]},getTabContent:function(){var t=document.createElement("div");return t.className="content active",t.style.paddingLeft="5px",t},markTabActive:function(t){t.className+=" active"},markTabInactive:function(t){t.className=t.className.replace(/\s*active/g,"")},addTab:function(t,e){t.children[0].appendChild(e)}}),b.defaults.themes.foundation4=b.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var t=this._super();return t.style.fontSize=".6em",t},setGridColumnSize:function(t,e){t.className="columns large-"+e},getFormInputDescription:function(t){var e=this._super(t);return e.style.fontSize=".8rem",e},getFormInputLabel:function(t){var e=this._super(t);return e.style.fontWeight="bold",e}}),b.defaults.themes.foundation5=b.defaults.themes.foundation.extend({getFormInputDescription:function(t){var e=this._super(t);return e.style.fontSize=".8rem",e},setGridColumnSize:function(t,e){t.className="columns medium-"+e},getButton:function(t,e,i){var n=this._super(t,e,i);return n.className=n.className.replace(/\s*small/g,"")+" tiny",n},getTabHolder:function(){var t=document.createElement("div");return t.innerHTML="<dl class='tabs vertical'></dl><div class='tabs-content vertical'></div>",t},getTab:function(t){var e=document.createElement("dd"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(t),e.appendChild(i),e},getTabContentHolder:function(t){return t.children[1]},getTabContent:function(){var t=document.createElement("div");return t.className="content active",t.style.paddingLeft="5px",t},markTabActive:function(t){t.className+=" active"},markTabInactive:function(t){t.className=t.className.replace(/\s*active/g,"")},addTab:function(t,e){t.children[0].appendChild(e)}}),b.defaults.themes.foundation6=b.defaults.themes.foundation5.extend({getIndentedPanel:function(){var t=document.createElement("div");return t.className="callout secondary",t},getButtonHolder:function(){var t=document.createElement("div");return t.className="button-group tiny",t.style.marginBottom=0,t},getFormInputLabel:function(t){var e=this._super(t);return e.style.display="block",e},getFormControl:function(t,e,i,n){var r=document.createElement("div");return r.className="form-control",t&&r.appendChild(t),"checkbox"===e.type?t.insertBefore(e,t.firstChild):t?(n&&t.appendChild(n),t.appendChild(e)):(n&&r.appendChild(n),r.appendChild(e)),i&&t.appendChild(i),r},addInputError:function(t,e){if(t.group){if(t.group.className+=" error",t.errmsg)t.errmsg.style.display="",t.className="";else{var i=document.createElement("span");i.className="form-error is-visible",t.group.getElementsByTagName("label")[0].appendChild(i),t.className=t.className+" is-invalid-input",t.errmsg=i}t.errmsg.textContent=e}},removeInputError:function(t){t.errmsg&&(t.className=t.className.replace(/ is-invalid-input/g,""),t.errmsg.parentNode&&t.errmsg.parentNode.removeChild(t.errmsg))}}),b.defaults.themes.html=b.AbstractTheme.extend({getFormInputLabel:function(t){var e=this._super(t);return e.style.display="block",e.style.marginBottom="3px",e.style.fontWeight="bold",e},getFormInputDescription:function(t){var e=this._super(t);return e.style.fontSize=".8em",e.style.margin=0,e.style.display="inline-block",e.style.fontStyle="italic",e},getIndentedPanel:function(){var t=this._super();return t.style.border="1px solid #ddd",t.style.padding="5px",t.style.margin="5px",t.style.borderRadius="3px",t},getChildEditorHolder:function(){var t=this._super();return t.style.marginBottom="8px",t},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.style.display="inline-block",t.style.marginLeft="10px",t.style.fontSize=".8em",t.style.verticalAlign="middle",t},getTable:function(){var t=this._super();return t.style.borderBottom="1px solid #ccc",t.style.marginBottom="5px",t},addInputError:function(t,e){if(t.style.borderColor="red",t.errmsg)t.errmsg.style.display="block";else{var i=this.closest(t,".form-control");t.errmsg=document.createElement("div"),t.errmsg.setAttribute("class","errmsg"),t.errmsg.style=t.errmsg.style||{},t.errmsg.style.color="red",i.appendChild(t.errmsg)}t.errmsg.innerHTML="",t.errmsg.appendChild(document.createTextNode(e))},removeInputError:function(t){t.style.borderColor="",t.errmsg&&(t.errmsg.style.display="none")},getProgressBar:function(){var t=document.createElement("progress");return t.setAttribute("max",100),t.setAttribute("value",0),t},updateProgressBar:function(t,e){t&&t.setAttribute("value",e)},updateProgressBarUnknown:function(t){t&&t.removeAttribute("value")}}),b.defaults.themes.jqueryui=b.AbstractTheme.extend({getTable:function(){var t=this._super();return t.setAttribute("cellpadding",5),t.setAttribute("cellspacing",0),t},getTableHeaderCell:function(t){var e=this._super(t);return e.className="ui-state-active",e.style.fontWeight="bold",e},getTableCell:function(){var t=this._super();return t.className="ui-widget-content",t},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.style.marginLeft="10px",t.style.fontSize=".6em",t.style.display="inline-block",t},getFormInputDescription:function(t){var e=this.getDescription(t);return e.style.marginLeft="10px",e.style.display="inline-block",e},getFormControl:function(t,e,i,n){var r=this._super(t,e,i,n);return"checkbox"===e.type?(r.style.lineHeight="25px",r.style.padding="3px 0"):r.style.padding="4px 0 8px 0",r},getDescription:function(t){var e=document.createElement("span");return e.style.fontSize=".8em",e.style.fontStyle="italic",e.textContent=t,e},getButtonHolder:function(){var t=document.createElement("div");return t.className="ui-buttonset",t.style.fontSize=".7em",t},getFormInputLabel:function(t){var e=document.createElement("label");return e.style.fontWeight="bold",e.style.display="block",e.textContent=t,e},getButton:function(t,e,i){var n=document.createElement("button");n.className="ui-button ui-widget ui-state-default ui-corner-all",e&&!t?(n.className+=" ui-button-icon-only",e.className+=" ui-button-icon-primary ui-icon-primary",n.appendChild(e)):e?(n.className+=" ui-button-text-icon-primary",e.className+=" ui-button-icon-primary ui-icon-primary",n.appendChild(e)):n.className+=" ui-button-text-only";var r=document.createElement("span");return r.className="ui-button-text",r.textContent=t||i||".",n.appendChild(r),n.setAttribute("title",i),n},setButtonText:function(t,e,i,n){t.innerHTML="",t.className="ui-button ui-widget ui-state-default ui-corner-all",i&&!e?(t.className+=" ui-button-icon-only",i.className+=" ui-button-icon-primary ui-icon-primary",t.appendChild(i)):i?(t.className+=" ui-button-text-icon-primary",i.className+=" ui-button-icon-primary ui-icon-primary",t.appendChild(i)):t.className+=" ui-button-text-only";var r=document.createElement("span");r.className="ui-button-text",r.textContent=e||n||".",t.appendChild(r),t.setAttribute("title",n)},getIndentedPanel:function(){var t=document.createElement("div");return t.className="ui-widget-content ui-corner-all",t.style.padding="1em 1.4em",t.style.marginBottom="20px",t},afterInputReady:function(t){t.controls||(t.controls=this.closest(t,".form-control"))},addInputError:function(t,e){t.controls&&(t.errmsg?t.errmsg.style.display="":(t.errmsg=document.createElement("div"),t.errmsg.className="ui-state-error",t.controls.appendChild(t.errmsg)),t.errmsg.textContent=e)},removeInputError:function(t){t.errmsg&&(t.errmsg.style.display="none")},markTabActive:function(t){t.className=t.className.replace(/\s*ui-widget-header/g,"")+" ui-state-active"},markTabInactive:function(t){t.className=t.className.replace(/\s*ui-state-active/g,"")+" ui-widget-header"}}),b.defaults.themes.barebones=b.AbstractTheme.extend({getFormInputLabel:function(t){return this._super(t)},getFormInputDescription:function(t){return this._super(t)},getIndentedPanel:function(){return this._super()},getChildEditorHolder:function(){return this._super()},getHeaderButtonHolder:function(){return this.getButtonHolder()},getTable:function(){return this._super()},addInputError:function(t,e){if(t.errmsg)t.errmsg.style.display="block";else{var i=this.closest(t,".form-control");t.errmsg=document.createElement("div"),t.errmsg.setAttribute("class","errmsg"),i.appendChild(t.errmsg)}t.errmsg.innerHTML="",t.errmsg.appendChild(document.createTextNode(e))},removeInputError:function(t){t.style.borderColor="",t.errmsg&&(t.errmsg.style.display="none")},getProgressBar:function(){var t=document.createElement("progress");return t.setAttribute("max",100),t.setAttribute("value",0),t},updateProgressBar:function(t,e){t&&t.setAttribute("value",e)},updateProgressBarUnknown:function(t){t&&t.removeAttribute("value")}}),b.AbstractIconLib=t.extend({mapping:{collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},icon_prefix:"",getIconClass:function(t){return this.mapping[t]?this.icon_prefix+this.mapping[t]:null},getIcon:function(t){var e=this.getIconClass(t);if(!e)return null;var i=document.createElement("i");return i.className=e,i}}),b.defaults.iconlibs.bootstrap2=b.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-up",delete:"trash",edit:"pencil",add:"plus",cancel:"ban-circle",save:"ok",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),b.defaults.iconlibs.bootstrap3=b.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"glyphicon glyphicon-"}),b.defaults.iconlibs.fontawesome3=b.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"ban-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),b.defaults.iconlibs.fontawesome4=b.AbstractIconLib.extend({mapping:{collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"}),b.defaults.iconlibs.foundation2=b.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"remove",edit:"edit",add:"add-doc",cancel:"error",save:"checkmark",moveup:"up-arrow",movedown:"down-arrow"},icon_prefix:"foundicon-"}),b.defaults.iconlibs.foundation3=b.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"x",edit:"pencil",add:"page-add",cancel:"x-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fi-"}),b.defaults.iconlibs.jqueryui=b.AbstractIconLib.extend({mapping:{collapse:"triangle-1-s",expand:"triangle-1-e",delete:"trash",edit:"pencil",add:"plusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",movedown:"arrowthick-1-s"},icon_prefix:"ui-icon ui-icon-"}),b.defaults.templates.default=function(){return{compile:function(n){var s=n.match(/{{\s*([a-zA-Z0-9\-_ \.]+)\s*}}/g),r=s&&s.length;if(!r)return function(){return n};for(var o=[],t=function(e){var t,i,n=s[e].replace(/[{}]+/g,"").trim().split("."),r=n.length;1<r?t=function(t){for(i=t,e=0;e<r&&(i=i[n[e]]);e++);return i}:(n=n[0],t=function(t){return t[n]});o.push({s:s[e],r:t})},a=0;a<r;a++)t(a);return function(t){var e,i=n+"";for(a=0;a<r;a++)e=o[a],i=i.replace(e.s,e.r(t));return i}}}},b.defaults.templates.ejs=function(){return!!window.EJS&&{compile:function(t){var e=new window.EJS({text:t});return function(t){return e.render(t)}}}},b.defaults.templates.handlebars=function(){return window.Handlebars},b.defaults.templates.hogan=function(){return!!window.Hogan&&{compile:function(t){var e=window.Hogan.compile(t);return function(t){return e.render(t)}}}},b.defaults.templates.markup=function(){return!(!window.Mark||!window.Mark.up)&&{compile:function(e){return function(t){return window.Mark.up(e,t)}}}},b.defaults.templates.mustache=function(){return!!window.Mustache&&{compile:function(e){return function(t){return window.Mustache.render(e,t)}}}},b.defaults.templates.swig=function(){return window.swig},b.defaults.templates.underscore=function(){return!!window._&&{compile:function(e){return function(t){return window._.template(e,t)}}}},b.defaults.theme="html",b.defaults.template="default",b.defaults.options={},b.defaults.translate=function(t,e){var i=b.defaults.languages[b.defaults.language];if(!i)throw"Unknown language "+b.defaults.language;var n=i[t]||b.defaults.languages[b.defaults.default_language][t];if(void 0===n)throw"Unknown translate string "+t;if(e)for(var r=0;r<e.length;r++)n=n.replace(new RegExp("\\{\\{"+r+"}}","g"),e[r]);return n},b.defaults.default_language="en",b.defaults.language=b.defaults.default_language,b.defaults.languages.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_dependency:"Must have property {{0}}",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_collapse:"Collapse",button_expand:"Expand"},b.plugins={ace:{theme:""},epiceditor:{},sceditor:{},select2:{},selectize:{}},g(b.defaults.editors,function(t,e){b.defaults.editors[t].options=e.options||{}}),b.defaults.resolvers.unshift(function(t){if("string"!=typeof t.type)return"multiple"}),b.defaults.resolvers.unshift(function(t){if(!t.type&&t.properties)return"object"}),b.defaults.resolvers.unshift(function(t){if("string"==typeof t.type)return t.type}),b.defaults.resolvers.unshift(function(t){if("boolean"===t.type)return"checkbox"===t.format||t.options&&t.options.checkbox?"checkbox":b.plugins.selectize.enable?"selectize":"select"}),b.defaults.resolvers.unshift(function(t){if("any"===t.type)return"multiple"}),b.defaults.resolvers.unshift(function(t){if("string"===t.type&&t.media&&"base64"===t.media.binaryEncoding)return"base64"}),b.defaults.resolvers.unshift(function(t){if("string"===t.type&&"url"===t.format&&t.options&&!0===t.options.upload&&window.FileReader)return"upload"}),b.defaults.resolvers.unshift(function(t){if("array"==t.type&&"table"==t.format)return"table"}),b.defaults.resolvers.unshift(function(t){if(t.enumSource)return b.plugins.selectize.enable?"selectize":"select"}),b.defaults.resolvers.unshift(function(t){if(t.enum){if("array"===t.type||"object"===t.type)return"enum";if("number"===t.type||"integer"===t.type||"string"===t.type)return b.plugins.selectize.enable?"selectize":"select"}}),b.defaults.resolvers.unshift(function(t){if("array"===t.type&&t.items&&!Array.isArray(t.items)&&t.uniqueItems&&0<=["string","number","integer"].indexOf(t.items.type)){if(t.items.enum)return"multiselect";if(b.plugins.selectize.enable&&"string"===t.items.type)return"arraySelectize"}}),b.defaults.resolvers.unshift(function(t){if(t.oneOf||t.anyOf)return"multiple"}),function(){if(window.jQuery||window.Zepto){var t=window.jQuery||window.Zepto;t.jsoneditor=b.defaults,t.fn.jsoneditor=function(t){var e=this,i=this.data("jsoneditor");if("value"===t){if(!i)throw"Must initialize jsoneditor before getting/setting the value";if(!(1<arguments.length))return i.getValue();i.setValue(arguments[1])}else{if("validate"===t){if(!i)throw"Must initialize jsoneditor before validating";return 1<arguments.length?i.validate(arguments[1]):i.validate()}"destroy"===t?i&&(i.destroy(),this.data("jsoneditor",null)):(i&&i.destroy(),i=new b(this.get(0),t),this.data("jsoneditor",i),i.on("change",function(){e.trigger("change")}),i.on("ready",function(){e.trigger("ready")}))}return this}}}(),window.JSONEditor=b}(),Mautic.mediaProvider=function(){mQuery('select[name="media[provider]"]:first').change(function(){var t=mQuery(this).val(),e=mQuery('input[name="media[account_id]"]:first'),i=mQuery('input[name="media[client_id]"]:first'),n=mQuery('input[name="media[client_secret]"]:first'),r=mQuery('input[name="media[token]"]:first'),s=mQuery('input[name="media[refresh_token]"]:first'),o=mQuery("input#media-callback-uri"),a=o.val();switch(t){case"facebook":e.parent().removeClass("hide"),i.parent().removeClass("hide"),n.parent().removeClass("hide"),r.parent().removeClass("hide"),s.parent().addClass("hide");break;case"google":e.parent().addClass("hide"),i.parent().removeClass("hide"),n.parent().removeClass("hide"),r.parent().removeClass("hide"),s.parent().removeClass("hide");break;case"snapchat":e.parent().removeClass("hide"),i.parent().removeClass("hide"),n.parent().removeClass("hide"),r.parent().removeClass("hide"),s.parent().removeClass("hide");break;case"bing":e.parent().addClass("hide"),i.parent().removeClass("hide"),n.parent().removeClass("hide"),r.parent().removeClass("hide"),s.parent().addClass("hide")}e.parent().find("label:first").text(Mautic.translate("mautic.media.form.provider."+t+".account_id")),i.parent().find("label:first").text(Mautic.translate("mautic.media.form.provider."+t+".client_id")),n.parent().find("label:first").text(Mautic.translate("mautic.media.form.provider."+t+".client_secret")),r.parent().find("label:first").text(Mautic.translate("mautic.media.form.provider."+t+".token")),s.parent().find("label:first").text(Mautic.translate("mautic.media.form.provider."+t+".refresh_token"));var l=a.split("/");l.pop(),l.push(t),o.val(l.join("/"))}).trigger("change")},JSONEditor.defaults.themes.custom=JSONEditor.defaults.themes.bootstrap3.extend({getRangeInput:function(t,e,i){var n=this._super(t,e,i);return n.className=n.className.replace("form-control",""),n},getButton:function(t,e,i){var n=this._super(t,e,i);return-1!==i.indexOf("Delete")?n.className=n.className.replace("btn-default","btn-sm btn-xs btn-danger"):-1!==i.indexOf("Add")?n.className=n.className.replace("btn-default","btn-md btn-primary"):n.className=n.className.replace("btn-default","btn-sm btn-xs btn-secondary"),n},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.className="btn-group btn-group-sm btn-right",t},getButtonHolder:function(){var t=document.createElement("div");return t.className="btn-group btn-left",t},getHeader:function(t){var e=document.createElement("h3");return e.onclick=function(t){t.preventDefault(),t.stopPropagation();var e=mQuery(this).find("> div.btn-group > button.json-editor-btn-collapse:first:visible");if(e.length){var i=e[0];if(i){var n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});i.dispatchEvent(n)}}},"string"==typeof t?e.textContent=t:e.appendChild(t),e}}),JSONEditor.defaults.iconlibs.custom=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"caret-down",expand:"caret-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"}),JSONEditor.defaults.options.ajax=!1,JSONEditor.defaults.options.theme="custom",JSONEditor.defaults.options.iconlib="custom",JSONEditor.defaults.options.disable_edit_json=!0,JSONEditor.defaults.options.disable_properties=!0,JSONEditor.defaults.options.disable_array_delete_all_rows=!0,JSONEditor.defaults.options.disable_array_delete_last_row=!0,JSONEditor.defaults.options.remove_empty_properties=!1,JSONEditor.defaults.options.required_by_default=!0,JSONEditor.defaults.options.expand_height=!0,JSONEditor.defaults.options.keep_oneof_values=!1,JSONEditor.defaults.custom_validators.push(function(t,e,l){var d=[];if("textarea"===t.format&&void 0!==t.options&&!0===t.options.queryBuilder&&mQuery("textarea[name='"+l.replace("root.","root[").split(".").join("][")+"]']:first").each(function(){var t,n=mQuery(this),e=n.val(),r={},i=!1,s=n.hasClass("queryBuilder-checked");if(e.length){try{"object"!=typeof(r=mQuery.parseJSON(e))&&(i=!0,d.push({path:l,property:"format",message:"This Query Builder field does not contain an object."}))}catch(t){i=!0,d.push({path:l,property:"format",message:"Could not parse the JSON in this Query Builder field."})}if(!i)if(s){var o=n.next(".query-builder"),a=o.queryBuilder("getRules",Mautic.contactclientQBDefaultGet);if(e!==JSON.stringify(a,null,2))try{o.queryBuilder("setRules",r)}catch(t){i=!0,d.push({path:l,property:"format",message:"This Query Builder field is invalid."})}}else mQuery("<div>",{id:"success-definition-"+l.split(".")[2],class:"query-builder"}).insertAfter(n).queryBuilder(Mautic.contactclientQBDefaultSettings).on("rulesChanged.queryBuilder",function(){var i=mQuery(this);clearTimeout(t),t=setTimeout(function(){r=i.queryBuilder("getRules",Mautic.contactclientQBDefaultGet);var t=JSON.stringify(r,null,2);if(n.val()!==t)if(n.val(t),"createEvent"in document){var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),n[0].dispatchEvent(e)}else n[0].fireEvent("onchange")},50)}),n.addClass("queryBuilder-checked")}}).addClass("hide"),void 0!==t.options&&!0===t.options.codeMirror){var i="[name='"+l.replace("root.","root[").split(".").join("][")+"]']:first:not(.codeMirror-checked)";mQuery("input"+i+", textarea"+i).first().each(function(){if("undefined"!==t.options.tokenSource&&t.options.tokenSource.length)var m=t.options.tokenSource;var i=mQuery(this),e=i.is("textarea"),g="  ",n=function(f,t){return new Promise(function(c){clearTimeout(t);var p=function(t,e,i,n){if(i=e===i?"{{ "+e+" }}":"{{ "+e+" }}"+g+i,void 0!==window.JSONEditor.tokenCacheTypes[m][e]){var r=window.JSONEditor.tokenCacheTypes[m][e];i+="  ("+r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()+")"}-1===t.indexOf(i)&&(void 0!==n&&n?t.unshift(i):t.push(i))},t=setTimeout(function(){if(f.getSelection())return c(null);if(void 0!==window.JSONEditor.tokenCache[m]){var t=f.getCursor(),e=f.getLine(t.line),i=t.ch,n=t.ch,s=!1,r=new RegExp("[\\s|\\w|{|\\.|\\|]"),o=new RegExp("[\\s|\\w|}|\\.|\\|]"),a=0;if(i&&/[}]/.test(e.charAt(i-1)))for(--i&&/[}]/.test(e.charAt(i-1))&&--i;i&&/[\s]/.test(e.charAt(i-1));)--i;for(;i&&a<2&&(r.test(e.charAt(i-1))||" "===e.charAt(i-1)&&r.test(e.charAt(i-2)));)"{"===e.charAt(i-1)&&++a,--i;for(a=0;n<e.length&&a<2&&o.test(e.charAt(n));)"}"===e.charAt(n)&&++a,++n;var l=e.slice(i,n).split("|"),d=l[0].replace(/[\s|{|}]/g,""),h=d.length,u=[];return 2<=h&&(mQuery.each(window.JSONEditor.tokenCache[m],function(t,e){if(t.length===h&&t===d){p(u,t,e);var n=2===l.length?l[1].replace(/[\s|{|}]/g,""):"";if(void 0!==window.JSONEditor.tokenCacheTypes[m][d]){var r=window.JSONEditor.tokenCacheTypes[m][d];void 0!==window.JSONEditor.tokenCacheFormats[m][r]&&mQuery.each(window.JSONEditor.tokenCacheFormats[m][r],function(t,e){if("date"===r||"datetime"===r||"time"===r)if("PT1S"===e)e="Example: 59  ("+e+")";else if("PT1M"===e)e="Example: 45  ("+e+")";else if("PT1H"===e)e="Example: 12  ("+e+")";else if("P1D"===e)e="Example: 7  ("+e+")";else if("P1W"===e)e="Example: 4  ("+e+")";else if("P1M"===e)e="Example: 6  ("+e+")";else if("P1Y"===e)e="Example: 55  ("+e+")";else{e="Example: "+(new Date).format(e)+g+"("+e.replace(/\\/g,"")+")"}var i=-1!==t.indexOf(".")?t:r+"."+t;p(u,d+" | "+i,e,n.length&&i.substr(0,n.length)===n),s=!0}),s||console.log("No token formatting suggestions provided for field type: "+r)}if(10<=u.length)return!1}}),u.length<10&&mQuery.each(window.JSONEditor.tokenCache[m],function(t,e){t.length>h&&t.substr(0,h)===d&&p(u,t,e)}),u.length<10&&mQuery.each(window.JSONEditor.tokenCache[m],function(t,e){if(e.length>h&&e.substr(0,h)===d&&(p(u,t,e),10===u.length))return!1}),u.length<10&&mQuery.each(window.JSONEditor.tokenCache[m],function(t,e){if(t.length>h&&(-1!==t.indexOf(d)||-1!==d.indexOf(t))&&(p(u,t,e),10===u.length))return!1}),u.length<10&&mQuery.each(window.JSONEditor.tokenCache[m],function(t,e){if(e.length>h&&(-1!==e.indexOf(d)||-1!==d.indexOf(e))&&(p(u,t,e),10===u.length))return!1}),u.length<5&&mQuery.each(window.JSONEditor.tokenCache[m],function(t,e){if(t.length>=h&&levenshtein(d,t)<5&&(p(u,t,e),5===u.length))return!1}),u.length<5&&mQuery.each(window.JSONEditor.tokenCache[m],function(t,e){if(e.length>=h&&levenshtein(d,e)<5&&(p(u,t,e),5===u.length))return!1}),u.length)?(setTimeout(function(){b(f,m)},100),c({list:u,from:CodeMirror.Pos(t.line,i),to:CodeMirror.Pos(t.line,n)})):c(null)}},250)})},b=function(r,t){if(null!==r.state.completionActive&&void 0!==r.state.completionActive.data&&r.state.completionActive.data){var s=r.state.completionActive.data;CodeMirror.on(r.state.completionActive.data,"pick",function(t,e){var i=t.split(g);if(1<i.length){var n=r.state.completionActive&&void 0!==r.state.completionActive.data?r.state.completionActive.data:s;r.replaceRange(i[0],n.from,{ch:n.from.ch+t.length,line:n.from.line},"complete")}})}},r=e?{mode:"json/mustache",lint:"json",theme:"cc",gutters:["CodeMirror-lint-markers"],lintOnChange:!0,matchBrackets:!1,autoCloseBrackets:!0,lineNumbers:!0,lineWrapping:!0,hintOptions:{hint:function(t,e){return n(t)}}}:{mode:"yaml/mustache",theme:"cc",gutters:[],lintOnChange:!1,matchBrackets:!1,autoCloseBrackets:!0,lineNumbers:!1,lineWrapping:!1,extraKeys:{Tab:!1,"Shift-Tab":!1},hintOptions:{hint:function(t,e){return n(t)}}},s=setInterval(function(){if(i.length){if(i.is(":visible")){clearInterval(s);var t=CodeMirror.fromTextArea(i[0],r);t.on("change",function(t){if(i.val(t.getValue()),"createEvent"in document){var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),i[0].dispatchEvent(e)}else i[0].fireEvent("onchange")}),t.on("cursorActivity",function(t,e){CodeMirror.commands.autocomplete(t,null,{completeSingle:!1})}),i.addClass("codeMirror-active"),e&&i.parent().parent().parent().parent().find('div[data-schemaid="requestFormat"]:first select:first').trigger("change")}}else clearInterval(s)},300)}).addClass("codeMirror-checked")}return"datestring"===t.format&&(/^[0-9|yY]{4}-[0-9]{1,2}-[0-9]{1,2}$/.test(e)||/^[0-9]{1,2}-[0-9]{1,2}$/.test(e)||d.push({path:l,property:"format",message:"Dates should be in ISO format as YYYY-MM-DD or MM-DD for repeating dates"})),"date"===t.format&&mQuery("input[name='"+l.replace("root.","root[").split(".").join("][")+"]']:not(.date-checked)").each(function(){Mautic.activateDateTimeInputs(mQuery(this),"date");var i=!1;mQuery(this).on("change",function(t){if(i)i=!1;else if("createEvent"in document){i=!0;var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),mQuery(this)[0].dispatchEvent(e)}else mQuery(this)[0].fireEvent("onchange")})}).addClass("date-checked"),"select"===t.format&&mQuery("select[name='"+l.replace("root.","root[").split(".").join("][")+"]']").each(function(){var i=mQuery(this),n=!1;8<i.children("option").length?i.hasClass("chosen-checked")?i.trigger("chosen:updated"):i.chosen({width:"100%",allow_single_deselect:!1,include_group_label_in_selected:!1,search_contains:!0}).change(function(t){if(n)n=!1;else if(t.stopPropagation(),t.preventDefault(),"createEvent"in document){n=!0;var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),i[0].dispatchEvent(e)}else i[0].fireEvent("onchange")}):i.trigger("chosen:updated")}).addClass("chosen-checked"),"range"===t.format&&mQuery("input[type='range'][name='"+l.replace("root.","root[").split(".").join("][")+"]']:not(.slider-checked)").each(function(){var i=mQuery(this),t=parseInt(mQuery(this).attr("min")),e=parseInt(mQuery(this).attr("max")),n=parseInt(mQuery(this).attr("step")),r=parseInt(mQuery(this).val()),s={min:t,max:e,value:r,step:n};0===t&&100===e&&(s.formatter=function(t){return t+"%"});var o=mQuery('<span class="slidervalue">'+r+"%</span>").insertAfter(i.parent().find("span:first"));new Slider(mQuery(this)[0],s).on("change",function(t){if("createEvent"in document){var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),i[0].dispatchEvent(e)}else i[0].fireEvent("onchange");o.text(t.newValue+"%")})}).addClass("slider-checked"),"string"===t.type&&void 0!==t.options&&void 0!==t.options.notBlank&&!0===t.options.notBlank&&""===e.replace(/^\s+|\s+$/gm,"")&&d.push({path:l,property:"format",message:"This field cannot be left blank"}),"string"===t.type&&void 0!==t.options&&void 0!==t.options.placeholder&&mQuery("input[type='text'][name='"+l.replace("root.","root[").split(".").join("][")+"]']:first:not([placeholder])").each(function(){mQuery(this).prop("placeholder",t.options.placeholder)}),d}),Mautic.mediaCampaigns=function(){var d=mQuery("#media_campaign_settings:first:not(.campaigns-checked)");if(d.length){if(d.addClass("campaigns-checked"),!Mautic.getEntityId())return mQuery("#media-campaigns-empty").removeClass("hide"),void mQuery("#media-campaigns-loading").addClass("hide");mQuery("#media-campaigns-empty").addClass("hide"),mQuery("#media-campaigns-loading").removeClass("hide");var h,u,i={},n={},r={},c=mQuery('select[name="media[provider]"]:first'),t=d.val();mQuery.ajax({showLoadingBar:!0,url:mauticAjaxUrl,type:"POST",data:{action:"plugin:mauticMedia:getCampaignMap",mediaAccountId:Mautic.getEntityId(),provider:c.val(),campaignSettings:t},dataType:"json",cache:!0,error:function(t,e,i){Mautic.processAjaxError(t,e,i)},success:function(t){if(void 0!==t.campaigns&&(i=t.campaigns),void 0!==t.providerCampaigns&&(n=t.providerCampaigns),void 0!==t.providerAccounts&&(r=t.providerAccounts),void 0!==t.campaignSettings){var e=JSON.stringify(t.campaignSettings,null,"  ");d.val(e)}mQuery.ajax({showLoadingBar:!0,dataType:"json",cache:!0,url:mauticBasePath+"/"+mauticAssetPrefix+"plugins/MauticMediaBundle/Assets/json/accountscampaigns.json",success:function(t){Mautic.stopPageLoadingBar();var e=t;i.length&&(e.definitions.campaignId.enumSource[0].source=i),n.length&&(e.definitions.providerCampaignId.enumSource[0].source=n),r.length&&(e.definitions.providerAccountId.enumSource[0].source=r),u=mQuery("<div>",{class:"media_jsoneditor"}).insertBefore(d),h=new JSONEditor(u[0],{schema:e,disable_collapse:!0,disable_array_add:!0,disable_array_reorder:!0,disable_array_delete:!0}),d.change(function(){var t,e=mQuery(this).val();if(e.length)try{"object"==typeof(t=mQuery.parseJSON(e))&&h.setValue(t)}catch(t){console.warn(t)}}).trigger("change"),h.on("change",function(t){var e,i,n,r,s,o=h.getValue(),a=c.val();if("object"==typeof o){var l=JSON.stringify(o,null,"  ");l.length&&d.val(l)}u.find('div[data-schemapath$=".providerAccountId"] .control-label').each(function(){switch(i=mQuery(this).parent().find("select:first").val().replace("act_",""),r=$(this).parent().parent().parent().parent(),s=r.find('input[type="checkbox"][name$="[multiple]"]:first'),a){case"facebook":mQuery(this).html('<a href="https://www.facebook.com/adsmanager/manage/accounts?act='+i+'" target="_blank">Facebook Account '+i+"</a>");break;case"google":mQuery(this).html('<a href="https://adwords.google.com/aw/overview?__e='+i+'" target="_blank">Google Account '+i+"</a>")}var t=0;r.find('div[data-schemapath$=".providerCampaignId"] .control-label').each(function(){switch(t++,n=mQuery(this).parent().find("select:first").val().replace("act_",""),a){case"facebook":mQuery(this).html('<a href="https://www.facebook.com/adsmanager/manage/adsets?act='+i+"&selected_campaign_ids="+n+'" target="_blank">Facebook Campaign '+n+"</a>");break;case"google":mQuery(this).html('<a href="https://adwords.google.com/aw/overview?__e='+i+"&campaignId="+n+'" target="_blank">Google Campaign '+n+"</a>")}}),r.find('div[data-schemapath$=".campaign"] .control-label, div[data-schemapath$=".campaignId"] .control-label').each(function(){"0"!==(e=mQuery(this).parent().find("select:first").val())?mQuery(this).html('<a href="'+mauticBasePath+"/s/campaigns/edit/"+e+'" target="_blank">Internal Campaign '+e+"</a>"):mQuery(this).html('<span class="unmapped">Internal Campaign</span>')}),1<t?s.is(":checked")?(r.addClass("multiple"),r.removeClass("single")):(r.addClass("single"),r.removeClass("multiple")):(r.addClass("single"),r.removeClass("multiple"),s.attr("disabled",!0).parent().parent().parent().addClass("hide"))})}),r.length?mQuery("#media-campaigns-empty").addClass("hide"):mQuery("#media-campaigns-empty").removeClass("hide"),mQuery("#media-campaigns-loading").addClass("hide"),u.show()},error:function(t,e,i){Mautic.processAjaxError(t,e,i)}})}})}},Mautic.mediaAuthorization=function(){var t=mQuery('form[name="media"]:first'),e=t.find('select[name="media[provider]"]:first').val(),i=t.find('input[name="media[account_id]"]:first'),n=t.find('input[name="media[client_id]"]:first'),r=t.find('input[name="media[client_secret]"]:first'),s=t.find('input[name="media[token]"]:first'),o=t.find('input[name="media[refresh_token]"]:first');mQuery.ajax({url:mauticAjaxUrl,type:"POST",data:{action:"plugin:mauticMedia:startAuth",mediaAccountId:Mautic.getEntityId(),provider:e,accountId:i.val(),clientId:n.val(),clientSecret:r.val(),token:s.val(),refreshToken:o.val()},dataType:"json",cache:!1,success:function(t){if(console.log(t),void 0!==t.success&&t.success&&void 0!==t.authUri&&t.authUri){var e=window.open(t.authUri,"_blank","height=200,width=200");window.focus&&e.focus()}},error:function(t,e,i){Mautic.processAjaxError(t,e,i)},complete:function(){mQuery("#media_authButton .fa").addClass("fa-key").removeClass("fa-spin").removeClass("fa-spinner")}})},Mautic.mediaOnLoad=function(){Mautic.mediaProvider(),Mautic.mediaCampaigns();var e="#details";mQuery(".media-tab").click(function(){var t=mQuery(this).attr("href");t!==e&&("#campaigns"===(e=t)?(mQuery(".media-left").addClass("col-md-12").removeClass("col-md-9"),mQuery(".media-right").addClass("hide")):(mQuery(".media-left").removeClass("col-md-12").addClass("col-md-9"),mQuery(".media-right").removeClass("hide")))})};